function merge(){var a={},b=[].slice.call(arguments,0);return b.forEach(function(b){var c;for(c in b)c in a&&Array.isArray(a[c])?a[c]=a[c].concat(b[c]):c in a&&"object"==typeof a[c]?a[c]=merge(a[c],b[c]):a[c]=b[c]}),a}function JSONP(a,b,c,d){a=a||"",b=b||{},c=c||"",d=d||function(){};var e=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b};if("object"==typeof b){for(var f="",g=e(b),h=0;h<g.length;h++)f+=encodeURIComponent(g[h])+"="+encodeURIComponent(b[g[h]]),h!=g.length-1&&(f+="&");a+="?"+f}else"function"==typeof b&&(c=b,d=c);"function"==typeof c&&(d=c,c="callback"),Date.now||(Date.now=function(){return(new Date).getTime()});var i=Date.now(),j="jsonp"+Math.round(i+1000001*Math.random());window[j]=function(a){d(a),delete window[j]},a+=-1===a.indexOf("?")?"?":"&";var k=document.createElement("script");k.setAttribute("src",a+c+"="+j),document.getElementsByTagName("head")[0].appendChild(k)}function objectToQuerystring(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&null!==c&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")}function getDescendantProp(a,b){for(var c=b.split(".");c.length&&a;){var d=c.shift(),e=new RegExp("(.+)\\[([0-9]*)\\]").exec(d);if(null!==e&&3==e.length){var f={arrName:e[1],arrIndex:e[2]};a=void 0!=a[f.arrName]?a[f.arrName][f.arrIndex]:void 0}else a=a[d]}return a}function emsToPixels(a,b){var c=$(a),d=c.find("[data-ruler]");return 0===d.length&&(d=$('<div data-ruler style="position:absolute;top:-9999px;display:block;height:1em;width:0;visibility:hidden;padding:0;margin:0;border:none;overflow:hidden"></div>'),c.append(d)),b*d.height()}function ellipsis(a,b,c){for(var d=$(a),c=c||{},e=c.more||!1,f="undefined"==typeof c.title?!0:c.title,g=c.lineHeight||1.5,h=c.wrapWith||!1,i=emsToPixels(d,1),j=(b*g+.5)*i,k=d.data("original-html")||d.html(),l=d.data("original-text")||d.text(),m=l,n='<a href="javascript:void(0)" class="link" data-toggle-ellipsis>read more</a>';d.outerHeight()>j&&m.match(/\s/);)m=m.replace(/\W*\s(\S)*$/,"..."),d.text(m),e&&d.append(" "+n);h&&d.wrapInner(h),d.data("trimmed-text",m),d.data("original-html",k),f&&d.attr("title",l),d.attr("data-ellipsis-applied",!0)}function toggleEllipsis(a){var b=$(a.target),c=b.parents("[data-ellipsis-applied]"),d=c.data("original-html");c.html(d)}function defaultRenderCompleteActions(a){a=a||$("body"),a.find(".hscroll").hscroll(),a.find(".tabs").tabs(),autosize(a.find("textarea")),"undefined"!=typeof platform&&"ios"==platform&&a.find(".list--form, .ios_list--tableview").each(function(){$(this).closest(".stripe").addClass("stripe--collection")}),"undefined"!=typeof platform&&"android"==platform&&a.find('input[type="radio"], input[type="checkbox"]').each(function(){$(this).closest("label").append('<span class="android-inkdrop"></span>'),console.log("sup")}),a.css({backgroundColor:a.find("[class^=stripe]:last").css("backgroundColor")})}function whichTransitionEvent(){var a,b=document.createElement("fakeelement"),c={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(a in c)if(void 0!==b.style[a])return c[a]}!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.Ractive=b()}(this,function(){"use strict";function a(a){var b;if(a&&"boolean"!=typeof a)return"undefined"!=typeof window&&document&&a?a.nodeType?a:"string"==typeof a&&(b=document.getElementById(a),!b&&document.querySelector&&(b=document.querySelector(a)),b&&b.nodeType)?b:a[0]&&a[0].nodeType?a[0]:null:null}function b(a){return a&&"unknown"!=typeof a.parentNode&&a.parentNode&&a.parentNode.removeChild(a),a}function c(a){return null!=a&&a.toString?a:""}function d(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;b>d;d++)c[d-1]=arguments[d];for(var e,f;f=c.shift();)for(e in f)Bh.call(f,e)&&(a[e]=f[e]);return a}function e(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;b>d;d++)c[d-1]=arguments[d];return c.forEach(function(b){for(var c in b)!b.hasOwnProperty(c)||c in a||(a[c]=b[c])}),a}function f(a){return"[object Array]"===Ch.call(a)}function g(a){return Dh.test(Ch.call(a))}function h(a,b){return null===a&&null===b?!0:"object"==typeof a||"object"==typeof b?!1:a===b}function i(a){return!isNaN(parseFloat(a))&&isFinite(a)}function j(a){return a&&"[object Object]"===Ch.call(a)}function k(a,b){return a.replace(/%s/g,function(){return b.shift()})}function l(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;b>d;d++)c[d-1]=arguments[d];throw a=k(a,c),new Error(a)}function m(){Ut.DEBUG&&yh.apply(null,arguments)}function n(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;b>d;d++)c[d-1]=arguments[d];a=k(a,c),zh(a,c)}function o(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;b>d;d++)c[d-1]=arguments[d];a=k(a,c),Fh[a]||(Fh[a]=!0,zh(a,c))}function p(){Ut.DEBUG&&n.apply(null,arguments)}function q(){Ut.DEBUG&&o.apply(null,arguments)}function r(a,b,c){var d=s(a,b,c);return d?d[a][c]:null}function s(a,b,c){for(;b;){if(c in b[a])return b;if(b.isolated)return null;b=b.parent}}function t(a){return function(){return a}}function u(a){var b,c,d,e,f,g;for(b=a.split("."),(c=Oh[b.length])||(c=v(b.length)),f=[],d=function(a,c){return a?"*":b[c]},e=c.length;e--;)g=c[e].map(d).join("."),f.hasOwnProperty(g)||(f.push(g),f[g]=!0);return f}function v(a){var b,c,d,e,f,g,h,i,j="";if(!Oh[a]){for(d=[];j.length<a;)j+=1;for(b=parseInt(j,2),e=function(a){return"1"===a},f=0;b>=f;f+=1){for(c=f.toString(2);c.length<a;)c="0"+c;for(i=[],h=c.length,g=0;h>g;g++)i.push(e(c[g]));d[f]=i}Oh[a]=d}return Oh[a]}function w(a,b,c,d){var e=a[b];if(!e||!e.equalsOrStartsWith(d)&&e.equalsOrStartsWith(c))return a[b]=e?e.replace(c,d):d,!0}function x(a){var b=a.slice(2);return"i"===a[1]&&i(b)?+b:b}function y(a){return null==a?a:(Rh.hasOwnProperty(a)||(Rh[a]=new Sh(a)),Rh[a])}function z(a,b){function c(b,c){var d,e,g;return c.isRoot?g=[].concat(Object.keys(a.viewmodel.data),Object.keys(a.viewmodel.mappings),Object.keys(a.viewmodel.computations)):(d=a.viewmodel.wrapped[c.str],e=d?d.get():a.viewmodel.get(c),g=e?Object.keys(e):null),g&&g.forEach(function(a){"_ractive"===a&&f(e)||b.push(c.join(a))}),b}var d,e,g;for(d=b.str.split("."),g=[Uh];e=d.shift();)"*"===e?g=g.reduce(c,[]):g[0]===Uh?g[0]=y(e):g=g.map(A(e));return g}function A(a){return function(b){return b.join(a)}}function B(a){return a?a.replace(Ph,".$1"):""}function C(a,b,c){if("string"!=typeof b||!i(c))throw new Error("Bad arguments");var d=void 0,e=void 0;if(/\*/.test(b))return e={},z(a,y(B(b))).forEach(function(b){var d=a.viewmodel.get(b);if(!i(d))throw new Error(Wh);e[b.str]=d+c}),a.set(e);if(d=a.get(b),!i(d))throw new Error(Wh);return a.set(b,+d+c)}function D(a,b){return Vh(this,a,void 0===b?1:+b)}function E(a){this.event=a,this.method="on"+a,this.deprecate=_h[a]}function F(a,b){var c=a.indexOf(b);-1===c&&a.push(b)}function G(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]==b)return!0;return!1}function H(a,b){var c;if(!f(a)||!f(b))return!1;if(a.length!==b.length)return!1;for(c=a.length;c--;)if(a[c]!==b[c])return!1;return!0}function I(a){return"string"==typeof a?[a]:void 0===a?[]:a}function J(a){return a[a.length-1]}function K(a,b){var c=a.indexOf(b);-1!==c&&a.splice(c,1)}function L(a){for(var b=[],c=a.length;c--;)b[c]=a[c];return b}function M(a){setTimeout(a,0)}function N(a,b){return function(){for(var c;c=a.shift();)c(b)}}function O(a,b,c,d){var e;if(b===a)throw new TypeError("A promise's fulfillment handler cannot return the same promise");if(b instanceof ai)b.then(c,d);else if(!b||"object"!=typeof b&&"function"!=typeof b)c(b);else{try{e=b.then}catch(f){return void d(f)}if("function"==typeof e){var g,h,i;h=function(b){g||(g=!0,O(a,b,c,d))},i=function(a){g||(g=!0,d(a))};try{e.call(b,h,i)}catch(f){if(!g)return d(f),void(g=!0)}}else c(b)}}function P(a,b,c){var d;return b=B(b),"~/"===b.substr(0,2)?(d=y(b.substring(2)),S(a,d.firstKey,c)):"."===b[0]?(d=Q(gi(c),b),d&&S(a,d.firstKey,c)):d=R(a,y(b),c),d}function Q(a,b){var c;if(void 0!=a&&"string"!=typeof a&&(a=a.str),"."===b)return y(a);if(c=a?a.split("."):[],"../"===b.substr(0,3)){for(;"../"===b.substr(0,3);){if(!c.length)throw new Error('Could not resolve reference - too many "../" prefixes');c.pop(),b=b.substring(3)}return c.push(b),y(c.join("."))}return y(a?a+b.replace(/^\.\//,"."):b.replace(/^\.\/?/,""))}function R(a,b,c,d){var e,f,g,h,i;if(b.isRoot)return b;for(f=b.firstKey;c;)if(e=c.context,c=c.parent,e&&(h=!0,g=a.viewmodel.get(e),g&&("object"==typeof g||"function"==typeof g)&&f in g))return e.join(b.str);return T(a.viewmodel,f)?b:a.parent&&!a.isolated&&(h=!0,c=a.component.parentFragment,f=y(f),i=R(a.parent,f,c,!0))?(a.viewmodel.map(f,{origin:a.parent.viewmodel,keypath:i}),b):d||h?void 0:(a.viewmodel.set(b,void 0),b)}function S(a,b){var c;!a.parent||a.isolated||T(a.viewmodel,b)||(b=y(b),(c=R(a.parent,b,a.component.parentFragment,!0))&&a.viewmodel.map(b,{origin:a.parent.viewmodel,keypath:c}))}function T(a,b){return""===b||b in a.data||b in a.computations||b in a.mappings}function U(a){a.teardown()}function V(a){a.unbind()}function W(a){a.unrender()}function X(a){a.cancel()}function Y(a){a.detach()}function Z(a){a.detachNodes()}function $(a){!a.ready||a.outros.length||a.outroChildren||(a.outrosComplete||(a.parent?a.parent.decrementOutros(a):a.detachNodes(),a.outrosComplete=!0),a.intros.length||a.totalChildren||("function"==typeof a.callback&&a.callback(),a.parent&&a.parent.decrementTotal()))}function _(){for(var a,b,c;ji.ractives.length;)b=ji.ractives.pop(),c=b.viewmodel.applyChanges(),c&&ni.fire(b,c);for(aa(),a=0;a<ji.views.length;a+=1)ji.views[a].update();for(ji.views.length=0,a=0;a<ji.tasks.length;a+=1)ji.tasks[a]();return ji.tasks.length=0,ji.ractives.length?_():void 0}function aa(){var a,b,c,d;for(a=mi.length;a--;)b=mi[a],b.keypath?mi.splice(a,1):(c=hi(b.root,b.ref,b.parentFragment))&&((d||(d=[])).push({item:b,keypath:c}),mi.splice(a,1));d&&d.forEach(ba)}function ba(a){a.item.resolve(a.keypath)}function ca(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q;if(d=new fi(function(a){return e=a}),"object"==typeof a){c=b||{},i=c.easing,j=c.duration,h=[],k=c.step,l=c.complete,(k||l)&&(n={},c.step=null,c.complete=null,m=function(a){return function(b,c){n[a]=c}});for(f in a)a.hasOwnProperty(f)&&((k||l)&&(o=m(f),c={easing:i,duration:j},k&&(c.step=o)),c.complete=l?o:Eh,h.push(da(this,f,a[f],c)));return q={easing:i,duration:j},k&&(q.step=function(a){return k(a,n)}),l&&d.then(function(a){return l(a,n)}),q.complete=e,p=da(this,null,null,q),h.push(p),d.stop=function(){for(var a;a=h.pop();)a.stop();p&&p.stop()},d}return c=c||{},c.complete&&d.then(c.complete),c.complete=e,g=da(this,a,b,c),d.stop=function(){return g.stop()},d}function da(a,b,c,d){var e,f,g,i;return b&&(b=y(B(b))),null!==b&&(i=a.viewmodel.get(b)),ri.abort(b,a),h(i,c)?(d.complete&&d.complete(d.to),vi):(d.easing&&(e="function"==typeof d.easing?d.easing:a.easing[d.easing],"function"!=typeof e&&(e=null)),f=void 0===d.duration?400:d.duration,g=new ti({keypath:b,from:i,to:c,root:a,duration:f,easing:e,interpolator:d.interpolator,step:d.step,complete:d.complete}),ri.add(g),a._animations.push(g),g)}function ea(){return this.detached?this.detached:(this.el&&K(this.el.__ractive_instances__,this),this.detached=this.fragment.detach(),xi.fire(this),this.detached)}function fa(a){return this.el?this.fragment.find(a):null}function ga(a,b){var c;return c=this._isComponentQuery?!this.selector||a.name===this.selector:a.node?lh(a.node,this.selector):null,c?(this.push(a.node||a.instance),b||this._makeDirty(),!0):void 0}function ha(a){var b;return(b=a.parentFragment)?b.owner:a.component&&(b=a.component.parentFragment)?b.owner:void 0}function ia(a){var b,c;for(b=[a],c=ha(a);c;)b.push(c),c=ha(c);return b}function ja(a,b,c,d){var e=[];return vh(e,{selector:{value:b},live:{value:c},_isComponentQuery:{value:d},_test:{value:zi}}),c?(vh(e,{cancel:{value:Ai},_root:{value:a},_sort:{value:Di},_makeDirty:{value:Ei},_remove:{value:Fi},_dirty:{value:!1,writable:!0}}),e):e}function ka(a,b){var c,d;return this.el?(b=b||{},c=this._liveQueries,(d=c[a])?b&&b.live?d:d.slice():(d=Gi(this,a,!!b.live,!1),d.live&&(c.push(a),c["_"+a]=d),this.fragment.findAll(a,d),d)):[]}function la(a,b){var c,d;return b=b||{},c=this._liveComponentQueries,(d=c[a])?b&&b.live?d:d.slice():(d=Gi(this,a,!!b.live,!0),d.live&&(c.push(a),c["_"+a]=d),this.fragment.findAllComponents(a,d),d)}function ma(a){return this.fragment.findComponent(a)}function na(a){return this.container?this.container.component&&this.container.component.name===a?this.container:this.container.findContainer(a):null}function oa(a){return this.parent?this.parent.component&&this.parent.component.name===a?this.parent:this.parent.findParent(a):null}function pa(a,b){var c=void 0===arguments[2]?{}:arguments[2];if(b){c.event?c.event.name=b:c.event={name:b,_noArg:!0};var d=y(b).wildcardMatches();qa(a,d,c.event,c.args,!0)}}function qa(a,b,c,d){var e,f,g=void 0===arguments[4]?!1:arguments[4],h=!0;for(Ni.enqueue(a,c),f=b.length;f>=0;f--)e=a._subs[b[f]],e&&(h=ra(a,e,c,d)&&h);if(Ni.dequeue(a),a.parent&&h){if(g&&a.component){var i=a.component.name+"."+b[b.length-1];b=y(i).wildcardMatches(),c&&(c.component=a)}qa(a.parent,b,c,d)}}function ra(a,b,c,d){var e=null,f=!1;c&&!c._noArg&&(d=[c].concat(d)),b=b.slice();for(var g=0,h=b.length;h>g;g+=1)b[g].apply(a,d)===!1&&(f=!0);return c&&!c._noArg&&f&&(e=c.original)&&(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()),!f}function sa(a){var b={args:Array.prototype.slice.call(arguments,1)};Oi(this,a,b)}function ta(a){var b;return a=y(B(a)),b=this.viewmodel.get(a,Ri),void 0===b&&this.parent&&!this.isolated&&hi(this,a.str,this.component.parentFragment)&&(b=this.viewmodel.get(a)),b}function ua(b,c){if(!this.fragment.rendered)throw new Error("The API has changed - you must call `ractive.render(target[, anchor])` to render your Ractive instance. Once rendered you can use `ractive.insert()`.");if(b=a(b),c=a(c)||null,!b)throw new Error("You must specify a valid target to insert into");b.insertBefore(this.detach(),c),this.el=b,(b.__ractive_instances__||(b.__ractive_instances__=[])).push(this),this.detached=null,va(this)}function va(a){Ti.fire(a),a.findAllComponents("*").forEach(function(a){va(a.instance)})}function wa(a,b,c){var d,e;return a=y(B(a)),d=this.viewmodel.get(a),f(d)&&f(b)?(e=oi.start(this,!0),this.viewmodel.merge(a,d,b,c),oi.end(),e):this.set(a,b,c&&c.complete)}function xa(a,b){var c,d;return c=z(a,b),d={},c.forEach(function(b){d[b.str]=a.get(b.str)}),d}function ya(a,b,c,d){var e,f,g;b=y(B(b)),d=d||gj,b.isPattern?(e=new ej(a,b,c,d),a.viewmodel.patternObservers.push(e),f=!0):e=new Xi(a,b,c,d),e.init(d.init),a.viewmodel.register(b,e,f?"patternObservers":"observers"),e.ready=!0;var h={cancel:function(){var c;g||(f?(c=a.viewmodel.patternObservers.indexOf(e),a.viewmodel.patternObservers.splice(c,1),a.viewmodel.unregister(b,e,"patternObservers")):a.viewmodel.unregister(b,e,"observers"),g=!0)}};return a._observers.push(h),h}function za(a,b,c){var d,e,f,g;if(j(a)){c=b,e=a,d=[];for(a in e)e.hasOwnProperty(a)&&(b=e[a],d.push(this.observe(a,b,c)));return{cancel:function(){for(;d.length;)d.pop().cancel()}}}if("function"==typeof a)return c=b,b=a,a="",fj(this,a,b,c);if(f=a.split(" "),1===f.length)return fj(this,a,b,c);for(d=[],g=f.length;g--;)a=f[g],a&&d.push(fj(this,a,b,c));return{cancel:function(){for(;d.length;)d.pop().cancel()}}}function Aa(a,b,c){var d=this.observe(a,function(){b.apply(this,arguments),d.cancel()},{init:!1,defer:c&&c.defer});return d}function Ba(a,b){var c,d=this;if(a)c=a.split(" ").map(jj).filter(kj),c.forEach(function(a){var c,e;(c=d._subs[a])&&(b?(e=c.indexOf(b),-1!==e&&c.splice(e,1)):d._subs[a]=[])});else for(a in this._subs)delete this._subs[a];return this}function Ca(a,b){var c,d,e,f=this;if("object"==typeof a){c=[];for(d in a)a.hasOwnProperty(d)&&c.push(this.on(d,a[d]));return{cancel:function(){for(var a;a=c.pop();)a.cancel()}}}return e=a.split(" ").map(jj).filter(kj),e.forEach(function(a){(f._subs[a]||(f._subs[a]=[])).push(b)}),{cancel:function(){return f.off(a,b)}}}function Da(a,b){var c=this.on(a,function(){b.apply(this,arguments),c.cancel()});return c}function Ea(a,b,c){var d,e,f,g,h,i,j=[];if(d=Fa(a,b,c),!d)return null;for(e=a.length,h=d.length-2-d[1],f=Math.min(e,d[0]),g=f+d[1],i=0;f>i;i+=1)j.push(i);for(;g>i;i+=1)j.push(-1);for(;e>i;i+=1)j.push(i+h);return 0!==h?j.touchedFrom=d[0]:j.touchedFrom=a.length,j}function Fa(a,b,c){switch(b){case"splice":for(void 0!==c[0]&&c[0]<0&&(c[0]=a.length+Math.max(c[0],-a.length));c.length<2;)c.push(0);return c[1]=Math.min(c[1],a.length-c[0]),c;case"sort":case"reverse":return null;case"pop":return a.length?[a.length-1,1]:[0,0];case"push":return[a.length,0].concat(c);case"shift":return[0,a.length?1:0];case"unshift":return[0,0].concat(c)}}function Ga(b,c){var d,e,f,g=this;if(f=this.transitionsEnabled,this.noIntro&&(this.transitionsEnabled=!1),d=oi.start(this,!0),oi.scheduleTask(function(){return Aj.fire(g)},!0),this.fragment.rendered)throw new Error("You cannot call ractive.render() on an already rendered instance! Call ractive.unrender() first");if(b=a(b)||this.el,c=a(c)||this.anchor,this.el=b,this.anchor=c,!this.append&&b){var h=b.__ractive_instances__;h&&h.length&&Ha(h),b.innerHTML=""}return this.cssId&&yj.apply(),b&&((e=b.__ractive_instances__)?e.push(this):b.__ractive_instances__=[this],c?b.insertBefore(this.fragment.render(),c):b.appendChild(this.fragment.render())),oi.end(),this.transitionsEnabled=f,d.then(function(){return Bj.fire(g)})}function Ha(a){a.splice(0,a.length).forEach(U)}function Ia(a,b){for(var c=a.slice(),d=b.length;d--;)~c.indexOf(b[d])||c.push(b[d]);return c}function Ja(a,b){var c,d,e;return d='[data-ractive-css~="{'+b+'}"]',e=function(a){var b,c,e,f,g,h,i,j=[];for(b=[];c=Hj.exec(a);)b.push({str:c[0],base:c[1],modifiers:c[2]});for(f=b.map(La),i=b.length;i--;)h=f.slice(),e=b[i],h[i]=e.base+d+e.modifiers||"",g=f.slice(),g[i]=d+" "+g[i],j.push(h.join(" "),g.join(" "));return j.join(", ")},c=Jj.test(a)?a.replace(Jj,d):a.replace(Gj,"").replace(Fj,function(a,b){var c,d;return Ij.test(b)?a:(c=b.split(",").map(Ka),d=c.map(e).join(", ")+" ",a.replace(b,d))})}function Ka(a){return a.trim?a.trim():a.replace(/^\s+/,"").replace(/\s+$/,"")}function La(a){return a.str}function Ma(a){a&&a.constructor!==Object&&("function"==typeof a||("object"!=typeof a?l("data option must be an object or a function, `"+a+"` is not valid"):p("If supplied, options.data should be a plain JavaScript object - using a non-POJO as the root object may work, but is discouraged")))}function Na(a,b){Ma(b);var c="function"==typeof a,d="function"==typeof b;return b||c||(b={}),c||d?function(){var e=d?Oa(b,this):b,f=c?Oa(a,this):a;return Pa(e,f)}:Pa(b,a)}function Oa(a,b){var c=a.call(b);if(c)return"object"!=typeof c&&l("Data function must return an object"),c.constructor!==Object&&q("Data function returned something other than a plain JavaScript object. This might work, but is strongly discouraged"),c}function Pa(a,b){if(a&&b){for(var c in b)c in a||(a[c]=b[c]);return a}return a||b}function Qa(a){var b,c,d;return a.matchString("=")?(b=a.pos,a.allowWhitespace(),(c=a.matchPattern(Gk))?a.matchPattern(Hk)?(d=a.matchPattern(Gk))?(a.allowWhitespace(),a.matchString("=")?[c,d]:(a.pos=b,null)):(a.pos=b,null):null:(a.pos=b,null)):null}function Ra(a){var b;return(b=a.matchPattern(Jk))?{t:nk,v:b}:null}function Sa(a){var b,c;if(a.interpolate[a.inside]===!1)return null;for(c=0;c<a.tags.length;c+=1)if(b=Ta(a,a.tags[c]))return b}function Ta(a,b){var c,d,e,f;if(c=a.pos,a.matchString("\\"+b.open)){if(0===c||"\\"!==a.str[c-1])return b.open}else if(!a.matchString(b.open))return null;if(d=Fk(a))return a.matchString(b.close)?(b.open=d[0],b.close=d[1],a.sortMustacheTags(),Lk):null;if(a.allowWhitespace(),a.matchString("/")){a.pos-=1;var g=a.pos;Ik(a)?a.pos=g:(a.pos=g-b.close.length,a.error("Attempted to close a section that wasn't open"))}for(f=0;f<b.readers.length;f+=1)if(e=b.readers[f],d=e(a,b))return b.isStatic&&(d.s=!0),a.includeLinePositions&&(d.p=a.getLinePos(c)),d;return a.pos=c,null}function Ua(a){var b;return(b=a.matchPattern(Pk))?{t:ik,v:b}:null}function Va(a){var b=a.remaining();return"true"===b.substr(0,4)?(a.pos+=4,{t:mk,v:"true"}):"false"===b.substr(0,5)?(a.pos+=5,{t:mk,v:"false"}):null}function Wa(a){var b;return(b=Wk(a))?Zk.test(b.v)?b.v:'"'+b.v.replace(/"/g,'\\"')+'"':(b=Ok(a))?b.v:(b=a.matchPattern(Xk))?b:void 0}function Xa(a){var b,c,d;return b=a.pos,a.allowWhitespace(),c=Yk(a),null===c?(a.pos=b,null):(a.allowWhitespace(),a.matchString(":")?(a.allowWhitespace(),d=Bl(a),null===d?(a.pos=b,null):{t:pk,k:c,v:d}):(a.pos=b,null))}function Ya(a){var b,c,d,e;return b=a.pos,d=$k(a),null===d?null:(c=[d],a.matchString(",")?(e=Ya(a),e?c.concat(e):(a.pos=b,null)):c)}function Za(a){function b(a){d.push(a)}var c,d,e,f;return c=a.pos,a.allowWhitespace(),e=Bl(a),null===e?null:(d=[e],a.allowWhitespace(),a.matchString(",")&&(f=Za(a),null===f&&a.error(Mk),f.forEach(b)),d)}function $a(a){return Ok(a)||Qk(a)||Wk(a)||al(a)||cl(a)||Ik(a)}function _a(a){var b,c,d,e,f,g;return b=a.pos,d=a.matchPattern(/^@(?:keypath|index|key)/),d||(c=a.matchPattern(fl)||"",d=!c&&a.relaxedNames&&a.matchPattern(jl)||a.matchPattern(il),d||"."!==c||(c="",d=".")),d?c||a.relaxedNames||!Sk.test(d)?!c&&Rk.test(d)?(e=Rk.exec(d)[0],a.pos=b+e.length,{t:ok,v:e}):(f=(c||"")+B(d),a.matchString("(")&&(g=f.lastIndexOf("."),-1!==g?(f=f.substr(0,g),a.pos=b+f.length):a.pos-=1),{t:qk,n:f.replace(/^this\./,"./").replace(/^this$/,".")}):(a.pos=b,null):null}function ab(a){var b,c;return b=a.pos,a.matchString("(")?(a.allowWhitespace(),c=Bl(a),c||a.error(Mk),a.allowWhitespace(),a.matchString(")")||a.error(Nk),{t:uk,x:c}):null}function bb(a){var b,c,d;if(b=a.pos,a.allowWhitespace(),a.matchString(".")){if(a.allowWhitespace(),c=a.matchPattern(Xk))return{t:rk,n:c};a.error("Expected a property name")}return a.matchString("[")?(a.allowWhitespace(),d=Bl(a),d||a.error(Mk),a.allowWhitespace(),a.matchString("]")||a.error("Expected ']'"),{t:rk,x:d}):null}function cb(a){var b,c,d,e;return(c=zl(a))?(b=a.pos,a.allowWhitespace(),a.matchString("?")?(a.allowWhitespace(),d=Bl(a),d||a.error(Mk),a.allowWhitespace(),a.matchString(":")||a.error('Expected ":"'),a.allowWhitespace(),e=Bl(a),e||a.error(Mk),{t:vk,o:[c,d,e]}):(a.pos=b,c)):null}function db(a){return Al(a)}function eb(a){function b(a){switch(a.t){case mk:case ok:case ik:case nk:return a.v;case jk:return JSON.stringify(String(a.v));case kk:return"["+(a.m?a.m.map(b).join(","):"")+"]";case lk:return"{"+(a.m?a.m.map(b).join(","):"")+"}";case pk:return a.k+":"+b(a.v);case tk:return("typeof"===a.s?"typeof ":a.s)+b(a.o);case wk:return b(a.o[0])+("in"===a.s.substr(0,2)?" "+a.s+" ":a.s)+b(a.o[1]);case xk:return b(a.x)+"("+(a.o?a.o.map(b).join(","):"")+")";case uk:return"("+b(a.x)+")";case sk:return b(a.x)+b(a.r);case rk:return a.n?"."+a.n:"["+b(a.x)+"]";case vk:return b(a.o[0])+"?"+b(a.o[1])+":"+b(a.o[2]);case qk:return"_"+c.indexOf(a.n);default:throw new Error("Expected legal JavaScript")}}var c;return fb(a,c=[]),{r:c,s:b(a)}}function fb(a,b){var c,d;if(a.t===qk&&-1===b.indexOf(a.n)&&b.unshift(a.n),d=a.o||a.m)if(j(d))fb(d,b);else for(c=d.length;c--;)fb(d[c],b);a.x&&fb(a.x,b),a.r&&fb(a.r,b),a.v&&fb(a.v,b)}function gb(a,b){var c;if(a){for(;a.t===uk&&a.x;)a=a.x;return a.t===qk?b.r=a.n:a.t===ik&&El.test(a.v)?b.r=a.v:(c=hb(a))?b.rx=c:b.x=Cl(a),b}}function hb(a){for(var b,c=[];a.t===sk&&a.r.t===rk;)b=a.r,b.x?b.x.t===qk?c.unshift(b.x):c.unshift(Cl(b.x)):c.unshift(b.n),a=a.x;return a.t!==qk?null:{r:a.n,m:c}}function ib(a,b){var c,d=Bl(a);return d?(a.matchString(b.close)||a.error("Expected closing delimiter '"+b.close+"'"),c={t:Wj},Dl(d,c),c):null}function jb(a,b){var c,d;return a.matchString("&")?(a.allowWhitespace(),(c=Bl(a))?(a.matchString(b.close)||a.error("Expected closing delimiter '"+b.close+"'"),d={t:Wj},Dl(c,d),d):null):null}function kb(a,b){var c,d,e,f,g;return c=a.pos,a.matchString(">")?(a.allowWhitespace(),d=a.pos,a.relaxedNames=!0,e=Bl(a),a.relaxedNames=!1,a.allowWhitespace(),f=Bl(a),a.allowWhitespace(),e?(g={t:_j},Dl(e,g),a.allowWhitespace(),f&&(g={t:Xj,n:Bk,f:[g]},Dl(f,g)),a.matchString(b.close)||a.error("Expected closing delimiter '"+b.close+"'"),g):null):null}function lb(a,b){var c;return a.matchString("!")?(c=a.remaining().indexOf(b.close),-1!==c?(a.pos+=c+b.close.length,{t:ak}):void 0):null}function mb(a,b){var c,d,e;if(c=a.pos,d=Bl(a),!d)return null;for(e=0;e<b.length;e+=1)if(a.remaining().substr(0,b[e].length)===b[e])return d;return a.pos=c,el(a)}function nb(a,b){var c,d,e,f;c=a.pos;try{d=Jl(a,[b.close])}catch(g){f=g}if(!d){if("!"===a.str.charAt(c))return a.pos=c,null;if(f)throw f}if(!a.matchString(b.close)&&(a.error("Expected closing delimiter '"+b.close+"' after reference"),!d)){if("!"===a.nextChar())return null;a.error("Expected expression or legal reference")}return e={t:Vj},Dl(d,e),e}function ob(a,b){var c,d,e;return a.matchPattern(Ml)?(c=a.pos,d=a.matchPattern(/^[a-zA-Z_$][a-zA-Z_$0-9\-]*/),a.allowWhitespace(),a.matchString(b.close)||a.error("expected legal partial name"),e={t:fk},d&&(e.n=d),e):null}function pb(a,b){var c,d,e,f;return c=a.pos,a.matchString(b.open)?(a.allowWhitespace(),a.matchString("/")?(a.allowWhitespace(),d=a.remaining(),e=d.indexOf(b.close),-1!==e?(f={t:Zj,r:d.substr(0,e).split(" ")[0]},a.pos+=e,a.matchString(b.close)||a.error("Expected closing delimiter '"+b.close+"'"),f):(a.pos=c,null)):(a.pos=c,null)):null}function qb(a,b){var c=a.pos;return a.matchString(b.open)?a.matchPattern(Pl)?(a.matchString(b.close)||a.error("Expected closing delimiter '"+b.close+"'"),{t:Dk}):(a.pos=c,null):null}function rb(a,b){var c,d=a.pos;return a.matchString(b.open)?a.matchPattern(Rl)?(c=Bl(a),a.matchString(b.close)||a.error("Expected closing delimiter '"+b.close+"'"),{t:Ek,x:c}):(a.pos=d,null):null}function sb(a,b){var c,d,e,f,g,h,i,j,k,l,m,n;if(c=a.pos,a.matchString("^"))e={t:Xj,f:[],n:zk};else{if(!a.matchString("#"))return null;e={t:Xj,f:[]},a.matchString("partial")&&(a.pos=c-a.standardDelimiters[0].length,a.error("Partial definitions can only be at the top level of the template, or immediately inside components")),(i=a.matchPattern(Wl))&&(n=i,e.n=Sl[i])}if(a.allowWhitespace(),d=Bl(a),d||a.error("Expected expression"),m=a.matchPattern(Ul)){var o=void 0;(o=a.matchPattern(Vl))?e.i=m+","+o:e.i=m}a.allowWhitespace(),a.matchString(b.close)||a.error("Expected closing delimiter '"+b.close+"'"),a.sectionDepth+=1,g=e.f,k=[];do if(f=Nl(a,b))n&&f.r!==n&&a.error("Expected "+b.open+"/"+n+b.close),a.sectionDepth-=1,l=!0;else if(f=Ql(a,b))e.n===zk&&a.error("{{else}} not allowed in {{#unless}}"),h&&a.error("illegal {{elseif...}} after {{else}}"),j||(j=tb(d,e.n)),j.f.push({t:Xj,n:yk,x:Cl(vb(k.concat(f.x))),f:g=[]}),k.push(ub(f.x));else if(f=Ol(a,b))e.n===zk&&a.error("{{else}} not allowed in {{#unless}}"),h&&a.error("there can only be one {{else}} block, at the end of a section"),h=!0,j?j.f.push({t:Xj,n:yk,x:Cl(vb(k)),f:g=[]}):(j=tb(d,e.n),g=j.f);else{if(f=a.read($m),!f)break;g.push(f)}while(!l);return j&&(e.n===Bk&&(e.n=Ck),e.l=j),Dl(d,e),e.f.length||delete e.f,e}function tb(a,b){var c;return b===Bk?(c={t:Xj,n:yk,f:[]},Dl(ub(a),c)):(c={t:Xj,n:zk,f:[]},Dl(a,c)),c}function ub(a){return a.t===tk&&"!"===a.s?a.o:{t:tk,s:"!",o:wb(a)}}function vb(a){return 1===a.length?a[0]:{t:wk,s:"&&",o:[wb(a[0]),wb(vb(a.slice(1)))]}}function wb(a){return{t:uk,x:a}}function xb(a){var b,c,d,e,f;return b=a.pos,a.matchString(Yl)?(d=a.remaining(),e=d.indexOf(Zl),-1===e&&a.error("Illegal HTML - expected closing comment sequence ('-->')"),c=d.substr(0,e),a.pos+=e+3,f={t:ak,c:c},a.includeLinePositions&&(f.p=a.getLinePos(b)),f):null}function yb(a){return a.replace(vl,function(a,b){var c;return c="#"!==b[0]?tl[b]:"x"===b[1]?parseInt(b.substring(2),16):parseInt(b.substring(1),10),c?String.fromCharCode(zb(c)):a})}function zb(a){return a?10===a?32:128>a?a:159>=a?ul[a-128]:55296>a?a:57343>=a?65533:65535>=a?a:65533:65533}function Ab(a){return a.replace(yl,"&amp;").replace(wl,"&lt;").replace(xl,"&gt;")}function Bb(a){return"string"==typeof a}function Cb(a){return a.t===ak||a.t===bk}function Db(a){return(a.t===Xj||a.t===Yj)&&a.f}function Eb(a,b,c,d,e){var g,h,i,j,k,l,m,n;for(hm(a),g=a.length;g--;)h=a[g],h.exclude?a.splice(g,1):b&&h.t===ak&&a.splice(g,1);for(im(a,d?mm:null,e?nm:null),g=a.length;g--;){if(h=a[g],h.f){var o=h.t===$j&&lm.test(h.e);k=c||o,!c&&o&&im(h.f,om,pm),k||(i=a[g-1],j=a[g+1],(!i||"string"==typeof i&&nm.test(i))&&(l=!0),(!j||"string"==typeof j&&mm.test(j))&&(m=!0)),Eb(h.f,b,k,l,m)}if(h.l&&(Eb(h.l.f,b,c,l,m),a.splice(g+1,0,h.l),delete h.l),h.a)for(n in h.a)h.a.hasOwnProperty(n)&&"string"!=typeof h.a[n]&&Eb(h.a[n],b,c,l,m);if(h.m&&Eb(h.m,b,c,l,m),h.v)for(n in h.v)h.v.hasOwnProperty(n)&&(f(h.v[n].n)&&Eb(h.v[n].n,b,c,l,m),f(h.v[n].d)&&Eb(h.v[n].d,b,c,l,m))}for(g=a.length;g--;)"string"==typeof a[g]&&("string"==typeof a[g+1]&&(a[g]=a[g]+a[g+1],a.splice(g+1,1)),c||(a[g]=a[g].replace(km," ")),""===a[g]&&a.splice(g,1))}function Fb(a){var b,c;return b=a.pos,a.matchString("</")?(c=a.matchPattern(rm))?a.inside&&c!==a.inside?(a.pos=b,null):{t:dk,e:c}:(a.pos-=2,void a.error("Illegal closing tag")):null}function Gb(a){var b,c,d;return a.allowWhitespace(),(c=a.matchPattern(um))?(b={name:c},d=Hb(a),null!=d&&(b.value=d),b):null}function Hb(a){var b,c,d,e;return b=a.pos,/[=\/>\s]/.test(a.nextChar())||a.error("Expected `=`, `/`, `>` or whitespace"),a.allowWhitespace(),a.matchString("=")?(a.allowWhitespace(),c=a.pos,d=a.sectionDepth,e=Kb(a,"'")||Kb(a,'"')||Jb(a),null===e&&a.error("Expected valid attribute value"),a.sectionDepth!==d&&(a.pos=c,a.error("An attribute value must contain as many opening section tags as closing section tags")),e.length?1===e.length&&"string"==typeof e[0]?yb(e[0]):e:""):(a.pos=b,null)}function Ib(a){var b,c,d,e,f;return b=a.pos,(c=a.matchPattern(vm))?(d=c,e=a.tags.map(function(a){return a.open}),-1!==(f=sm(d,e))&&(c=c.substr(0,f),a.pos=b+c.length),c):null}function Jb(a){var b,c;for(a.inAttribute=!0,b=[],c=Kk(a)||Ib(a);null!==c;)b.push(c),c=Kk(a)||Ib(a);return b.length?(a.inAttribute=!1,b):null}function Kb(a,b){var c,d,e;if(c=a.pos,!a.matchString(b))return null;for(a.inAttribute=b,d=[],e=Kk(a)||Lb(a,b);null!==e;)d.push(e),e=Kk(a)||Lb(a,b);return a.matchString(b)?(a.inAttribute=!1,d):(a.pos=c,null)}function Lb(a,b){var c,d,e,f;return c=a.pos,e=a.remaining(),f=a.tags.map(function(a){return a.open}),f.push(b),d=sm(e,f),-1===d&&a.error("Quoted attribute value must have a closing quote"),d?(a.pos+=d,e.substr(0,d)):null}function Mb(a){var b,c,d;return a.allowWhitespace(),(b=Yk(a))?(d={key:b},a.allowWhitespace(),a.matchString(":")?(a.allowWhitespace(),(c=a.read())?(d.value=c.v,d):null):null):null}function Nb(a,b){var c,d,e,f,g,h,i,j,k;if("string"==typeof a){if(d=zm.exec(a)){var l=a.lastIndexOf(")");return Am.test(a)||b.error("Invalid input after method call expression '"+a.slice(l+1)+"'"),c={m:d[1]},f="["+a.slice(c.m.length+1,l)+"]",e=new wm(f),c.a=Cl(e.result[0]),c}if(-1===a.indexOf(":"))return a.trim();a=[a]}if(c={},i=[],j=[],a){for(;a.length;)if(g=a.shift(),"string"==typeof g){if(h=g.indexOf(":"),-1!==h){h&&i.push(g.substr(0,h)),g.length>h+1&&(j[0]=g.substring(h+1));break}i.push(g)}else i.push(g);j=j.concat(a)}return i.length?j.length||"string"!=typeof i?(c={n:1===i.length&&"string"==typeof i[0]?i[0]:i},1===j.length&&"string"==typeof j[0]?(k=xm("["+j[0]+"]"),c.a=k?k.value:j[0].trim()):c.d=j):c=i:c="",c}function Ob(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q;if(b=a.pos,a.inside||a.inAttribute)return null;if(!a.matchString("<"))return null;if("/"===a.nextChar())return null;if(c={},a.includeLinePositions&&(c.p=a.getLinePos(b)),a.matchString("!"))return c.t=hk,a.matchPattern(/^doctype/i)||a.error("Expected DOCTYPE declaration"),c.a=a.matchPattern(/^(.+?)>/),c;if(c.t=$j,c.e=a.matchPattern(Cm),!c.e)return null;for(Dm.test(a.nextChar())||a.error("Illegal tag name"),f=function(b,d){var e=d.n||d;Gm.test(e)&&(a.pos-=e.length,a.error("Cannot use reserved event names (change, reset, teardown, update, construct, config, init, render, unrender, detach, insert)")),
c.v[b]=d},a.allowWhitespace();g=Kk(a)||tm(a);)g.name?(d=Hm[g.name])?c[d]=ym(g.value,a):(e=Fm.exec(g.name))?(c.v||(c.v={}),h=ym(g.value,a),f(e[1],h)):a.sanitizeEventAttributes&&Em.test(g.name)||(c.a||(c.a={}),c.a[g.name]=g.value||(""===g.value?"":0)):(c.m||(c.m=[]),c.m.push(g)),a.allowWhitespace();if(a.allowWhitespace(),a.matchString("/")&&(i=!0),!a.matchString(">"))return null;var r=c.e.toLowerCase(),s=a.preserveWhitespace;if(!i&&!sl.test(c.e)){a.elementStack.push(r),("script"===r||"style"===r)&&(a.inside=r),j=[],k=th(null);do if(o=a.pos,p=a.remaining(),Pb(r,p))if(q=qm(a)){n=!0;var t=q.e.toLowerCase();if(t!==r&&(a.pos=o,!~a.elementStack.indexOf(t))){var u="Unexpected closing tag";sl.test(t)&&(u+=" (<"+t+"> is a void element - it cannot contain children)"),a.error(u)}}else(m=Nl(a,{open:a.standardDelimiters[0],close:a.standardDelimiters[1]}))?(n=!0,a.pos=o):(m=a.read(_m))?(k[m.n]&&(a.pos=o,a.error("Duplicate partial definition")),jm(m.f,a.stripComments,s,!s,!s),k[m.n]=m.f,l=!0):(m=a.read($m))?j.push(m):n=!0;else n=!0;while(!n);j.length&&(c.f=j),l&&(c.p=k),a.elementStack.pop()}return a.inside=null,a.sanitizeElements&&-1!==a.sanitizeElements.indexOf(r)?Im:c}function Pb(a,b){var c,d;return c=/^<([a-zA-Z][a-zA-Z0-9]*)/.exec(b),d=Bm[a],c&&d?!~d.indexOf(c[1].toLowerCase()):!0}function Qb(a){var b,c,d,e;return c=a.remaining(),e=a.inside?"</"+a.inside:"<",a.inside&&!a.interpolate[a.inside]?b=c.indexOf(e):(d=a.tags.map(function(a){return a.open}),d=d.concat(a.tags.map(function(a){return"\\"+a.open})),a.inAttribute===!0?d.push('"',"'","=","<",">","`"):a.inAttribute?d.push(a.inAttribute):d.push(e),b=sm(c,d)),b?(-1===b&&(b=c.length),a.pos+=b,a.inside?c.substr(0,b):yb(c.substr(0,b))):null}function Rb(a){return a.replace(Nm,"\\$&")}function Sb(a){var b=a.pos,c=a.standardDelimiters[0],d=a.standardDelimiters[1],e=void 0,f=void 0;if(!a.matchPattern(Pm)||!a.matchString(c))return a.pos=b,null;var g=a.matchPattern(Qm);if(q("Inline partial comments are deprecated.\nUse this...\n  {{#partial "+g+"}} ... {{/partial}}\n\n...instead of this:\n  <!-- {{>"+g+"}} --> ... <!-- {{/"+g+"}} -->'"),!a.matchString(d)||!a.matchPattern(Rm))return a.pos=b,null;e=[];var h=new RegExp("^<!--\\s*"+Mm(c)+"\\s*\\/\\s*"+g+"\\s*"+Mm(d)+"\\s*-->");do a.matchPattern(h)?f=!0:(Jm=a.read($m),Jm||a.error("expected closing comment ('<!-- "+c+"/"+g+d+" -->')"),e.push(Jm));while(!f);return{t:gk,f:e,n:g}}function Tb(a){var b,c,d,e,f;b=a.pos;var g=a.standardDelimiters;if(!a.matchString(g[0]))return null;if(!a.matchPattern(Tm))return a.pos=b,null;c=a.matchPattern(/^[a-zA-Z_$][a-zA-Z_$0-9\-]*/),c||a.error("expected legal partial name"),a.matchString(g[1])||a.error("Expected closing delimiter '"+g[1]+"'"),d=[];do(e=Nl(a,{open:a.standardDelimiters[0],close:a.standardDelimiters[1]}))?("partial"===!e.r&&a.error("Expected "+g[0]+"/partial"+g[1]),f=!0):(e=a.read($m),e||a.error("Expected "+g[0]+"/partial"+g[1]),d.push(e));while(!f);return{t:gk,n:c,f:d}}function Ub(a){for(var b=[],c=th(null),d=!1,e=a.preserveWhitespace;a.pos<a.str.length;){var f=a.pos,g=void 0,h=void 0;(h=a.read(_m))?(c[h.n]&&(a.pos=f,a.error("Duplicated partial definition")),jm(h.f,a.stripComments,e,!e,!e),c[h.n]=h.f,d=!0):(g=a.read($m))?b.push(g):a.error("Unexpected template content")}var i={v:fh,t:b};return d&&(i.p=c),i}function Vb(a,b){return new Zm(a,b||{}).result}function Wb(a){var b=th(en);return b.parse=function(b,c){return Xb(b,c||a)},b}function Xb(a,b){if(!Vm)throw new Error("Missing Ractive.parse - cannot parse template. Either preparse or use the version that includes the parser");return Vm(a,b||this.options)}function Yb(a,b){var c;if(!$g){if(b&&b.noThrow)return;throw new Error("Cannot retrieve template #"+a+" as Ractive is not running in a browser.")}if(Zb(a)&&(a=a.substring(1)),!(c=document.getElementById(a))){if(b&&b.noThrow)return;throw new Error("Could not find template element with id #"+a)}if("SCRIPT"!==c.tagName.toUpperCase()){if(b&&b.noThrow)return;throw new Error("Template element with id #"+a+", must be a <script> element")}return"textContent"in c?c.textContent:c.innerHTML}function Zb(a){return a&&"#"===a[0]}function $b(a){return!("string"==typeof a)}function _b(a){return a.defaults&&(a=a.defaults),dn.reduce(function(b,c){return b[c]=a[c],b},{})}function ac(a){var b,c=a._config.template;if(c&&c.fn)return b=bc(a,c.fn),b!==c.result?(c.result=b,b=dc(b,a)):void 0}function bc(a,b){var c=cc(fn.getParseOptions(a));return b.call(a,c)}function cc(a){var b=th(fn);return b.parse=function(b,c){return fn.parse(b,c||a)},b}function dc(a,b){if("string"==typeof a)"#"===a[0]&&(a=fn.fromId(a)),a=Vm(a,fn.getParseOptions(b));else{if(void 0==a)throw new Error("The template cannot be "+a+".");if("number"!=typeof a.v)throw new Error("The template parser was passed a non-string template, but the template doesn't have a version.  Make sure you're passing in the template you think you are.");if(a.v!==fh)throw new Error("Mismatched template version (expected "+fh+", got "+a.v+") Please ensure you are using the latest version of Ractive.js in your build process as well as in your app")}return a}function ec(a,b,c){if(b)for(var d in b)(c||!a.hasOwnProperty(d))&&(a[d]=b[d])}function fc(a,b,c){if(!/_super/.test(c))return c;var d=function(){var a,e=gc(d._parent,b),f="_super"in this,g=this._super;return this._super=e,a=c.apply(this,arguments),f?this._super=g:delete this._super,a};return d._parent=a,d._method=c,d}function gc(a,b){var c,d;return b in a?(c=a[b],d="function"==typeof c?c:function(){return c}):d=Eh,d}function hc(a,b,c){return"options."+a+" has been deprecated in favour of options."+b+"."+(c?" You cannot specify both options, please use options."+b+".":"")}function ic(a,b,c){if(b in a){if(c in a)throw new Error(hc(b,c,!0));p(hc(b,c)),a[c]=a[b]}}function jc(a){ic(a,"beforeInit","onconstruct"),ic(a,"init","onrender"),ic(a,"complete","oncomplete"),ic(a,"eventDefinitions","events"),f(a.adaptors)&&ic(a,"adaptors","adapt")}function kc(a,b,c,d){rn(d);for(var e in d)if(on.hasOwnProperty(e)){var f=d[e];"el"!==e&&"function"==typeof f?p(""+e+" is a Ractive option that does not expect a function and will be ignored","init"===a?c:null):c[e]=f}pn.forEach(function(e){e[a](b,c,d)}),Dj[a](b,c,d),hn[a](b,c,d),Mj[a](b,c,d),lc(b.prototype,c,d)}function lc(a,b,c){for(var d in c)if(!nn[d]&&c.hasOwnProperty(d)){var e=c[d];"function"==typeof e&&(e=qn(a,d,e)),b[d]=e}}function mc(a){var b={};return a.forEach(function(a){return b[a]=!0}),b}function nc(){this.dirtyValue=this.dirtyArgs=!0,this.bound&&"function"==typeof this.owner.bubble&&this.owner.bubble()}function oc(){var a;return 1===this.items.length?this.items[0].detach():(a=document.createDocumentFragment(),this.items.forEach(function(b){var c=b.detach();c&&a.appendChild(c)}),a)}function pc(a){var b,c,d,e;if(this.items){for(c=this.items.length,b=0;c>b;b+=1)if(d=this.items[b],d.find&&(e=d.find(a)))return e;return null}}function qc(a,b){var c,d,e;if(this.items)for(d=this.items.length,c=0;d>c;c+=1)e=this.items[c],e.findAll&&e.findAll(a,b);return b}function rc(a,b){var c,d,e;if(this.items)for(d=this.items.length,c=0;d>c;c+=1)e=this.items[c],e.findAllComponents&&e.findAllComponents(a,b);return b}function sc(a){var b,c,d,e;if(this.items){for(b=this.items.length,c=0;b>c;c+=1)if(d=this.items[c],d.findComponent&&(e=d.findComponent(a)))return e;return null}}function tc(a){var b,c=a.index;return b=this.items[c+1]?this.items[c+1].firstNode():this.owner===this.root?this.owner.component?this.owner.component.findNextNode():null:this.owner.findNextNode(this)}function uc(){return this.items&&this.items[0]?this.items[0].firstNode():null}function vc(a,b,c,d){return d=d||0,a.map(function(a){var e,f,g;return a.text?a.text:a.fragments?a.fragments.map(function(a){return vc(a.items,b,c,d)}).join(""):(e=c+"-"+d++,g=a.keypath&&(f=a.root.viewmodel.wrapped[a.keypath.str])?f.value:a.getValue(),b[e]=g,"${"+e+"}")}).join("")}function wc(){var a,b,c,d;return this.dirtyArgs&&(b=Bn(this.items,a={},this.root._guid),c=xm("["+b+"]",a),d=c?c.value:[this.toString()],this.argsList=d,this.dirtyArgs=!1),this.argsList}function xc(){var a=this;do if(a.pElement)return a.pElement.node;while(a=a.parent);return this.root.detached||this.root.el}function yc(){var a,b,c,d;return this.dirtyValue&&(b=Bn(this.items,a={},this.root._guid),c=xm(b,a),d=c?c.value:this.toString(),this.value=d,this.dirtyValue=!1),this.value}function zc(){this.registered&&this.root.viewmodel.unregister(this.keypath,this),this.resolver&&this.resolver.unbind()}function Ac(){return this.value}function Bc(a,b){for(var c,d=0;d<b.prop.length;d++)if(void 0!==(c=a[b.prop[d]]))return c}function Cc(a,b){var c,d,e,f,g,h={},i=!1;for(b||(h.refs=c={});a;){if((g=a.owner)&&(d=g.indexRefs)){if(b&&(e=g.getIndexRef(b)))return h.ref={fragment:a,ref:e},h;if(!b)for(f in d)e=d[f],c[e.n]||(i=!0,c[e.n]={fragment:a,ref:e})}!a.parent&&a.owner&&a.owner.component&&a.owner.component.parentFragment&&!a.owner.component.instance.isolated?(h.componentBoundary=!0,a=a.owner.component.parentFragment):a=a.parent}return i?h:void 0}function Dc(a,b,c){var d;return"@"===b.charAt(0)?new On(a,b,c):(d=Rn(a.parentFragment,b))?new Qn(a,d,c):new Ln(a,b,c)}function Ec(a,b){var c,d;if(Vn[a])return Vn[a];for(d=[];b--;)d[b]="_"+b;return c=new Function(d.join(","),"return("+a+")"),Vn[a]=c,c}function Fc(a){return a.call()}function Gc(a,b){return a.replace(/_([0-9]+)/g,function(a,c){var d,e;return+c>=b.length?"_"+c:(d=b[c],void 0===d?"undefined":d.isSpecial?(e=d.value,"number"==typeof e?e:'"'+e+'"'):d.str)})}function Hc(a){return y("${"+a.replace(/[\.\[\]]/g,"-").replace(/\*/,"#MUL#")+"}")}function Ic(a){return void 0!==a&&"@"!==a[0]}function Jc(a,b){var c,d,e;if(a.__ractive_nowrap)return a;if(d="__ractive_"+b._guid,c=a[d])return c;if(/this/.test(a.toString())){uh(a,d,{value:Wn.call(a,b),configurable:!0});for(e in a)a.hasOwnProperty(e)&&(a[d][e]=a[e]);return b._boundFunctions.push({fn:a,prop:d}),a[d]}return uh(a,"__ractive_nowrap",{value:a}),a.__ractive_nowrap}function Kc(a){return a.value}function Lc(a){return void 0!=a}function Mc(a){a.forceResolution()}function Nc(a,b){function c(b){a.resolve(b)}function d(b){var c=a.keypath;b!=c&&(a.resolve(b),void 0!==c&&a.fragments&&a.fragments.forEach(function(a){a.rebind(c,b)}))}var e,f,g;f=b.parentFragment,g=b.template,a.root=f.root,a.parentFragment=f,a.pElement=f.pElement,a.template=b.template,a.index=b.index||0,a.isStatic=b.template.s,a.type=b.template.t,a.registered=!1,(e=g.r)&&(a.resolver=Tn(a,e,c)),b.template.x&&(a.resolver=new Xn(a,f,b.template.x,d)),b.template.rx&&(a.resolver=new _n(a,b.template.rx,d)),a.template.n!==zk||a.hasOwnProperty("value")||a.setValue(void 0)}function Oc(a){var b,c,d;return a&&a.isSpecial?(this.keypath=a,void this.setValue(a.value)):(this.registered&&(this.root.viewmodel.unregister(this.keypath,this),this.registered=!1,b=!0),this.keypath=a,void 0!=a&&(c=this.root.viewmodel.get(a),this.root.viewmodel.register(a,this),this.registered=!0),this.setValue(c),void(b&&(d=this.twowayBinding)&&d.rebound()))}function Pc(a,b){this.fragments&&this.fragments.forEach(function(c){return c.rebind(a,b)}),this.resolver&&this.resolver.rebind(a,b)}function Qc(){this.parentFragment.bubble()}function Rc(){var a;return 1===this.fragments.length?this.fragments[0].detach():(a=document.createDocumentFragment(),this.fragments.forEach(function(b){a.appendChild(b.detach())}),a)}function Sc(a){var b,c,d;for(c=this.fragments.length,b=0;c>b;b+=1)if(d=this.fragments[b].find(a))return d;return null}function Tc(a,b){var c,d;for(d=this.fragments.length,c=0;d>c;c+=1)this.fragments[c].findAll(a,b)}function Uc(a,b){var c,d;for(d=this.fragments.length,c=0;d>c;c+=1)this.fragments[c].findAllComponents(a,b)}function Vc(a){var b,c,d;for(c=this.fragments.length,b=0;c>b;b+=1)if(d=this.fragments[b].findComponent(a))return d;return null}function Wc(a){return this.fragments[a.index+1]?this.fragments[a.index+1].firstNode():this.parentFragment.findNextNode(this)}function Xc(){var a,b,c;if(a=this.fragments.length)for(b=0;a>b;b+=1)if(c=this.fragments[b].firstNode())return c;return this.parentFragment.findNextNode(this)}function Yc(a){var b,c,d,e,f,g,h,i=this;if(!this.shuffling&&!this.unbound&&this.currentSubtype===Ak){if(this.shuffling=!0,oi.scheduleTask(function(){return i.shuffling=!1}),b=this.parentFragment,f=[],a.forEach(function(a,b){var d,e,g,h,j;return a===b?void(f[a]=i.fragments[b]):(d=i.fragments[b],void 0===c&&(c=b),-1===a?(i.fragmentsToUnrender.push(d),void d.unbind()):(e=a-b,g=i.keypath.join(b),h=i.keypath.join(a),d.index=a,(j=d.registeredIndexRefs)&&j.forEach(Zc),d.rebind(g,h),void(f[a]=d)))}),e=this.root.viewmodel.get(this.keypath).length,void 0===c){if(this.length===e)return;c=this.length}for(this.length=this.fragments.length=e,this.rendered&&oi.addView(this),g={template:this.template.f,root:this.root,owner:this},d=c;e>d;d+=1)h=f[d],h||this.fragmentsToCreate.push(d),this.fragments[d]=h}}function Zc(a){a.rebind("","")}function $c(){var a=this;return this.docFrag=document.createDocumentFragment(),this.fragments.forEach(function(b){return a.docFrag.appendChild(b.render())}),this.renderedFragments=this.fragments.slice(),this.fragmentsToRender=[],this.rendered=!0,this.docFrag}function _c(a){var b,c,d=this;this.updating||(this.updating=!0,this.keypath&&(b=this.root.viewmodel.wrapped[this.keypath.str])&&(a=b.get()),this.fragmentsToCreate.length?(c={template:this.template.f||[],root:this.root,pElement:this.pElement,owner:this},this.fragmentsToCreate.forEach(function(a){var b;c.context=d.keypath.join(a),c.index=a,b=new st(c),d.fragmentsToRender.push(d.fragments[a]=b)}),this.fragmentsToCreate.length=0):bd(this,a)&&(this.bubble(),this.rendered&&oi.addView(this)),this.value=a,this.updating=!1)}function ad(a,b,c){if(b===Ak&&a.indexRefs&&a.indexRefs[0]){var d=a.indexRefs[0];(c&&"i"===d.t||!c&&"k"===d.t)&&(c||(a.length=0,a.fragmentsToUnrender=a.fragments.slice(0),a.fragmentsToUnrender.forEach(function(a){return a.unbind()}))),d.t=c?"k":"i"}a.currentSubtype=b}function bd(a,b){var c={template:a.template.f||[],root:a.root,pElement:a.parentFragment.pElement,owner:a};if(a.hasContext=!0,a.subtype)switch(a.subtype){case yk:return a.hasContext=!1,gd(a,b,!1,c);case zk:return a.hasContext=!1,gd(a,b,!0,c);case Bk:return fd(a,c);case Ck:return ed(a,b,c);case Ak:if(j(b))return ad(a,a.subtype,!0),dd(a,b,c)}return a.ordered=!!g(b),a.ordered?(ad(a,Ak,!1),cd(a,b,c)):j(b)||"function"==typeof b?a.template.i?(ad(a,Ak,!0),dd(a,b,c)):(ad(a,Bk,!1),fd(a,c)):(ad(a,yk,!1),a.hasContext=!1,gd(a,b,!1,c))}function cd(a,b,c){var d,e,f;if(e=b.length,e===a.length)return!1;if(e<a.length)a.fragmentsToUnrender=a.fragments.splice(e,a.length-e),a.fragmentsToUnrender.forEach(V);else if(e>a.length)for(d=a.length;e>d;d+=1)c.context=a.keypath.join(d),c.index=d,f=new st(c),a.fragmentsToRender.push(a.fragments[d]=f);return a.length=e,!0}function dd(a,b,c){var d,e,f,g,h,i;for(f=a.hasKey||(a.hasKey={}),e=a.fragments.length;e--;)g=a.fragments[e],g.key in b||(h=!0,g.unbind(),a.fragmentsToUnrender.push(g),a.fragments.splice(e,1),f[g.key]=!1);for(e=a.fragments.length;e--;)g=a.fragments[e],g.index!==e&&(g.index=e,(i=g.registeredIndexRefs)&&i.forEach(jd));e=a.fragments.length;for(d in b)f[d]||(h=!0,c.context=a.keypath.join(d),c.key=d,c.index=e++,g=new st(c),a.fragmentsToRender.push(g),a.fragments.push(g),f[d]=!0);return a.length=a.fragments.length,h}function ed(a,b,c){return b?fd(a,c):hd(a)}function fd(a,b){var c;return a.length?void 0:(b.context=a.keypath,b.index=0,c=new st(b),a.fragmentsToRender.push(a.fragments[0]=c),a.length=1,!0)}function gd(a,b,c,d){var e,f,h,i,k;if(f=g(b)&&0===b.length,h=!1,!g(b)&&j(b)){h=!0;for(k in b){h=!1;break}}return e=c?f||h||!b:b&&!f&&!h,e?a.length?a.length>1?(a.fragmentsToUnrender=a.fragments.splice(1),a.fragmentsToUnrender.forEach(V),!0):void 0:(d.index=0,i=new st(d),a.fragmentsToRender.push(a.fragments[0]=i),a.length=1,!0):hd(a)}function hd(a){return a.length?(a.fragmentsToUnrender=a.fragments.splice(0,a.fragments.length).filter(id),a.fragmentsToUnrender.forEach(V),a.length=a.fragmentsToRender.length=0,!0):void 0}function id(a){return a.rendered}function jd(a){a.rebind("","")}function kd(a){var b,c,d;for(b="",c=0,d=this.length,c=0;d>c;c+=1)b+=this.fragments[c].toString(a);return b}function ld(){var a=this;this.fragments.forEach(V),this.fragmentsToRender.forEach(function(b){return K(a.fragments,b)}),this.fragmentsToRender=[],In.call(this),this.length=0,this.unbound=!0}function md(a){this.fragments.forEach(a?nd:od),this.renderedFragments=[],this.rendered=!1}function nd(a){a.unrender(!0)}function od(a){a.unrender(!1)}function pd(){var a,b,c,d,e,f,g;for(c=this.renderedFragments;a=this.fragmentsToUnrender.pop();)a.unrender(!0),c.splice(c.indexOf(a),1);for(;a=this.fragmentsToRender.shift();)a.render();for(this.rendered&&(e=this.parentFragment.getNode()),g=this.fragments.length,f=0;g>f;f+=1)a=this.fragments[f],b=c.indexOf(a,f),b!==f?(this.docFrag.appendChild(a.detach()),-1!==b&&c.splice(b,1),c.splice(f,0,a)):this.docFrag.childNodes.length&&(d=a.firstNode(),e.insertBefore(this.docFrag,d));this.rendered&&this.docFrag.childNodes.length&&(d=this.parentFragment.findNextNode(this),e.insertBefore(this.docFrag,d)),this.renderedFragments=this.fragments.slice()}function qd(){var a,b;if(this.docFrag){for(a=this.nodes.length,b=0;a>b;b+=1)this.docFrag.appendChild(this.nodes[b]);return this.docFrag}}function rd(a){var b,c,d,e;for(c=this.nodes.length,b=0;c>b;b+=1)if(d=this.nodes[b],1===d.nodeType){if(lh(d,a))return d;if(e=d.querySelector(a))return e}return null}function sd(a,b){var c,d,e,f,g,h;for(d=this.nodes.length,c=0;d>c;c+=1)if(e=this.nodes[c],1===e.nodeType&&(lh(e,a)&&b.push(e),f=e.querySelectorAll(a)))for(g=f.length,h=0;g>h;h+=1)b.push(f[h])}function td(){return this.rendered&&this.nodes[0]?this.nodes[0]:this.parentFragment.findNextNode(this)}function ud(a){return Fo[a]||(Fo[a]=kh(a))}function vd(a){var b,c,d;a&&"select"===a.name&&a.binding&&(b=L(a.node.options).filter(wd),a.getAttribute("multiple")?d=b.map(function(a){return a.value}):(c=b[0])&&(d=c.value),void 0!==d&&a.binding.setValue(d),a.bubble())}function wd(a){return a.selected}function xd(){if(this.rendered)throw new Error("Attempted to render an item that was already rendered");return this.docFrag=document.createDocumentFragment(),this.nodes=Go(this.value,this.parentFragment.getNode(),this.docFrag),Ho(this.pElement),this.rendered=!0,this.docFrag}function yd(a){var b;(b=this.root.viewmodel.wrapped[this.keypath.str])&&(a=b.get()),a!==this.value&&(this.value=a,this.parentFragment.bubble(),this.rendered&&oi.addView(this))}function zd(){return void 0!=this.value?yb(""+this.value):""}function Ad(a){this.rendered&&a&&(this.nodes.forEach(b),this.rendered=!1)}function Bd(){var a,b;if(this.rendered){for(;this.nodes&&this.nodes.length;)a=this.nodes.pop(),a.parentNode.removeChild(a);b=this.parentFragment.getNode(),this.nodes=Go(this.value,b,this.docFrag),b.insertBefore(this.docFrag,this.parentFragment.findNextNode(this)),Ho(this.pElement)}}function Cd(){var a,b=this.node;return b?((a=b.parentNode)&&a.removeChild(b),b):void 0}function Dd(){return null}function Ed(){return this.node}function Fd(a){return this.attributes&&this.attributes[a]?this.attributes[a].value:void 0}function Gd(){var a=this.useProperty||!this.rendered?this.fragment.getValue():this.fragment.toString();h(a,this.value)||("id"===this.name&&this.value&&delete this.root.nodes[this.value],this.value=a,"value"===this.name&&this.node&&(this.node._ractive.value=a),this.rendered&&oi.addView(this))}function Hd(a){var b=a.fragment.items;if(1===b.length)return b[0].type===Vj?b[0]:void 0}function Id(a){return this.type=ck,this.element=a.element,this.root=a.root,fp(this,a.name),this.isBoolean=rl.test(this.name),a.value&&"string"!=typeof a.value?(this.parentFragment=this.element.parentFragment,this.fragment=new st({template:a.value,root:this.root,owner:this}),this.value=this.fragment.getValue(),this.interpolator=gp(this),this.isBindable=!!this.interpolator&&!this.interpolator.isStatic,void(this.ready=!0)):void(this.value=this.isBoolean?!0:a.value||"")}function Jd(a,b){this.fragment&&this.fragment.rebind(a,b)}function Kd(a){var b;this.node=a,a.namespaceURI&&a.namespaceURI!==ch.html||(b=kp[this.name]||this.name,void 0!==a[b]&&(this.propertyName=b),(this.isBoolean||this.isTwoway)&&(this.useProperty=!0),"value"===b&&(a._ractive.value=this.value)),this.rendered=!0,this.update()}function Ld(){var a=this,b=a.name,c=a.namespacePrefix,d=a.value,e=a.interpolator,f=a.fragment;if(("value"!==b||"select"!==this.element.name&&"textarea"!==this.element.name)&&("value"!==b||void 0===this.element.getAttribute("contenteditable"))){if("name"===b&&"input"===this.element.name&&e)return"name={{"+(e.keypath.str||e.ref)+"}}";if(this.isBoolean)return d?b:"";if(f){if(1===f.items.length&&null==f.items[0].value)return"";d=f.toString()}return c&&(b=c+":"+b),d?b+'="'+Md(d)+'"':b}}function Md(a){return a.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function Nd(){this.fragment&&this.fragment.unbind(),"id"===this.name&&delete this.root.nodes[this.value]}function Od(){var a,b,c,d,e=this.value;if(!this.locked)for(this.node._ractive.value=e,a=this.node.options,d=a.length;d--;)if(b=a[d],c=b._ractive?b._ractive.value:b.value,c==e){b.selected=!0;break}}function Pd(){var a,b,c,d,e=this.value;for(f(e)||(e=[e]),a=this.node.options,b=a.length;b--;)c=a[b],d=c._ractive?c._ractive.value:c.value,c.selected=G(e,d)}function Qd(){var a=this,b=a.node,c=a.value;b.checked=c==b._ractive.value}function Rd(){var a,b,c,d,e=this.node;if(a=e.checked,e.value=this.element.getAttribute("value"),e.checked=this.element.getAttribute("value")===this.element.getAttribute("name"),a&&!e.checked&&this.element.binding&&(c=this.element.binding.siblings,d=c.length)){for(;d--;){if(b=c[d],!b.element.node)return;if(b.element.node.checked)return oi.addRactive(b.root),b.handleChange()}this.root.viewmodel.set(b.keypath,void 0)}}function Sd(){var a,b,c=this,d=c.element,e=c.node,g=c.value,h=d.binding;if(a=d.getAttribute("value"),f(g)){for(b=g.length;b--;)if(a==g[b])return void(h.isChecked=e.checked=!0);h.isChecked=e.checked=!1}else h.isChecked=e.checked=g==a}function Td(){this.node.className=c(this.value)}function Ud(){var a=this,b=a.node,c=a.value;this.root.nodes[c]=b,b.id=c}function Vd(){var a,b;a=this.node,b=this.value,void 0===b&&(b=""),a.style.setAttribute("cssText",b)}function Wd(){var a=this.value;void 0===a&&(a=""),this.locked||(this.node.innerHTML=a)}function Xd(){var a=this,b=a.node,c=a.value;b._ractive.value=c,this.locked||(b.value=void 0==c?"":c)}function Yd(){this.locked||(this.node[this.propertyName]=this.value)}function Zd(){var a=this,b=a.node,c=a.namespace,d=a.name,e=a.value,f=a.fragment;c?b.setAttributeNS(c,d,(f||e).toString()):this.isBoolean?e?b.setAttribute(d,""):b.removeAttribute(d):null==e?b.removeAttribute(d):b.setAttribute(d,(f||e).toString())}function $d(){var a,b,c=this,d=c.name,e=c.element,f=c.node;"id"===d?b=tp:"value"===d?"select"===e.name&&"value"===d?b=e.getAttribute("multiple")?op:np:"textarea"===e.name?b=wp:null!=e.getAttribute("contenteditable")?b=vp:"input"===e.name&&(a=e.getAttribute("type"),b="file"===a?Eh:"radio"===a&&e.binding&&"name"===e.binding.name?qp:wp):this.isTwoway&&"name"===d?"radio"===f.type?b=pp:"checkbox"===f.type&&(b=rp):"style"===d&&f.style.setAttribute?b=up:"class"!==d||f.namespaceURI&&f.namespaceURI!==ch.html?this.useProperty&&(b=xp):b=sp,b||(b=yp),this.update=b,this.update()}function _d(a,b){var c=b?"svg":"div";return Bp.innerHTML="<"+c+" "+a+"></"+c+">",L(Bp.childNodes[0].attributes)}function ae(a,b){for(var c=a.length;c--;)if(a[c].name===b.name)return!1;return!0}function be(a){for(;a=a.parent;)if("form"===a.name)return a}function ce(){this._ractive.binding.handleChange()}function de(){var a;Kp.call(this),a=this._ractive.root.viewmodel.get(this._ractive.binding.keypath),this.value=void 0==a?"":a}function ee(){var a=this._ractive.binding,b=this;a._timeout&&clearTimeout(a._timeout),a._timeout=setTimeout(function(){a.rendered&&Kp.call(b),a._timeout=void 0},a.element.lazy)}function fe(a,b,c){var d=a+b+c;return Pp[d]||(Pp[d]=[])}function ge(a){return a.isChecked}function he(a){return a.element.getAttribute("value")}function ie(a){var b,c,d,e,f,g=a.attributes;return a.binding&&(a.binding.teardown(),a.binding=null),(a.getAttribute("contenteditable")||g.contenteditable&&je(g.contenteditable))&&je(g.value)?c=Np:"input"===a.name?(b=a.getAttribute("type"),"radio"===b||"checkbox"===b?(d=je(g.name),e=je(g.checked),d&&e&&p("A radio input can have two-way binding on its name attribute, or its checked attribute - not both",{ractive:a.root}),d?c="radio"===b?Tp:Vp:e&&(c="radio"===b?Rp:Xp)):"file"===b&&je(g.value)?c=bq:je(g.value)&&(c="number"===b||"range"===b?cq:Lp)):"select"===a.name&&je(g.value)?c=a.getAttribute("multiple")?_p:Zp:"textarea"===a.name&&je(g.value)&&(c=Lp),c&&(f=new c(a))&&f.keypath?f:void 0}function je(a){return a&&a.isBindable}function ke(){var a=this.getAction();a&&!this.hasListener?this.listen():!a&&this.hasListener&&this.unrender()}function le(a){Oi(this.root,this.getAction(),{event:a})}function me(){return this.action.toString().trim()}function ne(a,b,c){var d,e,f,g=this;this.element=a,this.root=a.root,this.parentFragment=a.parentFragment,this.name=b,-1!==b.indexOf("*")&&(l('Only component proxy-events may contain "*" wildcards, <%s on-%s="..."/> is not valid',a.name,b),this.invalid=!0),c.m?(e=c.a.r,this.method=c.m,this.keypaths=[],this.fn=Un(c.a.s,e.length),this.parentFragment=a.parentFragment,f=this.root,this.refResolvers=[],e.forEach(function(a,b){var c=void 0;(c=iq.exec(a))?g.keypaths[b]={eventObject:!0,refinements:c[1]?c[1].split("."):[]}:g.refResolvers.push(Tn(g,a,function(a){return g.resolve(b,a)}))}),this.fire=oe):(d=c.n||c,"string"!=typeof d&&(d=new st({template:d,root:this.root,owner:this})),this.action=d,c.d?(this.dynamicParams=new st({template:c.d,root:this.root,owner:this.element}),this.fire=qe):c.a&&(this.params=c.a,this.fire=pe))}function oe(a){var b,c,d;if(b=this.root,"function"!=typeof b[this.method])throw new Error('Attempted to call a non-existent method ("'+this.method+'")');c=this.keypaths.map(function(c){var d,e,f;if(void 0!==c){if(c.eventObject){if(d=a,e=c.refinements.length)for(f=0;e>f;f+=1)d=d[c.refinements[f]]}else d=b.viewmodel.get(c);return d}}),Ni.enqueue(b,a),d=this.fn.apply(null,c),b[this.method].apply(b,d),Ni.dequeue(b)}function pe(a){Oi(this.root,this.getAction(),{event:a,args:this.params})}function qe(a){var b=this.dynamicParams.getArgsList();"string"==typeof b&&(b=b.substr(1,b.length-2)),Oi(this.root,this.getAction(),{event:a,args:b})}function re(a){var b,c,d,e={};b=this._ractive,c=b.events[a.type],(d=Rn(c.element.parentFragment))&&(e=Rn.resolve(d)),c.fire({node:this,original:a,index:e,keypath:b.keypath.str,context:b.root.viewmodel.get(b.keypath)})}function se(){var a,b=this.name;if(!this.invalid){if(a=r("events",this.root,b))this.custom=a(this.node,te(b));else{if(!("on"+b in this.node||window&&"on"+b in window||_g))return void(mq[b]||q(Ih(b,"event"),{node:this.node}));this.node.addEventListener(b,jq,!1)}this.hasListener=!0}}function te(a){return lq[a]||(lq[a]=function(b){var c=b.node._ractive;b.index=c.index,b.keypath=c.keypath.str,b.context=c.root.viewmodel.get(c.keypath),c.events[a].fire(b)}),lq[a]}function ue(a,b){function c(c){c&&c.rebind(a,b)}var d;return this.method?(d=this.element.parentFragment,void this.refResolvers.forEach(c)):("string"!=typeof this.action&&c(this.action),void(this.dynamicParams&&c(this.dynamicParams)))}function ve(){this.node=this.element.node,this.node._ractive.events[this.name]=this,(this.method||this.getAction())&&this.listen()}function we(a,b){this.keypaths[a]=b}function xe(){return this.method?void this.refResolvers.forEach(V):("string"!=typeof this.action&&this.action.unbind(),void(this.dynamicParams&&this.dynamicParams.unbind()))}function ye(){this.custom?this.custom.teardown():this.node.removeEventListener(this.name,jq,!1),this.hasListener=!1}function ze(){var a=this;this.dirty||(this.dirty=!0,oi.scheduleTask(function(){Ae(a),a.dirty=!1})),this.parentFragment.bubble()}function Ae(a){var b,c,d,e,f;b=a.node,b&&(e=L(b.options),c=a.getAttribute("value"),d=a.getAttribute("multiple"),void 0!==c?(e.forEach(function(a){var b,e;b=a._ractive?a._ractive.value:a.value,e=d?Be(c,b):c==b,e&&(f=!0),a.selected=e}),f||(e[0]&&(e[0].selected=!0),a.binding&&a.binding.forceUpdate())):a.binding&&a.binding.forceUpdate())}function Be(a,b){for(var c=a.length;c--;)if(a[c]==b)return!0}function Ce(a,b){a.select=Ee(a.parent),a.select&&(a.select.options.push(a),b.a||(b.a={}),void 0!==b.a.value||b.a.hasOwnProperty("disabled")||(b.a.value=b.f),"selected"in b.a&&void 0!==a.select.getAttribute("value")&&delete b.a.selected)}function De(a){a.select&&K(a.select.options,a)}function Ee(a){if(a)do if("select"===a.name)return a;while(a=a.parent)}function Fe(a){var b,c,d,e,f,g,h;this.type=$j,b=this.parentFragment=a.parentFragment,c=this.template=a.template,this.parent=a.pElement||b.pElement,this.root=d=b.root,this.index=a.index,this.key=a.key,this.name=ep(c.e),"option"===this.name&&Ce(this,c),"select"===this.name&&(this.options=[],this.bubble=ze),"form"===this.name&&(this.formBindings=[]),h=cp(this,c),this.attributes=Dp(this,c.a),this.conditionalAttributes=Gp(this,c.m),c.f&&(this.fragment=new st({template:c.f,root:d,owner:this,pElement:this,cssIds:null})),g=d.twoway,h.twoway===!1?g=!1:h.twoway===!0&&(g=!0),this.twoway=g,this.lazy=h.lazy,g&&(e=dq(this,c.a))&&(this.binding=e,f=this.root._twowayBindings[e.keypath.str]||(this.root._twowayBindings[e.keypath.str]=[]),f.push(e)),c.v&&(this.eventHandlers=uq(this,c.v)),c.o&&(this.decorator=new zq(this,c.o)),this.intro=c.t0||c.t1,this.outro=c.t0||c.t2}function Ge(a,b){function c(c){c.rebind(a,b)}var d,e,f,g;if(this.attributes&&this.attributes.forEach(c),this.conditionalAttributes&&this.conditionalAttributes.forEach(c),this.eventHandlers&&this.eventHandlers.forEach(c),this.decorator&&c(this.decorator),this.fragment&&c(this.fragment),f=this.liveQueries)for(g=this.root,d=f.length;d--;)f[d]._makeDirty();this.node&&(e=this.node._ractive)&&w(e,"keypath",a,b)}function He(a){var b;(a.attributes.width||a.attributes.height)&&a.node.addEventListener("load",b=function(){var c=a.getAttribute("width"),d=a.getAttribute("height");void 0!==c&&a.node.setAttribute("width",c),void 0!==d&&a.node.setAttribute("height",d),a.node.removeEventListener("load",b,!1)},!1)}function Ie(a){a.node.addEventListener("reset",Ke,!1)}function Je(a){a.node.removeEventListener("reset",Ke,!1)}function Ke(){var a=this._ractive.proxy;oi.start(),a.formBindings.forEach(Le),oi.end()}function Le(a){a.root.viewmodel.set(a.keypath,a.resetValue)}function Me(a,b,c){var d,e,f;this.element=a,this.root=d=a.root,this.isIntro=c,e=b.n||b,("string"==typeof e||(f=new st({template:e,root:d,owner:a}),e=f.toString(),f.unbind(),""!==e))&&(this.name=e,b.a?this.params=b.a:b.d&&(f=new st({template:b.d,root:d,owner:a}),this.params=f.getArgsList(),f.unbind()),this._fn=r("transitions",d,e),this._fn||q(Ih(e,"transition"),{ractive:this.root}))}function Ne(a){return a}function Oe(){br.hidden=document[Zq]}function Pe(){br.hidden=!0}function Qe(){br.hidden=!1}function Re(){var a,b,c,d=this;return a=this.node=this.element.node,b=a.getAttribute("style"),this.complete=function(e){c||(!e&&d.isIntro&&Se(a,b),a._ractive.transition=null,d._manager.remove(d),c=!0)},this._fn?void this._fn.apply(this.root,[this].concat(this.params)):void this.complete()}function Se(a,b){b?a.setAttribute("style",b):(a.getAttribute("style"),a.removeAttribute("style"))}function Te(){var a,b,c,d=this,e=this.root;return a=Ue(this),b=this.node=kh(this.name,a),this.parentFragment.cssIds&&this.node.setAttribute("data-ractive-css",this.parentFragment.cssIds.map(function(a){return"{"+a+"}"}).join(" ")),uh(this.node,"_ractive",{value:{proxy:this,keypath:gi(this.parentFragment),events:th(null),root:e}}),this.attributes.forEach(function(a){return a.render(b)}),this.conditionalAttributes.forEach(function(a){return a.render(b)}),this.fragment&&("script"===this.name?(this.bubble=mr,
this.node.text=this.fragment.toString(!1),this.fragment.unrender=Eh):"style"===this.name?(this.bubble=lr,this.bubble(),this.fragment.unrender=Eh):this.binding&&this.getAttribute("contenteditable")?this.fragment.unrender=Eh:this.node.appendChild(this.fragment.render())),this.binding&&(this.binding.render(),this.node._ractive.binding=this.binding),this.eventHandlers&&this.eventHandlers.forEach(function(a){return a.render()}),"option"===this.name&&Ve(this),"img"===this.name?He(this):"form"===this.name?Ie(this):"input"===this.name||"textarea"===this.name?this.node.defaultValue=this.node.value:"option"===this.name&&(this.node.defaultSelected=this.node.selected),this.decorator&&this.decorator.fn&&oi.scheduleTask(function(){d.decorator.torndown||d.decorator.init()},!0),e.transitionsEnabled&&this.intro&&(c=new nr(this,this.intro,!0),oi.registerTransition(c),oi.scheduleTask(function(){return c.start()},!0),this.transition=c),this.node.autofocus&&oi.scheduleTask(function(){return d.node.focus()},!0),We(this),this.node}function Ue(a){var b,c,d;return b=(c=a.getAttribute("xmlns"))?c:"svg"===a.name?ch.svg:(d=a.parent)?"foreignObject"===d.name?ch.html:d.node.namespaceURI:a.root.el.namespaceURI}function Ve(a){var b,c,d;if(a.select&&(c=a.select.getAttribute("value"),void 0!==c))if(b=a.getAttribute("value"),a.select.node.multiple&&f(c)){for(d=c.length;d--;)if(b==c[d]){a.node.selected=!0;break}}else a.node.selected=b==c}function We(a){var b,c,d,e,f;b=a.root;do for(c=b._liveQueries,d=c.length;d--;)e=c[d],f=c["_"+e],f._test(a)&&(a.liveQueries||(a.liveQueries=[])).push(f);while(b=b.parent)}function Xe(a){var b,c,d;if(b=a.getAttribute("value"),void 0===b||!a.select)return!1;if(c=a.select.getAttribute("value"),c==b)return!0;if(a.select.getAttribute("multiple")&&f(c))for(d=c.length;d--;)if(c[d]==b)return!0}function Ye(a){var b,c,d,e;return b=a.attributes,c=b.type,d=b.value,e=b.name,c&&"radio"===c.value&&d&&e.interpolator&&d.value===e.interpolator.value?!0:void 0}function Ze(a){var b=a.toString();return b?" "+b:""}function $e(){this.fragment&&this.fragment.unbind(),this.binding&&this.binding.unbind(),this.eventHandlers&&this.eventHandlers.forEach(V),"option"===this.name&&De(this),this.attributes.forEach(V),this.conditionalAttributes.forEach(V)}function _e(a){var b,c,d;(d=this.transition)&&d.complete(),"option"===this.name?this.detach():a&&oi.detachWhenReady(this),this.fragment&&this.fragment.unrender(!1),(b=this.binding)&&(this.binding.unrender(),this.node._ractive.binding=null,c=this.root._twowayBindings[b.keypath.str],c.splice(c.indexOf(b),1)),this.eventHandlers&&this.eventHandlers.forEach(W),this.decorator&&oi.registerDecorator(this.decorator),this.root.transitionsEnabled&&this.outro&&(d=new nr(this,this.outro,!1),oi.registerTransition(d),oi.scheduleTask(function(){return d.start()})),this.liveQueries&&af(this),"form"===this.name&&Je(this)}function af(a){var b,c,d;for(d=a.liveQueries.length;d--;)b=a.liveQueries[d],c=b.selector,b._remove(a.node)}function bf(a,b){var c=vr.exec(b)[0];return null===a||c.length<a.length?c:a}function cf(a,b,c){var d;if(d=df(a,b,c||{}))return d;if(d=fn.fromId(b,{noThrow:!0})){d=wr(d);var e=fn.parse(d,fn.getParseOptions(a));return a.partials[b]=e.t}}function df(a,b,c){var d=void 0,e=gf(b,c.owner);if(e)return e;var f=s("partials",a,b);if(f){if(e=f.partials[b],"function"==typeof e&&(d=e.bind(f),d.isOwner=f.partials.hasOwnProperty(b),e=d.call(a,fn)),!e&&""!==e)return void p(Hh,b,"partial","partial",{ractive:a});if(!fn.isParsed(e)){var g=fn.parse(e,fn.getParseOptions(f));g.p&&p("Partials ({{>%s}}) cannot contain nested inline partials",b,{ractive:a});var h=d?f:ef(f,b);h.partials[b]=e=g.t}return d&&(e._fn=d),e.v?e.t:e}}function ef(a,b){return a.partials.hasOwnProperty(b)?a:ff(a.constructor,b)}function ff(a,b){return a?a.partials.hasOwnProperty(b)?a:ff(a._Parent,b):void 0}function gf(a,b){if(b){if(b.template&&b.template.p&&b.template.p[a])return b.template.p[a];if(b.parentFragment&&b.parentFragment.owner)return gf(a,b.parentFragment.owner)}}function hf(a,b){var c,d=s("components",a,b);if(d&&(c=d.components[b],!c._Parent)){var e=c.bind(d);if(e.isOwner=d.components.hasOwnProperty(b),c=e(),!c)return void p(Hh,b,"component","component",{ractive:a});"string"==typeof c&&(c=hf(a,c)),c._fn=e,d.components[b]=c}return c}function jf(){var a=this.instance.fragment.detach();return Hr.fire(this.instance),a}function kf(a){return this.instance.fragment.find(a)}function lf(a,b){return this.instance.fragment.findAll(a,b)}function mf(a,b){b._test(this,!0),this.instance.fragment&&this.instance.fragment.findAllComponents(a,b)}function nf(a){return a&&a!==this.name?this.instance.fragment?this.instance.fragment.findComponent(a):null:this.instance}function of(){return this.parentFragment.findNextNode(this)}function pf(){return this.rendered?this.instance.fragment.firstNode():null}function qf(a,b,c){function d(a){var c,d;a.value=b,a.updating||(d=a.ractive,c=a.keypath,a.updating=!0,oi.start(d),d.viewmodel.mark(c),oi.end(),a.updating=!1)}var e,f,g,h,i,j;if(e=a.obj,f=a.prop,c&&!c.configurable){if("length"===f)return;throw new Error('Cannot use magic mode with property "'+f+'" - object is not configurable')}c&&(g=c.get,h=c.set),i=g||function(){return b},j=function(a){h&&h(a),b=g?g():a,j._ractiveWrappers.forEach(d)},j._ractiveWrappers=[a],Object.defineProperty(e,f,{get:i,set:j,enumerable:!0,configurable:!0})}function rf(a,b){var c,d,e,f;if(this.adaptors)for(c=this.adaptors.length,d=0;c>d;d+=1)if(e=this.adaptors[d],e.filter(b,a,this.ractive))return f=this.wrapped[a]=e.wrap(this.ractive,b,a,tf(a)),void(f.value=b)}function sf(a,b){var c,d={};if(!b)return a;b+=".";for(c in a)a.hasOwnProperty(c)&&(d[b+c]=a[c]);return d}function tf(a){var b;return ds[a]||(b=a?a+".":"",ds[a]=function(c,d){var e;return"string"==typeof c?(e={},e[b+c]=d,e):"object"==typeof c?b?sf(c,a):c:void 0}),ds[a]}function uf(a){var b,c,d=[Uh];for(b=a.length;b--;)for(c=a[b].parent;c&&!c.isRoot;)-1===a.indexOf(c)&&F(d,c),c=c.parent;return d}function vf(a,b,c){var d;xf(a,b),c||(d=b.wildcardMatches(),d.forEach(function(c){wf(a,c,b)}))}function wf(a,b,c){var d,e,f;b=b.str||b,d=a.depsMap.patternObservers,e=d&&d[b],e&&e.forEach(function(b){f=c.join(b.lastKey),xf(a,f),wf(a,b,f)})}function xf(a,b){a.patternObservers.forEach(function(a){a.regex.test(b.str)&&a.update(b)})}function yf(){function a(a){var d=a.key;a.viewmodel===g?(g.clearCache(d.str),a.invalidate(),c.push(d),b(d)):a.viewmodel.mark(d)}function b(c){var d,e;g.noCascade.hasOwnProperty(c.str)||((e=g.deps.computed[c.str])&&e.forEach(a),(d=g.depsMap.computed[c.str])&&d.forEach(b))}var c,d,e,f=this,g=this,h={};return c=this.changes,c.length?(c.slice().forEach(b),d=es(c),d.forEach(function(b){var d;-1===c.indexOf(b)&&(d=g.deps.computed[b.str])&&d.forEach(a)}),this.changes=[],this.patternObservers.length&&(d.forEach(function(a){return fs(f,a,!0)}),c.forEach(function(a){return fs(f,a)})),this.deps.observers&&(d.forEach(function(a){return zf(f,null,a,"observers")}),Bf(this,c,"observers")),this.deps["default"]&&(e=[],d.forEach(function(a){return zf(f,e,a,"default")}),e.length&&Af(this,e,c),Bf(this,c,"default")),c.forEach(function(a){h[a.str]=f.get(a)}),this.implicitChanges={},this.noCascade={},h):void 0}function zf(a,b,c,d){var e,f;(e=Cf(a,c,d))&&(f=a.get(c),e.forEach(function(a){b&&a.refineValue?b.push(a):a.setValue(f)}))}function Af(a,b,c){b.forEach(function(b){for(var d=!1,e=0,f=c.length,g=[];f>e;){var h=c[e];if(h===b.keypath){d=!0;break}h.slice(0,b.keypath.length)===b.keypath&&g.push(h),e++}d&&b.setValue(a.get(b.keypath)),g.length&&b.refineValue(g)})}function Bf(a,b,c){function d(a){a.forEach(e),a.forEach(f)}function e(b){var d=Cf(a,b,c);d&&h.push({keypath:b,deps:d})}function f(b){var e;(e=a.depsMap[c][b.str])&&d(e)}function g(b){var c=a.get(b.keypath);b.deps.forEach(function(a){return a.setValue(c)})}var h=[];d(b),h.forEach(g)}function Cf(a,b,c){var d=a.deps[c];return d?d[b.str]:null}function Df(){this.captureGroups.push([])}function Ef(a,b){var c,d;if(b||(d=this.wrapped[a])&&d.teardown()!==!1&&(this.wrapped[a]=null),this.cache[a]=void 0,c=this.cacheMap[a])for(;c.length;)this.clearCache(c.pop())}function Ff(a,b){var c=b.firstKey;return!(c in a.data||c in a.computations||c in a.mappings)}function Gf(a,b){var c=new ms(a,b);return this.ready&&c.init(this),this.computations[a.str]=c}function Hf(a,b){var c,d,e,f,g,h=this.cache,i=a.str;if(b=b||qs,b.capture&&(f=J(this.captureGroups))&&(~f.indexOf(a)||f.push(a)),Bh.call(this.mappings,a.firstKey))return this.mappings[a.firstKey].get(a,b);if(a.isSpecial)return a.value;if(void 0===h[i]?((d=this.computations[i])&&!d.bypass?(c=d.get(),this.adapt(i,c)):(e=this.wrapped[i])?c=e.value:a.isRoot?(this.adapt("",this.data),c=this.data):c=If(this,a),h[i]=c):c=h[i],!b.noUnwrap&&(e=this.wrapped[i])&&(c=e.get()),a.isRoot&&b.fullRootGet)for(g in this.mappings)c[g]=this.mappings[g].getValue();return c===os?void 0:c}function If(a,b){var c,d,e,f;return c=a.get(b.parent),(f=a.wrapped[b.parent.str])&&(c=f.get()),null!==c&&void 0!==c?((d=a.cacheMap[b.parent.str])?-1===d.indexOf(b.str)&&d.push(b.str):a.cacheMap[b.parent.str]=[b.str],"object"!=typeof c||b.lastKey in c?(e=c[b.lastKey],a.adapt(b.str,e,!1),a.cache[b.str]=e,e):a.cache[b.str]=os):void 0}function Jf(){var a;for(a in this.computations)this.computations[a].init(this)}function Kf(a,b){var c=this.mappings[a.str]=new ts(a,b);return c.initViewmodel(this),c}function Lf(a,b){var c,d=a.str;b&&(b.implicit&&(this.implicitChanges[d]=!0),b.noCascade&&(this.noCascade[d]=!0)),(c=this.computations[d])&&c.invalidate(),-1===this.changes.indexOf(a)&&this.changes.push(a);var e=b?b.keepExistingWrapper:!1;this.clearCache(d,e),this.ready&&this.onchange()}function Mf(a,b,c,d){var e,f,g,h;if(this.mark(a),d&&d.compare){g=Of(d.compare);try{e=b.map(g),f=c.map(g)}catch(i){p('merge(): "%s" comparison failed. Falling back to identity checking',a),e=b,f=c}}else e=b,f=c;h=vs(e,f),this.smartUpdate(a,c,h,b.length!==c.length)}function Nf(a){return JSON.stringify(a)}function Of(a){if(a===!0)return Nf;if("string"==typeof a)return xs[a]||(xs[a]=function(b){return b[a]}),xs[a];if("function"==typeof a)return a;throw new Error("The `compare` option must be a function, or a string representing an identifying field (or `true` to use JSON.stringify)")}function Pf(a,b){var c,d,e,f=void 0===arguments[2]?"default":arguments[2];b.isStatic||((c=this.mappings[a.firstKey])?c.register(a,b,f):(d=this.deps[f]||(this.deps[f]={}),e=d[a.str]||(d[a.str]=[]),e.push(b),this.depsMap[f]||(this.depsMap[f]={}),a.isRoot||Qf(this,a,f)))}function Qf(a,b,c){for(var d,e,f;!b.isRoot;)d=a.depsMap[c],e=d[b.parent.str]||(d[b.parent.str]=[]),f=b.str,void 0===e["_"+f]&&(e["_"+f]=0,e.push(b)),e["_"+f]+=1,b=b.parent}function Rf(){return this.captureGroups.pop()}function Sf(a){this.data=a,this.clearCache("")}function Tf(a,b){var c,d,e,f,g=void 0===arguments[2]?{}:arguments[2];if(!g.noMapping&&(c=this.mappings[a.firstKey]))return c.set(a,b);if(d=this.computations[a.str]){if(d.setting)return;d.set(b),b=d.get()}h(this.cache[a.str],b)||(e=this.wrapped[a.str],e&&e.reset&&(f=e.reset(b)!==!1,f&&(b=e.get())),d||f||Uf(this,a,b),g.silent?this.clearCache(a.str):this.mark(a))}function Uf(a,b,c){var d,e,f,g;f=function(){d.set?d.set(b.lastKey,c):(e=d.get(),g())},g=function(){e||(e=Zr(b.lastKey),a.set(b.parent,e,{silent:!0})),e[b.lastKey]=c},d=a.wrapped[b.parent.str],d?f():(e=a.get(b.parent),(d=a.wrapped[b.parent.str])?f():g())}function Vf(a,b,c){var d,e,f,g=this;if(e=c.length,c.forEach(function(b,c){-1===b&&g.mark(a.join(c),Es)}),this.set(a,b,{silent:!0}),(d=this.deps["default"][a.str])&&d.filter(Wf).forEach(function(a){return a.shuffle(c,b)}),e!==b.length){for(this.mark(a.join("length"),Ds),f=c.touchedFrom;f<b.length;f+=1)this.mark(a.join(f));for(f=b.length;e>f;f+=1)this.mark(a.join(f),Es)}}function Wf(a){return"function"==typeof a.shuffle}function Xf(){var a,b=this;for(Object.keys(this.cache).forEach(function(a){return b.clearCache(a)});a=this.unresolvedImplicitDependencies.pop();)a.teardown()}function Yf(a,b){var c,d,e,f=void 0===arguments[2]?"default":arguments[2];if(!b.isStatic){if(c=this.mappings[a.firstKey])return c.unregister(a,b,f);if(d=this.deps[f][a.str],e=d.indexOf(b),-1===e)throw new Error("Attempted to remove a dependant that was no longer registered! This should not happen. If you are seeing this bug in development please raise an issue at https://github.com/RactiveJS/Ractive/issues - thanks");d.splice(e,1),a.isRoot||Zf(this,a,f)}}function Zf(a,b,c){for(var d,e;!b.isRoot;)d=a.depsMap[c],e=d[b.parent.str],e["_"+b.str]-=1,e["_"+b.str]||(K(e,b),e["_"+b.str]=void 0),b=b.parent}function $f(a){this.hook=new bi(a),this.inProcess={},this.queue={}}function _f(a,b){return a[b._guid]||(a[b._guid]=[])}function ag(a,b){var c=_f(a.queue,b);for(a.hook.fire(b);c.length;)ag(a,c.shift());delete a.queue[b._guid]}function bg(a,b){var c,d={};for(c in b)d[c]=cg(a,c,b[c]);return d}function cg(a,b,c){var d,e;return"function"==typeof c&&(d=eg(c,a)),"string"==typeof c&&(d=dg(a,c)),"object"==typeof c&&("string"==typeof c.get?d=dg(a,c.get):"function"==typeof c.get?d=eg(c.get,a):l("`%s` computation must have a `get()` method",b),"function"==typeof c.set&&(e=eg(c.set,a))),{getter:d,setter:e}}function dg(a,b){var c,d,e;return c="return ("+b.replace(Ls,function(a,b){return d=!0,'__ractive.get("'+b+'")'})+");",d&&(c="var __ractive = this; "+c),e=new Function(c),d?e.bind(a):e}function eg(a,b){return/this/.test(a.toString())?a.bind(b):a}function fg(b){var c,e,f=void 0===arguments[1]?{}:arguments[1],g=void 0===arguments[2]?{}:arguments[2];if(Ut.DEBUG&&Ah(),ig(b,g),uh(b,"data",{get:jg}),Ms.fire(b,f),Qs.forEach(function(a){b[a]=d(th(b.constructor[a]||null),f[a])}),e=new Is({adapt:gg(b,b.adapt,f),data:Oj.init(b.constructor,b,f),computed:Ks(b,d(th(b.constructor.prototype.computed),f.computed)),mappings:g.mappings,ractive:b,onchange:function(){return oi.addRactive(b)}}),b.viewmodel=e,e.init(),sn.init(b.constructor,b,f),Ns.fire(b),Os.begin(b),b.template){var h=void 0;(g.cssIds||b.cssId)&&(h=g.cssIds?g.cssIds.slice():[],b.cssId&&h.push(b.cssId)),b.fragment=new st({template:b.template,root:b,owner:b,cssIds:h})}if(Os.end(b),c=a(b.el)){var i=b.render(c,b.append);Ut.DEBUG_PROMISES&&i["catch"](function(a){throw q("Promise debugging is enabled, to help solve errors that happen asynchronously. Some browsers will log unhandled promise rejections, in which case you can safely disable promise debugging:\n  Ractive.DEBUG_PROMISES = false;"),p("An error happened during rendering",{ractive:b}),a.stack&&m(a.stack),a})}}function gg(a,b,c){function d(b){return"string"==typeof b&&(b=r("adaptors",a,b),b||l(Ih(b,"adaptor"))),b}var e,f,g;if(b=b.map(d),e=I(c.adapt).map(d),e=hg(b,e),f="magic"in c?c.magic:a.magic,g="modifyArrays"in c?c.modifyArrays:a.modifyArrays,f){if(!bh)throw new Error("Getters and setters (magic mode) are not supported in this browser");g&&e.push(bs),e.push(as)}return g&&e.push(Xr),e}function hg(a,b){for(var c=a.slice(),d=b.length;d--;)~c.indexOf(b[d])||c.push(b[d]);return c}function ig(a,b){a._guid="r-"+Ps++,a._subs=th(null),a._config={},a._twowayBindings=th(null),a._animations=[],a.nodes={},a._liveQueries=[],a._liveComponentQueries=[],a._boundFunctions=[],a._observers=[],b.component?(a.parent=b.parent,a.container=b.container||null,a.root=a.parent.root,a.component=b.component,b.component.instance=a,a._inlinePartials=b.inlinePartials):(a.root=a,a.parent=a.container=null)}function jg(){throw new Error("Using `ractive.data` is no longer supported - you must use the `ractive.get()` API instead")}function kg(a,b,c){this.parentFragment=a.parentFragment,this.callback=c,this.fragment=new st({template:b,root:a.root,owner:this}),this.update()}function lg(a,b,c){var d;return b.r?d=Tn(a,b.r,c):b.x?d=new Xn(a,a.parentFragment,b.x,c):b.rx&&(d=new _n(a,b.rx,c)),d}function mg(a){return 1===a.length&&a[0].t===Vj}function ng(a,b){var c;for(c in b)b.hasOwnProperty(c)&&og(a.instance,a.root,c,b[c])}function og(a,b,c,d){"string"!=typeof d&&l("Components currently only support simple events - you cannot include arguments. Sorry!"),a.on(c,function(){var a,c;return arguments.length&&arguments[0]&&arguments[0].node&&(a=Array.prototype.shift.call(arguments)),c=Array.prototype.slice.call(arguments),Oi(b,d,{event:a,args:c}),!1})}function pg(a,b){var c,d;if(!b)throw new Error('Component "'+this.name+'" not found');c=this.parentFragment=a.parentFragment,d=c.root,this.root=d,this.type=ek,this.name=a.template.e,this.index=a.index,this.indexRefBindings={},this.yielders={},this.resolvers=[],Ts(this,b,a.template.a,a.template.f,a.template.p),Us(this,a.template.v),(a.template.t0||a.template.t1||a.template.t2||a.template.o)&&p('The "intro", "outro" and "decorator" directives have no effect on components',{ractive:this.instance}),Vs(this)}function qg(a,b){function c(c){c.rebind(a,b)}var d;this.resolvers.forEach(c);for(var e in this.yielders)this.yielders[e][0]&&c(this.yielders[e][0]);(d=this.root._liveComponentQueries["_"+this.name])&&d._makeDirty()}function rg(){var a=this.instance;return a.render(this.parentFragment.getNode()),this.rendered=!0,a.fragment.detach()}function sg(){return this.instance.fragment.toString()}function tg(){var a=this.instance;this.resolvers.forEach(V),ug(this),a._observers.forEach(X),a.fragment.unbind(),a.viewmodel.teardown(),a.fragment.rendered&&a.el.__ractive_instances__&&K(a.el.__ractive_instances__,a),_s.fire(a)}function ug(a){var b,c;b=a.root;do(c=b._liveComponentQueries["_"+a.name])&&c._remove(a);while(b=b.parent)}function vg(a){this.shouldDestroy=a,this.instance.unrender()}function wg(a){var b=this;this.owner=a.owner,this.parent=this.owner.parentFragment,this.root=a.root,this.pElement=a.pElement,this.context=a.context,this.index=a.index,this.key=a.key,this.registeredIndexRefs=[],this.cssIds="cssIds"in a?a.cssIds:this.parent?this.parent.cssIds:null,this.items=a.template.map(function(c,d){return xg({parentFragment:b,pElement:a.pElement,template:c,index:d})}),this.value=this.argsList=null,this.dirtyArgs=this.dirtyValue=!0,this.bound=!0}function xg(a){if("string"==typeof a.template)return new Hn(a);switch(a.template.t){case fk:return new gt(a);case Vj:return new go(a);case Xj:return new Ao(a);case Wj:return new So(a);case $j:var b=void 0;return(b=Fr(a.parentFragment.root,a.template.e))?new ct(a,b):new tr(a);case _j:return new Er(a);case ak:return new et(a);case hk:return new it(a);default:throw new Error("Something very strange happened. Please file an issue at https://github.com/ractivejs/ractive/issues. Thanks!")}}function yg(a,b){(!this.owner||this.owner.hasContext)&&w(this,"context",a,b),this.items.forEach(function(c){c.rebind&&c.rebind(a,b)})}function zg(){var a;return 1===this.items.length?a=this.items[0].render():(a=document.createDocumentFragment(),this.items.forEach(function(b){a.appendChild(b.render())})),this.rendered=!0,a}function Ag(a){return this.items?this.items.map(a?Cg:Bg).join(""):""}function Bg(a){return a.toString()}function Cg(a){return a.toString(!0)}function Dg(){this.bound&&(this.items.forEach(Eg),this.bound=!1)}function Eg(a){a.unbind&&a.unbind()}function Fg(a){if(!this.rendered)throw new Error("Attempted to unrender a fragment that was not rendered");this.items.forEach(function(b){return b.unrender(a)}),this.rendered=!1}function Gg(a){var b,c,d,e,f;if(a=a||{},"object"!=typeof a)throw new Error("The reset method takes either no arguments, or an object containing new data");for((c=this.viewmodel.wrapped[""])&&c.reset?c.reset(a)===!1&&this.viewmodel.reset(a):this.viewmodel.reset(a),d=sn.reset(this),e=d.length;e--;)if(ut.indexOf(d[e])>-1){f=!0;break}if(f){var g=void 0;this.viewmodel.mark(Uh),(g=this.component)&&(g.shouldDestroy=!0),this.unrender(),g&&(g.shouldDestroy=!1),this.fragment.template!==this.template&&(this.fragment.unbind(),this.fragment=new st({template:this.template,root:this,owner:this})),b=this.render(this.el,this.anchor)}else b=oi.start(this,!0),this.viewmodel.mark(Uh),oi.end();return vt.fire(this,a),b}function Hg(a){var b,c;hn.init(null,this,{template:a}),b=this.transitionsEnabled,this.transitionsEnabled=!1,(c=this.component)&&(c.shouldDestroy=!0),this.unrender(),c&&(c.shouldDestroy=!1),this.fragment.unbind(),this.fragment=new st({template:this.template,root:this,owner:this}),this.render(this.el,this.anchor),this.transitionsEnabled=b}function Ig(a,b){var c,d;if(d=oi.start(this,!0),j(a)){c=a;for(a in c)c.hasOwnProperty(a)&&(b=c[a],Jg(this,a,b))}else Jg(this,a,b);return oi.end(),d}function Jg(a,b,c){b=y(B(b)),b.isPattern?z(a,b).forEach(function(b){a.viewmodel.set(b,c)}):a.viewmodel.set(b,c)}function Kg(a,b){return Vh(this,a,void 0===b?-1:-b)}function Lg(){var a;return this.fragment.unbind(),this.viewmodel.teardown(),this._observers.forEach(X),this.fragment.rendered&&this.el.__ractive_instances__&&K(this.el.__ractive_instances__,this),this.shouldDestroy=!0,a=this.fragment.rendered?this.unrender():fi.resolve(),Ft.fire(this),this._boundFunctions.forEach(Mg),a}function Mg(a){delete a.fn[a.prop]}function Ng(a){var b=this;if("string"!=typeof a)throw new TypeError(Gh);var c=void 0;return/\*/.test(a)?(c={},z(this,y(B(a))).forEach(function(a){c[a.str]=!b.viewmodel.get(a)}),this.set(c)):this.set(a,!this.get(a))}function Og(){return this.fragment.toString(!0)}function Pg(){var a,b;if(!this.fragment.rendered)return p("ractive.unrender() was called on a Ractive instance that was not rendered"),fi.resolve();for(a=oi.start(this,!0),b=!this.component||this.component.shouldDestroy||this.shouldDestroy;this._animations[0];)this._animations[0].stop();return this.fragment.unrender(b),K(this.el.__ractive_instances__,this),Jt.fire(this),oi.end(),a}function Qg(a){var b;return a=y(a)||Uh,b=oi.start(this,!0),this.viewmodel.mark(a),oi.end(),Mt.fire(this,a),b}function Rg(a,b){var c,d,e;if("string"!=typeof a||b){e=[];for(d in this._twowayBindings)(!a||y(d).equalsOrStartsWith(a))&&e.push.apply(e,this._twowayBindings[d])}else e=this._twowayBindings[a];return c=Sg(this,e),this.set(c)}function Sg(a,b){var c={},d=[];return b.forEach(function(a){var b,e;if(!a.radioName||a.element.node.checked){if(a.checkboxName)return void(d[a.keypath.str]||a.changed()||(d.push(a.keypath),d[a.keypath.str]=a));b=a.attribute.value,e=a.getValue(),H(b,e)||h(b,e)||(c[a.keypath.str]=e)}}),d.length&&d.forEach(function(a){var b,e,f;b=d[a.str],e=b.attribute.value,f=b.getValue(),H(e,f)||(c[a.str]=f)}),c}function Tg(a,b){return"function"==typeof b&&/_super/.test(a)}function Ug(a){for(var b={};a;)Vg(a,b),Xg(a,b),a=a._Parent!==Ut?a._Parent:!1;return b}function Vg(a,b){pn.forEach(function(c){Wg(c.useDefaults?a.prototype:a,b,c.name)})}function Wg(a,b,c){var d,e=Object.keys(a[c]);e.length&&((d=b[c])||(d=b[c]={}),e.filter(function(a){return!(a in d)}).forEach(function(b){return d[b]=a[c][b]}))}function Xg(a,b){Object.keys(a.prototype).forEach(function(c){if("computed"!==c){var d=a.prototype[c];if(c in b){if("function"==typeof b[c]&&"function"==typeof d&&b[c]._method){var e=void 0,f=d._method;f&&(d=d._method),e=Pt(b[c]._method,d),f&&(e._method=e),b[c]=e}}else b[c]=d._method?d._method:d}})}function Yg(){for(var a=arguments.length,b=Array(a),c=0;a>c;c++)b[c]=arguments[c];return b.length?b.reduce(Zg,this):Zg(this)}function Zg(a){var b,c,e=void 0===arguments[1]?{}:arguments[1];return e.prototype instanceof Ut&&(e=Qt(e)),b=function(a){return this instanceof b?void Rs(this,a):new b(a)},c=th(a.prototype),c.constructor=b,vh(b,{defaults:{value:c},extend:{value:Yg,writable:!0,configurable:!0},_Parent:{value:a}}),sn.extend(a,c,e),Oj.extend(a,c,e),e.computed&&(c.computed=d(th(a.prototype.computed),e.computed)),b.prototype=c,b}var $g,_g,ah,bh,ch,dh,eh,fh=3,gh={el:void 0,append:!1,template:{v:fh,t:[]},preserveWhitespace:!1,sanitize:!1,stripComments:!0,delimiters:["{{","}}"],tripleDelimiters:["{{{","}}}"],interpolate:!1,data:{},computed:{},magic:!1,modifyArrays:!0,adapt:[],isolated:!1,twoway:!0,lazy:!1,noIntro:!1,transitionsEnabled:!0,complete:void 0,css:null,noCssTransform:!1},hh=gh,ih={linear:function(a){return a},easeIn:function(a){return Math.pow(a,3)},easeOut:function(a){return Math.pow(a-1,3)+1},easeInOut:function(a){return(a/=.5)<1?.5*Math.pow(a,3):.5*(Math.pow(a-2,3)+2)}};$g="object"==typeof document,_g="undefined"!=typeof navigator&&/jsDom/.test(navigator.appName),ah="undefined"!=typeof console&&"function"==typeof console.warn&&"function"==typeof console.warn.apply;try{Object.defineProperty({},"test",{value:0}),bh=!0}catch(jh){bh=!1}ch={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},dh="undefined"==typeof document?!1:document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),eh=["o","ms","moz","webkit"];var kh,lh,mh,nh,oh,ph,qh,rh,sh;if(kh=dh?function(a,b){return b&&b!==ch.html?document.createElementNS(b,a):document.createElement(a)}:function(a,b){if(b&&b!==ch.html)throw"This browser does not support namespaces other than http://www.w3.org/1999/xhtml. The most likely cause of this error is that you're trying to render SVG in an older browser. See http://docs.ractivejs.org/latest/svg-and-older-browsers for more information";return document.createElement(a)},$g){for(mh=kh("div"),nh=["matches","matchesSelector"],sh=function(a){return function(b,c){return b[a](c)}},qh=nh.length;qh--&&!lh;)if(oh=nh[qh],mh[oh])lh=sh(oh);else for(rh=eh.length;rh--;)if(ph=eh[qh]+oh.substr(0,1).toUpperCase()+oh.substring(1),mh[ph]){lh=sh(ph);break}lh||(lh=function(a,b){var c,d,e;for(d=a.parentNode,d||(mh.innerHTML="",d=mh,a=a.cloneNode(),mh.appendChild(a)),c=d.querySelectorAll(b),e=c.length;e--;)if(c[e]===a)return!0;return!1})}else lh=null;var th,uh,vh,wh=null;try{Object.defineProperty({},"test",{value:0}),$g&&Object.defineProperty(document.createElement("div"),"test",{value:0}),uh=Object.defineProperty}catch(xh){uh=function(a,b,c){a[b]=c.value}}try{try{Object.defineProperties({},{test:{value:0}})}catch(xh){throw xh}$g&&Object.defineProperties(kh("div"),{test:{value:0}}),vh=Object.defineProperties}catch(xh){vh=function(a,b){var c;for(c in b)b.hasOwnProperty(c)&&uh(a,c,b[c])}}try{Object.create(null),th=Object.create}catch(xh){th=function(){var a=function(){};return function(b,c){var d;return null===b?{}:(a.prototype=b,d=new a,c&&Object.defineProperties(d,c),d)}}()}var yh,zh,Ah,Bh=Object.prototype.hasOwnProperty,Ch=Object.prototype.toString,Dh=/^\[object (?:Array|FileList)\]$/,Eh=function(){},Fh={};ah?!function(){var a=["%cRactive.js %c0.7.3 %cin debug mode, %cmore...","color: rgb(114, 157, 52); font-weight: normal;","color: rgb(85, 85, 85); font-weight: normal;","color: rgb(85, 85, 85); font-weight: normal;","color: rgb(82, 140, 224); font-weight: normal; text-decoration: underline;"],b="You're running Ractive 0.7.3 in debug mode - messages will be printed to the console to help you fix problems and optimise your application.\n\nTo disable debug mode, add this line at the start of your app:\n  Ractive.DEBUG = false;\n\nTo disable debug mode when your app is minified, add this snippet:\n  Ractive.DEBUG = /unminified/.test(function(){/*unminified*/});\n\nGet help and support:\n  http://docs.ractivejs.org\n  http://stackoverflow.com/questions/tagged/ractivejs\n  http://groups.google.com/forum/#!forum/ractive-js\n  http://twitter.com/ractivejs\n\nFound a bug? Raise an issue:\n  https://github.com/ractivejs/ractive/issues\n\n";Ah=function(){var c=!!console.groupCollapsed;console[c?"groupCollapsed":"log"].apply(console,a),console.log(b),c&&console.groupEnd(a),Ah=Eh},zh=function(a,b){if(Ah(),"object"==typeof b[b.length-1]){var c=b.pop(),d=c?c.ractive:null;if(d){var e=void 0;d.component&&(e=d.component.name)&&(a="<"+e+"> "+a);var f=void 0;(f=c.node||d.fragment&&d.fragment.rendered&&d.find("*"))&&b.push(f)}}console.warn.apply(console,["%cRactive.js: %c"+a,"color: rgb(114, 157, 52);","color: rgb(85, 85, 85);"].concat(b))},yh=function(){console.log.apply(console,arguments)}}():zh=yh=Ah=Eh;var Gh="Bad arguments",Hh='A function was specified for "%s" %s, but no %s was returned',Ih=function(a,b){return'Missing "'+a+'" '+b+" plugin. You may need to download a plugin via http://docs.ractivejs.org/latest/plugins#"+b+"s"},Jh=function(a,b,c,d){if(a===b)return t(b);if(d){var e=r("interpolators",c,d);if(e)return e(a,b)||t(b);l(Ih(d,"interpolator"))}return Mh.number(a,b)||Mh.array(a,b)||Mh.object(a,b)||t(b)},Kh=Jh,Lh={number:function(a,b){var c;return i(a)&&i(b)?(a=+a,b=+b,c=b-a,c?function(b){return a+b*c}:function(){return a}):null},array:function(a,b){var c,d,e,g;if(!f(a)||!f(b))return null;for(c=[],d=[],g=e=Math.min(a.length,b.length);g--;)d[g]=Kh(a[g],b[g]);for(g=e;g<a.length;g+=1)c[g]=a[g];for(g=e;g<b.length;g+=1)c[g]=b[g];return function(a){for(var b=e;b--;)c[b]=d[b](a);return c}},object:function(a,b){var c,d,e,f,g;if(!j(a)||!j(b))return null;c=[],f={},e={};for(g in a)Bh.call(a,g)&&(Bh.call(b,g)?(c.push(g),e[g]=Kh(a[g],b[g])):f[g]=a[g]);for(g in b)Bh.call(b,g)&&!Bh.call(a,g)&&(f[g]=b[g]);return d=c.length,function(a){for(var b,g=d;g--;)b=c[g],f[b]=e[b](a);return f}}},Mh=Lh,Nh=u,Oh={},Ph=/\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g,Qh=/\*/,Rh={},Sh=function(a){var b=a.split(".");this.str=a,"@"===a[0]&&(this.isSpecial=!0,this.value=x(a)),this.firstKey=b[0],this.lastKey=b.pop(),this.isPattern=Qh.test(a),this.parent=""===a?null:y(b.join(".")),this.isRoot=!a};Sh.prototype={equalsOrStartsWith:function(a){return a===this||this.startsWith(a)},join:function(a){return y(this.isRoot?String(a):this.str+"."+a)},replace:function(a,b){return this===a?b:this.startsWith(a)?null===b?b:y(this.str.replace(a.str+".",b.str+".")):void 0},startsWith:function(a){return a?a&&this.str.substr(0,a.str.length+1)===a.str+".":!1},toString:function(){throw new Error("Bad coercion")},valueOf:function(){throw new Error("Bad coercion")},wildcardMatches:function(){return this._wildcardMatches||(this._wildcardMatches=Nh(this.str))}};var Th,Uh=y(""),Vh=C,Wh="Cannot add to a non-numeric value",Xh=D;"undefined"==typeof window?Th=null:(!function(a,b,c){var d,e;if(!c.requestAnimationFrame){for(d=0;d<a.length&&!c.requestAnimationFrame;++d)c.requestAnimationFrame=c[a[d]+"RequestAnimationFrame"];c.requestAnimationFrame||(e=c.setTimeout,c.requestAnimationFrame=function(a){var c,d,f;return c=Date.now(),d=Math.max(0,16-(c-b)),f=e(function(){a(c+d)},d),b=c+d,f})}}(eh,0,window),Th=window.requestAnimationFrame);var Yh,Zh=Th;Yh="undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?function(){return window.performance.now()}:function(){return Date.now()};var $h=Yh,_h={construct:{deprecated:"beforeInit",replacement:"onconstruct"},render:{deprecated:"init",message:'The "init" method has been deprecated and will likely be removed in a future release. You can either use the "oninit" method which will fire only once prior to, and regardless of, any eventual ractive instance being rendered, or if you need to access the rendered DOM, use "onrender" instead. See http://docs.ractivejs.org/latest/migrating for more information.'},complete:{deprecated:"complete",replacement:"oncomplete"}};E.prototype.fire=function(a,b){function c(c){return a[c]?(b?a[c](b):a[c](),!0):void 0}c(this.method),!a[this.method]&&this.deprecate&&c(this.deprecate.deprecated)&&(this.deprecate.message?p(this.deprecate.message):p('The method "%s" has been deprecated in favor of "%s" and will likely be removed in a future release. See http://docs.ractivejs.org/latest/migrating for more information.',this.deprecate.deprecated,this.deprecate.replacement)),b?a.fire(this.event,b):a.fire(this.event)};var ai,bi=E,ci={},di={},ei={};"function"==typeof Promise?ai=Promise:(ai=function(a){var b,c,d,e,f,g,h=[],i=[],j=ci;d=function(a){return function(d){j===ci&&(b=d,j=a,c=N(j===di?h:i,b),M(c))}},e=d(di),f=d(ei);try{a(e,f)}catch(k){f(k)}return g={then:function(a,b){var d=new ai(function(e,f){var g=function(a,b,c){"function"==typeof a?b.push(function(b){var c;try{c=a(b),O(d,c,e,f)}catch(g){f(g);
}}):b.push(c)};g(a,h,e),g(b,i,f),j!==ci&&M(c)});return d}},g["catch"]=function(a){return this.then(null,a)},g},ai.all=function(a){return new ai(function(b,c){var d,e,f,g=[];if(!a.length)return void b(g);for(f=function(a,e){a&&"function"==typeof a.then?a.then(function(a){g[e]=a,--d||b(g)},c):(g[e]=a,--d||b(g))},d=e=a.length;e--;)f(a[e],e)})},ai.resolve=function(a){return new ai(function(b){b(a)})},ai.reject=function(a){return new ai(function(b,c){c(a)})});var fi=ai,gi=function(a){do if(void 0!==a.context)return a.context;while(a=a.parent);return Uh},hi=P,ii=function(a,b){this.callback=a,this.parent=b,this.intros=[],this.outros=[],this.children=[],this.totalChildren=this.outroChildren=0,this.detachQueue=[],this.decoratorQueue=[],this.outrosComplete=!1,b&&b.addChild(this)};ii.prototype={addChild:function(a){this.children.push(a),this.totalChildren+=1,this.outroChildren+=1},decrementOutros:function(){this.outroChildren-=1,$(this)},decrementTotal:function(){this.totalChildren-=1,$(this)},add:function(a){var b=a.isIntro?this.intros:this.outros;b.push(a)},addDecorator:function(a){this.decoratorQueue.push(a)},remove:function(a){var b=a.isIntro?this.intros:this.outros;K(b,a),$(this)},init:function(){this.ready=!0,$(this)},detachNodes:function(){this.decoratorQueue.forEach(U),this.detachQueue.forEach(Y),this.children.forEach(Z)}};var ji,ki,li=ii,mi=[],ni=new bi("change");ki={start:function(a,b){var c,d;return b&&(c=new fi(function(a){return d=a})),ji={previousBatch:ji,transitionManager:new li(d,ji&&ji.transitionManager),views:[],tasks:[],ractives:[],instance:a},a&&ji.ractives.push(a),c},end:function(){_(),ji.transitionManager.init(),!ji.previousBatch&&ji.instance&&(ji.instance.viewmodel.changes=[]),ji=ji.previousBatch},addRactive:function(a){ji&&F(ji.ractives,a)},registerTransition:function(a){a._manager=ji.transitionManager,ji.transitionManager.add(a)},registerDecorator:function(a){ji.transitionManager.addDecorator(a)},addView:function(a){ji.views.push(a)},addUnresolved:function(a){mi.push(a)},removeUnresolved:function(a){K(mi,a)},detachWhenReady:function(a){ji.transitionManager.detachQueue.push(a)},scheduleTask:function(a,b){var c;if(ji){for(c=ji;b&&c.previousBatch;)c=c.previousBatch;c.tasks.push(a)}else a()}};var oi=ki,pi=[],qi={tick:function(){var a,b,c;for(c=$h(),oi.start(),a=0;a<pi.length;a+=1)b=pi[a],b.tick(c)||pi.splice(a--,1);oi.end(),pi.length?Zh(qi.tick):qi.running=!1},add:function(a){pi.push(a),qi.running||(qi.running=!0,Zh(qi.tick))},abort:function(a,b){for(var c,d=pi.length;d--;)c=pi[d],c.root===b&&c.keypath===a&&c.stop()}},ri=qi,si=function(a){var b;this.startTime=Date.now();for(b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);this.interpolator=Kh(this.from,this.to,this.root,this.interpolator),this.running=!0,this.tick()};si.prototype={tick:function(){var a,b,c,d,e,f;return f=this.keypath,this.running?(d=Date.now(),a=d-this.startTime,a>=this.duration?(null!==f&&(oi.start(this.root),this.root.viewmodel.set(f,this.to),oi.end()),this.step&&this.step(1,this.to),this.complete(this.to),e=this.root._animations.indexOf(this),-1===e&&p("Animation was not found"),this.root._animations.splice(e,1),this.running=!1,!1):(b=this.easing?this.easing(a/this.duration):a/this.duration,null!==f&&(c=this.interpolator(b),oi.start(this.root),this.root.viewmodel.set(f,c),oi.end()),this.step&&this.step(b,c),!0)):!1},stop:function(){var a;this.running=!1,a=this.root._animations.indexOf(this),-1===a&&p("Animation was not found"),this.root._animations.splice(a,1)}};var ti=si,ui=ca,vi={stop:Eh},wi=ea,xi=new bi("detach"),yi=fa,zi=ga,Ai=function(){var a,b,c;a=this._root[this._isComponentQuery?"liveComponentQueries":"liveQueries"],b=this.selector,c=a.indexOf(b),-1!==c&&(a.splice(c,1),a[b]=null)},Bi=function(a,b){var c,d,e,f,g,h,i,j,k,l;for(c=ia(a.component||a._ractive.proxy),d=ia(b.component||b._ractive.proxy),e=J(c),f=J(d);e&&e===f;)c.pop(),d.pop(),g=e,e=J(c),f=J(d);if(e=e.component||e,f=f.component||f,k=e.parentFragment,l=f.parentFragment,k===l)return h=k.items.indexOf(e),i=l.items.indexOf(f),h-i||c.length-d.length;if(j=g.fragments)return h=j.indexOf(k),i=j.indexOf(l),h-i||c.length-d.length;throw new Error("An unexpected condition was met while comparing the position of two components. Please file an issue at https://github.com/RactiveJS/Ractive/issues - thanks!")},Ci=function(a,b){var c;return a.compareDocumentPosition?(c=a.compareDocumentPosition(b),2&c?1:-1):Bi(a,b)},Di=function(){this.sort(this._isComponentQuery?Bi:Ci),this._dirty=!1},Ei=function(){var a=this;this._dirty||(this._dirty=!0,oi.scheduleTask(function(){a._sort()}))},Fi=function(a){var b=this.indexOf(this._isComponentQuery?a.instance:a);-1!==b&&this.splice(b,1)},Gi=ja,Hi=ka,Ii=la,Ji=ma,Ki=na,Li=oa,Mi={enqueue:function(a,b){a.event&&(a._eventQueue=a._eventQueue||[],a._eventQueue.push(a.event)),a.event=b},dequeue:function(a){a._eventQueue&&a._eventQueue.length?a.event=a._eventQueue.pop():delete a.event}},Ni=Mi,Oi=pa,Pi=sa,Qi=ta,Ri={capture:!0,noUnwrap:!0,fullRootGet:!0},Si=ua,Ti=new bi("insert"),Ui=wa,Vi=function(a,b,c,d){this.root=a,this.keypath=b,this.callback=c,this.defer=d.defer,this.context=d&&d.context?d.context:a};Vi.prototype={init:function(a){this.value=this.root.get(this.keypath.str),a!==!1?this.update():this.oldValue=this.value},setValue:function(a){var b=this;h(a,this.value)||(this.value=a,this.defer&&this.ready?oi.scheduleTask(function(){return b.update()}):this.update())},update:function(){this.updating||(this.updating=!0,this.callback.call(this.context,this.value,this.oldValue,this.keypath.str),this.oldValue=this.value,this.updating=!1)}};var Wi,Xi=Vi,Yi=xa,Zi=Array.prototype.slice;Wi=function(a,b,c,d){this.root=a,this.callback=c,this.defer=d.defer,this.keypath=b,this.regex=new RegExp("^"+b.str.replace(/\./g,"\\.").replace(/\*/g,"([^\\.]+)")+"$"),this.values={},this.defer&&(this.proxies=[]),this.context=d&&d.context?d.context:a},Wi.prototype={init:function(a){var b,c;if(b=Yi(this.root,this.keypath),a!==!1)for(c in b)b.hasOwnProperty(c)&&this.update(y(c));else this.values=b},update:function(a){var b,c=this;if(a.isPattern){b=Yi(this.root,a);for(a in b)b.hasOwnProperty(a)&&this.update(y(a))}else if(!this.root.viewmodel.implicitChanges[a.str])return this.defer&&this.ready?void oi.scheduleTask(function(){return c.getProxy(a).update()}):void this.reallyUpdate(a)},reallyUpdate:function(a){var b,c,d,e;return b=a.str,c=this.root.viewmodel.get(a),this.updating?void(this.values[b]=c):(this.updating=!0,h(c,this.values[b])&&this.ready||(d=Zi.call(this.regex.exec(b),1),e=[c,this.values[b],b].concat(d),this.values[b]=c,this.callback.apply(this.context,e)),void(this.updating=!1))},getProxy:function(a){var b=this;return this.proxies[a.str]||(this.proxies[a.str]={update:function(){return b.reallyUpdate(a)}}),this.proxies[a.str]}};var $i,_i,aj,bj,cj,dj,ej=Wi,fj=ya,gj={},hj=za,ij=Aa,jj=function(a){return a.trim()},kj=function(a){return""!==a},lj=Ba,mj=Ca,nj=Da,oj=Ea,pj=Array.prototype,qj=function(a){return function(b){for(var c=arguments.length,d=Array(c>1?c-1:0),e=1;c>e;e++)d[e-1]=arguments[e];var g,h,i,j,k=[];if(b=y(B(b)),g=this.viewmodel.get(b),h=g.length,!f(g))throw new Error("Called ractive."+a+"('"+b.str+"'), but '"+b.str+"' does not refer to an array");return k=oj(g,a,d),j=pj[a].apply(g,d),i=oi.start(this,!0).then(function(){return j}),k?this.viewmodel.smartUpdate(b,g,k):this.viewmodel.mark(b),oi.end(),i}},rj=qj("pop"),sj=qj("push"),tj="/* Ractive.js component styles */\n",uj=[],vj=!1;$g?(aj=document.createElement("style"),aj.type="text/css",bj=document.getElementsByTagName("head")[0],dj=!1,cj=aj.styleSheet,_i=function(){var a=tj+uj.map(function(a){return"\n/* {"+a.id+"} */\n"+a.styles}).join("\n");cj?cj.cssText=a:aj.innerHTML=a,dj||(bj.appendChild(aj),dj=!0)},$i={add:function(a){uj.push(a),vj=!0},apply:function(){vj&&(_i(),vj=!1)}}):$i={add:Eh,apply:Eh};var wj,xj,yj=$i,zj=Ga,Aj=new bi("render"),Bj=new bi("complete"),Cj={extend:function(a,b,c){b.adapt=Ia(b.adapt,I(c.adapt))},init:function(){}},Dj=Cj,Ej=Ja,Fj=/(?:^|\})?\s*([^\{\}]+)\s*\{/g,Gj=/\/\*.*?\*\//g,Hj=/((?:(?:\[[^\]+]\])|(?:[^\s\+\>\~:]))+)((?::[^\s\+\>\~\(]+(?:\([^\)]+\))?)?\s*[\s\+\>\~]?)\s*/g,Ij=/^@media/,Jj=/\[data-ractive-css~="\{[a-z0-9-]+\}"]/g,Kj=1,Lj={name:"css",extend:function(a,b,c){if(c.css){var d=Kj++,e=c.noCssTransform?c.css:Ej(c.css,d);b.cssId=d,yj.add({id:d,styles:e})}},init:function(){}},Mj=Lj,Nj={name:"data",extend:function(a,b,c){var d=void 0,e=void 0;if(c.data&&j(c.data))for(d in c.data)e=c.data[d],e&&"object"==typeof e&&(j(e)||f(e))&&p("Passing a `data` option with object and array properties to Ractive.extend() is discouraged, as mutating them is likely to cause bugs. Consider using a data function instead:\n\n  // this...\n  data: function () {\n    return {\n      myObject: {}\n    };\n  })\n\n  // instead of this:\n  data: {\n    myObject: {}\n  }");b.data=Na(b.data,c.data)},init:function(a,b,c){var d=Na(a.prototype.data,c.data);return"function"==typeof d&&(d=d.call(b)),d||{}},reset:function(a){var b=this.init(a.constructor,a,a.viewmodel);return a.viewmodel.reset(b),!0}},Oj=Nj,Pj=/^\s+/;xj=function(a){this.name="ParseError",this.message=a;try{throw new Error(a)}catch(b){this.stack=b.stack}},xj.prototype=Error.prototype,wj=function(a,b){var c,d,e=0;for(this.str=a,this.options=b||{},this.pos=0,this.lines=this.str.split("\n"),this.lineEnds=this.lines.map(function(a){var b=e+a.length+1;return e=b,b},0),this.init&&this.init(a,b),c=[];this.pos<this.str.length&&(d=this.read());)c.push(d);this.leftover=this.remaining(),this.result=this.postProcess?this.postProcess(c,b):c},wj.prototype={read:function(a){var b,c,d,e;for(a||(a=this.converters),b=this.pos,d=a.length,c=0;d>c;c+=1)if(this.pos=b,e=a[c](this))return e;return null},getLinePos:function(a){for(var b,c=0,d=0;a>=this.lineEnds[c];)d=this.lineEnds[c],c+=1;return b=a-d,[c+1,b+1,a]},error:function(a){var b=this.getLinePos(this.pos),c=b[0],d=b[1],e=this.lines[b[0]-1],f=0,g=e.replace(/\t/g,function(a,c){return c<b[1]&&(f+=1),"  "})+"\n"+new Array(b[1]+f).join(" ")+"^----",h=new xj(""+a+" at line "+c+" character "+d+":\n"+g);throw h.line=b[0],h.character=b[1],h.shortMessage=a,h},matchString:function(a){return this.str.substr(this.pos,a.length)===a?(this.pos+=a.length,a):void 0},matchPattern:function(a){var b;return(b=a.exec(this.remaining()))?(this.pos+=b[0].length,b[1]||b[0]):void 0},allowWhitespace:function(){this.matchPattern(Pj)},remaining:function(){return this.str.substring(this.pos)},nextChar:function(){return this.str.charAt(this.pos)}},wj.extend=function(a){var b,c,d=this;b=function(a,b){wj.call(this,a,b)},b.prototype=th(d.prototype);for(c in a)Bh.call(a,c)&&(b.prototype[c]=a[c]);return b.extend=wj.extend,b};var Qj,Rj,Sj,Tj=wj,Uj=1,Vj=2,Wj=3,Xj=4,Yj=5,Zj=6,$j=7,_j=8,ak=9,bk=10,ck=13,dk=14,ek=15,fk=16,gk=17,hk=18,ik=20,jk=21,kk=22,lk=23,mk=24,nk=25,ok=26,pk=27,qk=30,rk=31,sk=32,tk=33,uk=34,vk=35,wk=36,xk=40,yk=50,zk=51,Ak=52,Bk=53,Ck=54,Dk=60,Ek=61,Fk=Qa,Gk=/^[^\s=]+/,Hk=/^\s+/,Ik=Ra,Jk=/^(\/(?:[^\n\r\u2028\u2029\/\\[]|\\.|\[(?:[^\n\r\u2028\u2029\]\\]|\\.)*])+\/(?:([gimuy])(?![a-z]*\2))*(?![a-zA-Z_$0-9]))/,Kk=Sa,Lk={t:bk,exclude:!0},Mk="Expected a JavaScript expression",Nk="Expected closing paren",Ok=Ua,Pk=/^(?:[+-]?)0*(?:(?:(?:[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,Qk=Va;Qj=/^(?=.)[^"'\\]+?(?:(?!.)|(?=["'\\]))/,Rj=/^\\(?:['"\\bfnrt]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|(?=.)[^ux0-9])/,Sj=/^\\(?:\r\n|[\u000A\u000D\u2028\u2029])/;var Rk,Sk,Tk=function(a){return function(b){var c,d,e,f;for(c=b.pos,d='"',e=!1;!e;)f=b.matchPattern(Qj)||b.matchPattern(Rj)||b.matchString(a),f?d+='"'===f?'\\"':"\\'"===f?"'":f:(f=b.matchPattern(Sj),f?d+="\\u"+("000"+f.charCodeAt(1).toString(16)).slice(-4):e=!0);return d+='"',JSON.parse(d)}},Uk=Tk('"'),Vk=Tk("'"),Wk=function(a){var b,c;return b=a.pos,a.matchString('"')?(c=Vk(a),a.matchString('"')?{t:jk,v:c}:(a.pos=b,null)):a.matchString("'")?(c=Uk(a),a.matchString("'")?{t:jk,v:c}:(a.pos=b,null)):null},Xk=/^[a-zA-Z_$][a-zA-Z_$0-9]*/,Yk=Wa,Zk=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/,$k=Xa,_k=Ya,al=function(a){var b,c;return b=a.pos,a.allowWhitespace(),a.matchString("{")?(c=_k(a),a.allowWhitespace(),a.matchString("}")?{t:lk,m:c}:(a.pos=b,null)):(a.pos=b,null)},bl=Za,cl=function(a){var b,c;return b=a.pos,a.allowWhitespace(),a.matchString("[")?(c=bl(a),a.matchString("]")?{t:kk,m:c}:(a.pos=b,null)):(a.pos=b,null)},dl=$a,el=_a,fl=/^(?:~\/|(?:\.\.\/)+|\.\/(?:\.\.\/)*|\.)/;Rk=/^(?:Array|console|Date|RegExp|decodeURIComponent|decodeURI|encodeURIComponent|encodeURI|isFinite|isNaN|parseFloat|parseInt|JSON|Math|NaN|undefined|null)\b/,Sk=/^(?:break|case|catch|continue|debugger|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|var|void|while|with)$/;var gl,hl,il=/^[a-zA-Z$_0-9]+(?:(?:\.[a-zA-Z$_0-9]+)|(?:\[[0-9]+\]))*/,jl=/^[a-zA-Z_$][-a-zA-Z_$0-9]*/,kl=ab,ll=function(a){return dl(a)||el(a)||kl(a)},ml=bb,nl=function(a){var b,c,d,e;if(c=ll(a),!c)return null;for(;c;)if(b=a.pos,d=ml(a))c={t:sk,x:c,r:d};else{if(!a.matchString("("))break;a.allowWhitespace(),e=bl(a),a.allowWhitespace(),a.matchString(")")||a.error(Nk),c={t:xk,x:c},e&&(c.o=e)}return c};hl=function(a,b){return function(c){var d;return(d=b(c))?d:c.matchString(a)?(c.allowWhitespace(),d=Bl(c),d||c.error(Mk),{s:a,o:d,t:tk}):null}},function(){var a,b,c,d,e;for(d="! ~ + - typeof".split(" "),e=nl,a=0,b=d.length;b>a;a+=1)c=hl(d[a],e),e=c;gl=e}();var ol,pl,ql=gl;pl=function(a,b){return function(c){var d,e,f;if(e=b(c),!e)return null;for(;;){if(d=c.pos,c.allowWhitespace(),!c.matchString(a))return c.pos=d,e;if("in"===a&&/[a-zA-Z_$0-9]/.test(c.remaining().charAt(0)))return c.pos=d,e;if(c.allowWhitespace(),f=b(c),!f)return c.pos=d,e;e={t:wk,s:a,o:[e,f]}}}},function(){var a,b,c,d,e;for(d="* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||".split(" "),e=ql,a=0,b=d.length;b>a;a+=1)c=pl(d[a],e),e=c;ol=e}();var rl,sl,tl,ul,vl,wl,xl,yl,zl=ol,Al=cb,Bl=db,Cl=eb,Dl=gb,El=/^[0-9][1-9]*$/,Fl=ib,Gl=jb,Hl=kb,Il=lb,Jl=mb,Kl=nb,Ll=ob,Ml=/^yield\s*/,Nl=pb,Ol=qb,Pl=/^\s*else\s*/,Ql=rb,Rl=/^\s*elseif\s+/,Sl={each:Ak,"if":yk,"if-with":Ck,"with":Bk,unless:zk},Tl=sb,Ul=/^\s*:\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,Vl=/^\s*,\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,Wl=new RegExp("^("+Object.keys(Sl).join("|")+")\\b"),Xl=xb,Yl="<!--",Zl="-->";rl=/^(allowFullscreen|async|autofocus|autoplay|checked|compact|controls|declare|default|defaultChecked|defaultMuted|defaultSelected|defer|disabled|enabled|formNoValidate|hidden|indeterminate|inert|isMap|itemScope|loop|multiple|muted|noHref|noResize|noShade|noValidate|noWrap|open|pauseOnExit|readOnly|required|reversed|scoped|seamless|selected|sortable|translate|trueSpeed|typeMustMatch|visible)$/i,sl=/^(?:area|base|br|col|command|doctype|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i,tl={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},ul=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376],vl=new RegExp("&(#?(?:x[\\w\\d]+|\\d+|"+Object.keys(tl).join("|")+"));?","g"),wl=/</g,xl=/>/g,yl=/&/g;var $l,_l,am,bm,cm,dm,em,fm=/^\s*\r?\n/,gm=/\r?\n\s*$/,hm=function(a){var b,c,d,e,f;for(b=1;b<a.length;b+=1)c=a[b],d=a[b-1],e=a[b-2],Bb(c)&&Cb(d)&&Bb(e)&&gm.test(e)&&fm.test(c)&&(a[b-2]=e.replace(gm,"\n"),a[b]=c.replace(fm,"")),Db(c)&&Bb(d)&&gm.test(d)&&Bb(c.f[0])&&fm.test(c.f[0])&&(a[b-1]=d.replace(gm,"\n"),c.f[0]=c.f[0].replace(fm,"")),Bb(c)&&Db(d)&&(f=J(d.f),Bb(f)&&gm.test(f)&&fm.test(c)&&(d.f[d.f.length-1]=f.replace(gm,"\n"),a[b]=c.replace(fm,"")));return a},im=function(a,b,c){var d;b&&(d=a[0],"string"==typeof d&&(d=d.replace(b,""),d?a[0]=d:a.shift())),c&&(d=J(a),"string"==typeof d&&(d=d.replace(c,""),d?a[a.length-1]=d:a.pop()))},jm=Eb,km=/[ \t\f\r\n]+/g,lm=/^(?:pre|script|style|textarea)$/i,mm=/^[ \t\f\r\n]+/,nm=/[ \t\f\r\n]+$/,om=/^(?:\r\n|\r|\n)/,pm=/(?:\r\n|\r|\n)$/,qm=Fb,rm=/^([a-zA-Z]{1,}:?[a-zA-Z0-9\-]*)\s*\>/,sm=function(a,b){var c,d,e;for(c=b.length;c--;){if(d=a.indexOf(b[c]),!d)return 0;-1!==d&&(!e||e>d)&&(e=d)}return e||-1},tm=Gb,um=/^[^\s"'>\/=]+/,vm=/^[^\s"'=<>`]+/;_l={"true":!0,"false":!1,undefined:void 0,"null":null},am=new RegExp("^(?:"+Object.keys(_l).join("|")+")"),bm=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,cm=/\$\{([^\}]+)\}/g,dm=/^\$\{([^\}]+)\}/,em=/^\s*$/,$l=Tj.extend({init:function(a,b){this.values=b.values,this.allowWhitespace()},postProcess:function(a){return 1===a.length&&em.test(this.leftover)?{value:a[0].v}:null},converters:[function(a){var b;return a.values?(b=a.matchPattern(dm),b&&a.values.hasOwnProperty(b)?{v:a.values[b]}:void 0):null},function(a){var b;return(b=a.matchPattern(am))?{v:_l[b]}:void 0},function(a){var b;return(b=a.matchPattern(bm))?{v:+b}:void 0},function(a){var b,c=Wk(a);return c&&(b=a.values)?{v:c.v.replace(cm,function(a,c){return c in b?b[c]:c})}:c},function(a){var b,c;if(!a.matchString("{"))return null;if(b={},a.allowWhitespace(),a.matchString("}"))return{v:b};for(;c=Mb(a);){if(b[c.key]=c.value,a.allowWhitespace(),a.matchString("}"))return{v:b};if(!a.matchString(","))return null}return null},function(a){var b,c;if(!a.matchString("["))return null;if(b=[],a.allowWhitespace(),a.matchString("]"))return{v:b};for(;c=a.read();){if(b.push(c.v),a.allowWhitespace(),a.matchString("]"))return{v:b};if(!a.matchString(","))return null;a.allowWhitespace()}return null}]});var wm,xm=function(a,b){var c=new $l(a,{values:b});return c.result},ym=Nb,zm=/^([a-zA-Z_$][a-zA-Z_$0-9]*)\(/,Am=/\)\s*$/;wm=Tj.extend({converters:[Bl]});var Bm,Cm=/^[a-zA-Z]{1,}:?[a-zA-Z0-9\-]*/,Dm=/^[\s\n\/>]/,Em=/^on/,Fm=/^on-([a-zA-Z\\*\\.$_][a-zA-Z\\*\\.$_0-9\-]+)$/,Gm=/^(?:change|reset|teardown|update|construct|config|init|render|unrender|detach|insert)$/,Hm={"intro-outro":"t0",intro:"t1",outro:"t2",decorator:"o"},Im={exclude:!0};Bm={li:["li"],dt:["dt","dd"],dd:["dt","dd"],p:"address article aside blockquote div dl fieldset footer form h1 h2 h3 h4 h5 h6 header hgroup hr main menu nav ol p pre section table ul".split(" "),rt:["rt","rp"],rp:["rt","rp"],optgroup:["optgroup"],option:["option","optgroup"],thead:["tbody","tfoot"],tbody:["tbody","tfoot"],tfoot:["tbody"],tr:["tr","tbody"],td:["td","th","tr"],th:["td","th","tr"]};var Jm,Km=Ob,Lm=Qb,Mm=Rb,Nm=/[-\/\\^$*+?.()|[\]{}]/g,Om=Sb,Pm=/^<!--\s*/,Qm=/s*>\s*([a-zA-Z_$][-a-zA-Z_$0-9]*)\s*/,Rm=/\s*-->/,Sm=Tb,Tm=/^#\s*partial\s+/,Um=Ub,Vm=Vb,Wm=[Hl,Gl,Tl,Ll,Kl,Il],Xm=[Fl],Ym=[Gl,Tl,Kl],Zm=void 0,$m=[Kk,Xl,Km,Lm],_m=[Om,Sm];Zm=Tj.extend({init:function(a,b){var c=b.tripleDelimiters||["{{{","}}}"],d=b.staticDelimiters||["[[","]]"],e=b.staticTripleDelimiters||["[[[","]]]"];this.standardDelimiters=b.delimiters||["{{","}}"],this.tags=[{isStatic:!1,isTriple:!1,open:this.standardDelimiters[0],close:this.standardDelimiters[1],readers:Wm},{isStatic:!1,isTriple:!0,open:c[0],close:c[1],readers:Xm},{isStatic:!0,isTriple:!1,open:d[0],close:d[1],readers:Ym},{isStatic:!0,isTriple:!0,open:e[0],close:e[1],readers:Xm}],this.sortMustacheTags(),this.sectionDepth=0,this.elementStack=[],this.interpolate={script:!b.interpolate||b.interpolate.script!==!1,style:!b.interpolate||b.interpolate.style!==!1},b.sanitize===!0&&(b.sanitize={elements:"applet base basefont body frame frameset head html isindex link meta noframes noscript object param script style title".split(" "),eventAttributes:!0}),this.stripComments=b.stripComments!==!1,this.preserveWhitespace=b.preserveWhitespace,this.sanitizeElements=b.sanitize&&b.sanitize.elements,this.sanitizeEventAttributes=b.sanitize&&b.sanitize.eventAttributes,this.includeLinePositions=b.includeLinePositions},postProcess:function(a){return a.length?(this.sectionDepth>0&&this.error("A section was left open"),jm(a[0].t,this.stripComments,this.preserveWhitespace,!this.preserveWhitespace,!this.preserveWhitespace),a[0]):{t:[],v:fh}},converters:[Um],sortMustacheTags:function(){this.tags.sort(function(a,b){return b.open.length-a.open.length})}});var an,bn,cn,dn=["preserveWhitespace","sanitize","stripComments","delimiters","tripleDelimiters","interpolate"],en={fromId:Yb,isHashedId:Zb,isParsed:$b,getParseOptions:_b,createHelper:Wb,parse:Xb},fn=en,gn={name:"template",extend:function(a,b,c){var d;"template"in c&&(d=c.template,"function"==typeof d?b.template=d:b.template=dc(d,b))},init:function(a,b,c){var d,e;d="template"in c?c.template:a.prototype.template,"function"==typeof d&&(e=d,d=bc(b,e),b._config.template={fn:e,result:d}),d=dc(d,b),b.template=d.t,d.p&&ec(b.partials,d.p)},reset:function(a){var b,c=ac(a);return c?(b=dc(c,a),a.template=b.t,ec(a.partials,b.p,!0),!0):void 0}},hn=gn;an=["adaptors","components","computed","decorators","easing","events","interpolators","partials","transitions"],bn=function(a,b){this.name=a,this.useDefaults=b},bn.prototype={constructor:bn,extend:function(a,b,c){this.configure(this.useDefaults?a.defaults:a,this.useDefaults?b:b.constructor,c)},init:function(){},configure:function(a,b,c){var d,e=this.name,f=c[e];d=th(a[e]);for(var g in f)d[g]=f[g];b[e]=d},reset:function(a){var b=a[this.name],c=!1;return Object.keys(b).forEach(function(a){var d=b[a];d._fn&&(d._fn.isOwner?b[a]=d._fn:delete b[a],c=!0)}),c}},cn=an.map(function(a){return new bn(a,"computed"===a)});var jn,kn,ln,mn,nn,on,pn=cn,qn=fc,rn=jc;mn={adapt:Dj,css:Mj,data:Oj,template:hn},ln=Object.keys(hh),on=mc(ln.filter(function(a){return!mn[a]})),nn=mc(ln.concat(pn.map(function(a){return a.name}))),kn=[].concat(ln.filter(function(a){return!pn[a]&&!mn[a]}),pn,mn.data,mn.template,mn.css),jn={extend:function(a,b,c){return kc("extend",a,b,c)},init:function(a,b,c){return kc("init",a,b,c)},reset:function(a){return kn.filter(function(b){return b.reset&&b.reset(a)}).map(function(a){return a.name})},order:kn};var sn=jn,tn=nc,un=oc,vn=pc,wn=qc,xn=rc,yn=sc,zn=tc,An=uc,Bn=vc,Cn=wc,Dn=xc,En=yc,Fn=function(){return b(this.node)},Gn=function(a){this.type=Uj,this.text=a.template};Gn.prototype={detach:Fn,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createTextNode(this.text)),this.node},toString:function(a){return a?Ab(this.text):this.text},unrender:function(a){return a?this.detach():void 0}};var Hn=Gn,In=zc,Jn=Ac,Kn=function(a,b,c){var d;this.ref=b,this.resolved=!1,this.root=a.root,this.parentFragment=a.parentFragment,this.callback=c,d=hi(a.root,b,a.parentFragment),void 0!=d?this.resolve(d):oi.addUnresolved(this)};Kn.prototype={resolve:function(a){this.keypath&&!a&&oi.addUnresolved(this),this.resolved=!0,this.keypath=a,this.callback(a)},forceResolution:function(){this.resolve(y(this.ref))},rebind:function(a,b){var c;void 0!=this.keypath&&(c=this.keypath.replace(a,b),void 0!==c&&this.resolve(c))},unbind:function(){this.resolved||oi.removeUnresolved(this)}};var Ln=Kn,Mn=function(a,b,c){this.parentFragment=a.parentFragment,this.ref=b,this.callback=c,this.rebind()},Nn={"@keypath":{prefix:"c",prop:["context"]},"@index":{prefix:"i",prop:["index"]},"@key":{prefix:"k",prop:["key","index"]}};Mn.prototype={rebind:function(){var a,b=this.ref,c=this.parentFragment,d=Nn[b];if(!d)throw new Error('Unknown special reference "'+b+'" - valid references are @index, @key and @keypath');if(this.cached)return this.callback(y("@"+d.prefix+Bc(this.cached,d)));if(-1!==d.prop.indexOf("index")||-1!==d.prop.indexOf("key"))for(;c;){if(c.owner.currentSubtype===Ak&&void 0!==(a=Bc(c,d)))return this.cached=c,c.registerIndexRef(this),this.callback(y("@"+d.prefix+a));c=!c.parent&&c.owner&&c.owner.component&&c.owner.component.parentFragment&&!c.owner.component.instance.isolated?c.owner.component.parentFragment:c.parent}else for(;c;){if(void 0!==(a=Bc(c,d)))return this.callback(y("@"+d.prefix+a.str));c=c.parent}},unbind:function(){this.cached&&this.cached.unregisterIndexRef(this)}};var On=Mn,Pn=function(a,b,c){this.parentFragment=a.parentFragment,this.ref=b,this.callback=c,b.ref.fragment.registerIndexRef(this),this.rebind()};Pn.prototype={rebind:function(){var a,b=this.ref.ref;a="k"===b.ref.t?"k"+b.fragment.key:"i"+b.fragment.index,void 0!==a&&this.callback(y("@"+a))},unbind:function(){this.ref.ref.fragment.unregisterIndexRef(this)}};var Qn=Pn,Rn=Cc;Cc.resolve=function(a){var b,c,d={};for(b in a.refs)c=a.refs[b],d[c.ref.n]="k"===c.ref.t?c.fragment.key:c.fragment.index;return d};var Sn,Tn=Dc,Un=Ec,Vn={},Wn=Function.prototype.bind;Sn=function(a,b,c,d){var e,f=this;e=a.root,this.root=e,this.parentFragment=b,this.callback=d,this.owner=a,this.str=c.s,this.keypaths=[],this.pending=c.r.length,this.refResolvers=c.r.map(function(a,b){return Tn(f,a,function(a){f.resolve(b,a)})}),this.ready=!0,this.bubble()},Sn.prototype={bubble:function(){this.ready&&(this.uniqueString=Gc(this.str,this.keypaths),this.keypath=Hc(this.uniqueString),this.createEvaluator(),this.callback(this.keypath))},unbind:function(){for(var a;a=this.refResolvers.pop();)a.unbind()},resolve:function(a,b){this.keypaths[a]=b,this.bubble()},createEvaluator:function(){var a,b,c,d,e,f=this;d=this.keypath,a=this.root.viewmodel.computations[d.str],a?this.root.viewmodel.mark(d):(e=Un(this.str,this.refResolvers.length),b=this.keypaths.map(function(a){var b;return"undefined"===a?function(){}:a.isSpecial?(b=a.value,function(){return b}):function(){var b=f.root.viewmodel.get(a,{noUnwrap:!0,fullRootGet:!0});return"function"==typeof b&&(b=Jc(b,f.root)),b}}),c={deps:this.keypaths.filter(Ic),getter:function(){var a=b.map(Fc);return e.apply(null,a)}},a=this.root.viewmodel.compute(d,c))},rebind:function(a,b){this.refResolvers.forEach(function(c){return c.rebind(a,b)})}};var Xn=Sn,Yn=function(a,b,c){var d=this;this.resolver=b,this.root=b.root,this.parentFragment=c,this.viewmodel=b.root.viewmodel,"string"==typeof a?this.value=a:a.t===qk?this.refResolver=Tn(this,a.n,function(a){d.resolve(a)}):new Xn(b,c,a,function(a){d.resolve(a)})};Yn.prototype={resolve:function(a){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.keypath=a,this.value=this.viewmodel.get(a),this.bind(),this.resolver.bubble()},bind:function(){this.viewmodel.register(this.keypath,this)},rebind:function(a,b){this.refResolver&&this.refResolver.rebind(a,b)},setValue:function(a){this.value=a,this.resolver.bubble()},unbind:function(){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.refResolver&&this.refResolver.unbind()},forceResolution:function(){this.refResolver&&this.refResolver.forceResolution()}};var Zn=Yn,$n=function(a,b,c){var d,e,f,g,h=this;this.parentFragment=g=a.parentFragment,this.root=d=a.root,this.mustache=a,this.ref=e=b.r,this.callback=c,this.unresolved=[],(f=hi(d,e,g))?this.base=f:this.baseResolver=new Ln(this,e,function(a){h.base=a,h.baseResolver=null,h.bubble()}),this.members=b.m.map(function(a){return new Zn(a,h,g)}),this.ready=!0,this.bubble()};$n.prototype={getKeypath:function(){var a=this.members.map(Kc);return!a.every(Lc)||this.baseResolver?null:this.base.join(a.join("."))},bubble:function(){this.ready&&!this.baseResolver&&this.callback(this.getKeypath())},unbind:function(){this.members.forEach(V)},rebind:function(a,b){var c;if(this.base){var d=this.base.replace(a,b);d&&d!==this.base&&(this.base=d,c=!0)}this.members.forEach(function(d){d.rebind(a,b)&&(c=!0)}),c&&this.bubble()},forceResolution:function(){this.baseResolver&&(this.base=y(this.ref),this.baseResolver.unbind(),this.baseResolver=null),this.members.forEach(Mc),this.bubble()}};var _n=$n,ao=Nc,bo=Oc,co=Pc,eo={getValue:Jn,init:ao,resolve:bo,rebind:co},fo=function(a){this.type=Vj,eo.init(this,a)};fo.prototype={update:function(){this.node.data=void 0==this.value?"":this.value},resolve:eo.resolve,rebind:eo.rebind,detach:Fn,unbind:In,render:function(){return this.node||(this.node=document.createTextNode(c(this.value))),this.node},unrender:function(a){a&&b(this.node)},getValue:eo.getValue,setValue:function(a){var b;this.keypath&&(b=this.root.viewmodel.wrapped[this.keypath.str])&&(a=b.get()),h(a,this.value)||(this.value=a,this.parentFragment.bubble(),this.node&&oi.addView(this))},firstNode:function(){return this.node},toString:function(a){var b=""+c(this.value);return a?Ab(b):b}};var go=fo,ho=Qc,io=Rc,jo=Sc,ko=Tc,lo=Uc,mo=Vc,no=Wc,oo=Xc,po=Yc,qo=function(a,b){eo.rebind.call(this,a,b)},ro=$c,so=_c,to=kd,uo=ld,vo=md,wo=pd,xo=function(a){this.type=Xj,this.subtype=this.currentSubtype=a.template.n,this.inverted=this.subtype===zk,this.pElement=a.pElement,this.fragments=[],this.fragmentsToCreate=[],this.fragmentsToRender=[],this.fragmentsToUnrender=[],a.template.i&&(this.indexRefs=a.template.i.split(",").map(function(a,b){return{n:a,t:0===b?"k":"i"}})),this.renderedFragments=[],this.length=0,eo.init(this,a)};xo.prototype={bubble:ho,detach:io,find:jo,findAll:ko,findAllComponents:lo,findComponent:mo,findNextNode:no,firstNode:oo,getIndexRef:function(a){if(this.indexRefs)for(var b=this.indexRefs.length;b--;){var c=this.indexRefs[b];if(c.n===a)return c}},getValue:eo.getValue,shuffle:po,rebind:qo,render:ro,resolve:eo.resolve,setValue:so,toString:to,unbind:uo,unrender:vo,update:wo};var yo,zo,Ao=xo,Bo=qd,Co=rd,Do=sd,Eo=td,Fo={};try{kh("table").innerHTML="foo"}catch(xh){yo=!0,zo={TABLE:['<table class="x">',"</table>"],THEAD:['<table><thead class="x">',"</thead></table>"],TBODY:['<table><tbody class="x">',"</tbody></table>"],TR:['<table><tr class="x">',"</tr></table>"],SELECT:['<select class="x">',"</select>"]}}var Go=function(a,b,c){var d,e,f,g,h,i=[];if(null!=a&&""!==a){for(yo&&(e=zo[b.tagName])?(d=ud("DIV"),d.innerHTML=e[0]+a+e[1],d=d.querySelector(".x"),"SELECT"===d.tagName&&(f=d.options[d.selectedIndex])):b.namespaceURI===ch.svg?(d=ud("DIV"),d.innerHTML='<svg class="x">'+a+"</svg>",d=d.querySelector(".x")):(d=ud(b.tagName),
d.innerHTML=a,"SELECT"===d.tagName&&(f=d.options[d.selectedIndex]));g=d.firstChild;)i.push(g),c.appendChild(g);if("SELECT"===b.tagName)for(h=i.length;h--;)i[h]!==f&&(i[h].selected=!1)}return i},Ho=vd,Io=xd,Jo=yd,Ko=zd,Lo=Ad,Mo=Bd,No=function(a){this.type=Wj,eo.init(this,a)};No.prototype={detach:Bo,find:Co,findAll:Do,firstNode:Eo,getValue:eo.getValue,rebind:eo.rebind,render:Io,resolve:eo.resolve,setValue:Jo,toString:Ko,unbind:In,unrender:Lo,update:Mo};var Oo,Po,Qo,Ro,So=No,To=function(){this.parentFragment.bubble()},Uo=Cd,Vo=function(a){return this.node?lh(this.node,a)?this.node:this.fragment&&this.fragment.find?this.fragment.find(a):void 0:null},Wo=function(a,b){b._test(this,!0)&&b.live&&(this.liveQueries||(this.liveQueries=[])).push(b),this.fragment&&this.fragment.findAll(a,b)},Xo=function(a,b){this.fragment&&this.fragment.findAllComponents(a,b)},Yo=function(a){return this.fragment?this.fragment.findComponent(a):void 0},Zo=Dd,$o=Ed,_o=Fd,ap=/^true|on|yes|1$/i,bp=/^[0-9]+$/,cp=function(a,b){var c,d,e;return e=b.a||{},d={},c=e.twoway,void 0!==c&&(d.twoway=0===c||ap.test(c)),c=e.lazy,void 0!==c&&(0!==c&&bp.test(c)?d.lazy=parseInt(c):d.lazy=0===c||ap.test(c)),d},dp=Gd;Oo="altGlyph altGlyphDef altGlyphItem animateColor animateMotion animateTransform clipPath feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence foreignObject glyphRef linearGradient radialGradient textPath vkern".split(" "),Po="attributeName attributeType baseFrequency baseProfile calcMode clipPathUnits contentScriptType contentStyleType diffuseConstant edgeMode externalResourcesRequired filterRes filterUnits glyphRef gradientTransform gradientUnits kernelMatrix kernelUnitLength keyPoints keySplines keyTimes lengthAdjust limitingConeAngle markerHeight markerUnits markerWidth maskContentUnits maskUnits numOctaves pathLength patternContentUnits patternTransform patternUnits pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits refX refY repeatCount repeatDur requiredExtensions requiredFeatures specularConstant specularExponent spreadMethod startOffset stdDeviation stitchTiles surfaceScale systemLanguage tableValues targetX targetY textLength viewBox viewTarget xChannelSelector yChannelSelector zoomAndPan".split(" "),Qo=function(a){for(var b={},c=a.length;c--;)b[a[c].toLowerCase()]=a[c];return b},Ro=Qo(Oo.concat(Po));var ep=function(a){var b=a.toLowerCase();return Ro[b]||b},fp=function(a,b){var c,d;if(c=b.indexOf(":"),-1===c||(d=b.substr(0,c),"xmlns"===d))a.name=a.element.namespace!==ch.html?ep(b):b;else if(b=b.substring(c+1),a.name=ep(b),a.namespace=ch[d.toLowerCase()],a.namespacePrefix=d,!a.namespace)throw'Unknown namespace ("'+d+'")'},gp=Hd,hp=Id,ip=Jd,jp=Kd,kp={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"},lp=Ld,mp=Nd,np=Od,op=Pd,pp=Qd,qp=Rd,rp=Sd,sp=Td,tp=Ud,up=Vd,vp=Wd,wp=Xd,xp=Yd,yp=Zd,zp=$d,Ap=function(a){this.init(a)};Ap.prototype={bubble:dp,init:hp,rebind:ip,render:jp,toString:lp,unbind:mp,update:zp};var Bp,Cp=Ap,Dp=function(a,b){var c,d,e=[];for(c in b)"twoway"!==c&&"lazy"!==c&&b.hasOwnProperty(c)&&(d=new Cp({element:a,name:c,value:b[c],root:a.root}),e[c]=d,"value"!==c&&e.push(d));return(d=e.value)&&e.push(d),e};"undefined"!=typeof document&&(Bp=kh("div"));var Ep=function(a,b){this.element=a,this.root=a.root,this.parentFragment=a.parentFragment,this.attributes=[],this.fragment=new st({root:a.root,owner:this,template:[b]})};Ep.prototype={bubble:function(){this.node&&this.update(),this.element.bubble()},rebind:function(a,b){this.fragment.rebind(a,b)},render:function(a){this.node=a,this.isSvg=a.namespaceURI===ch.svg,this.update()},unbind:function(){this.fragment.unbind()},update:function(){var a,b,c=this;a=this.fragment.toString(),b=_d(a,this.isSvg),this.attributes.filter(function(a){return ae(b,a)}).forEach(function(a){c.node.removeAttribute(a.name)}),b.forEach(function(a){c.node.setAttribute(a.name,a.value)}),this.attributes=b},toString:function(){return this.fragment.toString()}};var Fp=Ep,Gp=function(a,b){return b?b.map(function(b){return new Fp(a,b)}):[]},Hp=function(a){var b,c,d,e;if(this.element=a,this.root=a.root,this.attribute=a.attributes[this.name||"value"],b=this.attribute.interpolator,b.twowayBinding=this,c=b.keypath){if("}"===c.str.slice(-1))return q("Two-way binding does not work with expressions (`%s` on <%s>)",b.resolver.uniqueString,a.name,{ractive:this.root}),!1;if(c.isSpecial)return q("Two-way binding does not work with %s",b.resolver.ref,{ractive:this.root}),!1}else{var f=b.template.r?"'"+b.template.r+"' reference":"expression";p("The %s being used for two-way binding is ambiguous, and may cause unexpected results. Consider initialising your data to eliminate the ambiguity",f,{ractive:this.root}),b.resolver.forceResolution(),c=b.keypath}this.attribute.isTwoway=!0,this.keypath=c,d=this.root.viewmodel.get(c),void 0===d&&this.getInitialValue&&(d=this.getInitialValue(),void 0!==d&&this.root.viewmodel.set(c,d)),(e=be(a))&&(this.resetValue=d,e.formBindings.push(this))};Hp.prototype={handleChange:function(){var a=this;oi.start(this.root),this.attribute.locked=!0,this.root.viewmodel.set(this.keypath,this.getValue()),oi.scheduleTask(function(){return a.attribute.locked=!1}),oi.end()},rebound:function(){var a,b,c;b=this.keypath,c=this.attribute.interpolator.keypath,b!==c&&(K(this.root._twowayBindings[b.str],this),this.keypath=c,a=this.root._twowayBindings[c.str]||(this.root._twowayBindings[c.str]=[]),a.push(this))},unbind:function(){}},Hp.extend=function(a){var b,c=this;return b=function(a){Hp.call(this,a),this.init&&this.init()},b.prototype=th(c.prototype),d(b.prototype,a),b.extend=Hp.extend,b};var Ip,Jp=Hp,Kp=ce;Ip=Jp.extend({getInitialValue:function(){return""},getValue:function(){return this.element.node.value},render:function(){var a,b=this.element.node,c=!1;this.rendered=!0,a=this.root.lazy,this.element.lazy===!0?a=!0:this.element.lazy===!1?a=!1:i(this.element.lazy)?(a=!1,c=+this.element.lazy):i(a||"")&&(c=+a,a=!1,this.element.lazy=c),this.handler=c?ee:Kp,b.addEventListener("change",Kp,!1),a||(b.addEventListener("input",this.handler,!1),b.attachEvent&&b.addEventListener("keyup",this.handler,!1)),b.addEventListener("blur",de,!1)},unrender:function(){var a=this.element.node;this.rendered=!1,a.removeEventListener("change",Kp,!1),a.removeEventListener("input",this.handler,!1),a.removeEventListener("keyup",this.handler,!1),a.removeEventListener("blur",de,!1)}});var Lp=Ip,Mp=Lp.extend({getInitialValue:function(){return this.element.fragment?this.element.fragment.toString():""},getValue:function(){return this.element.node.innerHTML}}),Np=Mp,Op=fe,Pp={},Qp=Jp.extend({name:"checked",init:function(){this.siblings=Op(this.root._guid,"radio",this.element.getAttribute("name")),this.siblings.push(this)},render:function(){var a=this.element.node;a.addEventListener("change",Kp,!1),a.attachEvent&&a.addEventListener("click",Kp,!1)},unrender:function(){var a=this.element.node;a.removeEventListener("change",Kp,!1),a.removeEventListener("click",Kp,!1)},handleChange:function(){oi.start(this.root),this.siblings.forEach(function(a){a.root.viewmodel.set(a.keypath,a.getValue())}),oi.end()},getValue:function(){return this.element.node.checked},unbind:function(){K(this.siblings,this)}}),Rp=Qp,Sp=Jp.extend({name:"name",init:function(){this.siblings=Op(this.root._guid,"radioname",this.keypath.str),this.siblings.push(this),this.radioName=!0},getInitialValue:function(){return this.element.getAttribute("checked")?this.element.getAttribute("value"):void 0},render:function(){var a=this.element.node;a.name="{{"+this.keypath.str+"}}",a.checked=this.root.viewmodel.get(this.keypath)==this.element.getAttribute("value"),a.addEventListener("change",Kp,!1),a.attachEvent&&a.addEventListener("click",Kp,!1)},unrender:function(){var a=this.element.node;a.removeEventListener("change",Kp,!1),a.removeEventListener("click",Kp,!1)},getValue:function(){var a=this.element.node;return a._ractive?a._ractive.value:a.value},handleChange:function(){this.element.node.checked&&Jp.prototype.handleChange.call(this)},rebound:function(a,b){var c;Jp.prototype.rebound.call(this,a,b),(c=this.element.node)&&(c.name="{{"+this.keypath.str+"}}")},unbind:function(){K(this.siblings,this)}}),Tp=Sp,Up=Jp.extend({name:"name",getInitialValue:function(){return this.noInitialValue=!0,[]},init:function(){var a,b;this.checkboxName=!0,this.siblings=Op(this.root._guid,"checkboxes",this.keypath.str),this.siblings.push(this),this.noInitialValue&&(this.siblings.noInitialValue=!0),this.siblings.noInitialValue&&this.element.getAttribute("checked")&&(a=this.root.viewmodel.get(this.keypath),b=this.element.getAttribute("value"),a.push(b))},unbind:function(){K(this.siblings,this)},render:function(){var a,b,c=this.element.node;a=this.root.viewmodel.get(this.keypath),b=this.element.getAttribute("value"),f(a)?this.isChecked=G(a,b):this.isChecked=a==b,c.name="{{"+this.keypath.str+"}}",c.checked=this.isChecked,c.addEventListener("change",Kp,!1),c.attachEvent&&c.addEventListener("click",Kp,!1)},unrender:function(){var a=this.element.node;a.removeEventListener("change",Kp,!1),a.removeEventListener("click",Kp,!1)},changed:function(){var a=!!this.isChecked;return this.isChecked=this.element.node.checked,this.isChecked===a},handleChange:function(){this.isChecked=this.element.node.checked,Jp.prototype.handleChange.call(this)},getValue:function(){return this.siblings.filter(ge).map(he)}}),Vp=Up,Wp=Jp.extend({name:"checked",render:function(){var a=this.element.node;a.addEventListener("change",Kp,!1),a.attachEvent&&a.addEventListener("click",Kp,!1)},unrender:function(){var a=this.element.node;a.removeEventListener("change",Kp,!1),a.removeEventListener("click",Kp,!1)},getValue:function(){return this.element.node.checked}}),Xp=Wp,Yp=Jp.extend({getInitialValue:function(){var a,b,c,d,e=this.element.options;if(void 0===this.element.getAttribute("value")&&(b=a=e.length,a)){for(;b--;)if(e[b].getAttribute("selected")){c=e[b].getAttribute("value"),d=!0;break}if(!d)for(;++b<a;)if(!e[b].getAttribute("disabled")){c=e[b].getAttribute("value");break}return void 0!==c&&(this.element.attributes.value.value=c),c}},render:function(){this.element.node.addEventListener("change",Kp,!1)},unrender:function(){this.element.node.removeEventListener("change",Kp,!1)},setValue:function(a){this.root.viewmodel.set(this.keypath,a)},getValue:function(){var a,b,c,d,e;for(a=this.element.node.options,c=a.length,b=0;c>b;b+=1)if(d=a[b],a[b].selected)return e=d._ractive?d._ractive.value:d.value},forceUpdate:function(){var a=this,b=this.getValue();void 0!==b&&(this.attribute.locked=!0,oi.scheduleTask(function(){return a.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,b))}}),Zp=Yp,$p=Zp.extend({getInitialValue:function(){return this.element.options.filter(function(a){return a.getAttribute("selected")}).map(function(a){return a.getAttribute("value")})},render:function(){var a;this.element.node.addEventListener("change",Kp,!1),a=this.root.viewmodel.get(this.keypath),void 0===a&&this.handleChange()},unrender:function(){this.element.node.removeEventListener("change",Kp,!1)},setValue:function(){throw new Error("TODO not implemented yet")},getValue:function(){var a,b,c,d,e,f;for(a=[],b=this.element.node.options,d=b.length,c=0;d>c;c+=1)e=b[c],e.selected&&(f=e._ractive?e._ractive.value:e.value,a.push(f));return a},handleChange:function(){var a,b,c;return a=this.attribute,b=a.value,c=this.getValue(),void 0!==b&&H(c,b)||Zp.prototype.handleChange.call(this),this},forceUpdate:function(){var a=this,b=this.getValue();void 0!==b&&(this.attribute.locked=!0,oi.scheduleTask(function(){return a.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,b))},updateModel:function(){void 0!==this.attribute.value&&this.attribute.value.length||this.root.viewmodel.set(this.keypath,this.initialValue)}}),_p=$p,aq=Jp.extend({render:function(){this.element.node.addEventListener("change",Kp,!1)},unrender:function(){this.element.node.removeEventListener("change",Kp,!1)},getValue:function(){return this.element.node.files}}),bq=aq,cq=Lp.extend({getInitialValue:function(){},getValue:function(){var a=parseFloat(this.element.node.value);return isNaN(a)?void 0:a}}),dq=ie,eq=ke,fq=le,gq=me,hq=ne,iq=/^event(?:\.(.+))?/,jq=re,kq=se,lq={},mq={touchstart:!0,touchmove:!0,touchend:!0,touchcancel:!0,touchleave:!0},nq=ue,oq=ve,pq=we,qq=xe,rq=ye,sq=function(a,b,c){this.init(a,b,c)};sq.prototype={bubble:eq,fire:fq,getAction:gq,init:hq,listen:kq,rebind:nq,render:oq,resolve:pq,unbind:qq,unrender:rq};var tq=sq,uq=function(a,b){var c,d,e,f,g=[];for(d in b)if(b.hasOwnProperty(d))for(e=d.split("-"),c=e.length;c--;)f=new tq(a,e[c],b[d]),g.push(f);return g},vq=function(a,b){var c,d,e,f=this;this.element=a,this.root=c=a.root,d=b.n||b,("string"==typeof d||(e=new st({template:d,root:c,owner:a}),d=e.toString(),e.unbind(),""!==d))&&(b.a?this.params=b.a:b.d&&(this.fragment=new st({template:b.d,root:c,owner:a}),this.params=this.fragment.getArgsList(),this.fragment.bubble=function(){this.dirtyArgs=this.dirtyValue=!0,f.params=this.getArgsList(),f.ready&&f.update()}),this.fn=r("decorators",c,d),this.fn||l(Ih(d,"decorator")))};vq.prototype={init:function(){var a,b,c;if(a=this.element.node,this.params?(c=[a].concat(this.params),b=this.fn.apply(this.root,c)):b=this.fn.call(this.root,a),!b||!b.teardown)throw new Error("Decorator definition must return an object with a teardown method");this.actual=b,this.ready=!0},update:function(){this.actual.update?this.actual.update.apply(this.root,this.params):(this.actual.teardown(!0),this.init())},rebind:function(a,b){this.fragment&&this.fragment.rebind(a,b)},teardown:function(a){this.torndown=!0,this.ready&&this.actual.teardown(),!a&&this.fragment&&this.fragment.unbind()}};var wq,xq,yq,zq=vq,Aq=Fe,Bq=Ge,Cq=Me,Dq=function(a){return a.replace(/-([a-zA-Z])/g,function(a,b){return b.toUpperCase()})};$g?(xq={},yq=kh("div").style,wq=function(a){var b,c,d;if(a=Dq(a),!xq[a])if(void 0!==yq[a])xq[a]=a;else for(d=a.charAt(0).toUpperCase()+a.substring(1),b=eh.length;b--;)if(c=eh[b],void 0!==yq[c+d]){xq[a]=c+d;break}return xq[a]}):wq=null;var Eq,Fq,Gq=wq;$g?(Fq=window.getComputedStyle||wh.getComputedStyle,Eq=function(a){var b,c,d,e,g;if(b=Fq(this.node),"string"==typeof a)return g=b[Gq(a)],"0px"===g&&(g=0),g;if(!f(a))throw new Error("Transition$getStyle must be passed a string, or an array of strings representing CSS properties");for(c={},d=a.length;d--;)e=a[d],g=b[Gq(e)],"0px"===g&&(g=0),c[e]=g;return c}):Eq=null;var Hq=Eq,Iq=function(a,b){var c;if("string"==typeof a)this.node.style[Gq(a)]=b;else for(c in a)a.hasOwnProperty(c)&&(this.node.style[Gq(c)]=a[c]);return this},Jq=function(a){var b;this.duration=a.duration,this.step=a.step,this.complete=a.complete,"string"==typeof a.easing?(b=a.root.easing[a.easing],b||(q(Ih(a.easing,"easing")),b=Ne)):b="function"==typeof a.easing?a.easing:Ne,this.easing=b,this.start=$h(),this.end=this.start+this.duration,this.running=!0,ri.add(this)};Jq.prototype={tick:function(a){var b,c;return this.running?a>this.end?(this.step&&this.step(1),this.complete&&this.complete(1),!1):(b=a-this.start,c=this.easing(b/this.duration),this.step&&this.step(c),!0):!1},stop:function(){this.abort&&this.abort(),this.running=!1}};var Kq,Lq,Mq,Nq,Oq,Pq,Qq,Rq,Sq=Jq,Tq=new RegExp("^-(?:"+eh.join("|")+")-"),Uq=function(a){return a.replace(Tq,"")},Vq=new RegExp("^(?:"+eh.join("|")+")([A-Z])"),Wq=function(a){var b;return a?(Vq.test(a)&&(a="-"+a),b=a.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()})):""},Xq={},Yq={};$g?(Lq=kh("div").style,function(){void 0!==Lq.transition?(Mq="transition",Nq="transitionend",Oq=!0):void 0!==Lq.webkitTransition?(Mq="webkitTransition",Nq="webkitTransitionEnd",Oq=!0):Oq=!1}(),Mq&&(Pq=Mq+"Duration",Qq=Mq+"Property",Rq=Mq+"TimingFunction"),Kq=function(a,b,c,d,e){setTimeout(function(){var f,g,h,i,j;i=function(){g&&h&&(a.root.fire(a.name+":end",a.node,a.isIntro),e())},f=(a.node.namespaceURI||"")+a.node.tagName,a.node.style[Qq]=d.map(Gq).map(Wq).join(","),a.node.style[Rq]=Wq(c.easing||"linear"),a.node.style[Pq]=c.duration/1e3+"s",j=function(b){var c;c=d.indexOf(Dq(Uq(b.propertyName))),-1!==c&&d.splice(c,1),d.length||(a.node.removeEventListener(Nq,j,!1),h=!0,i())},a.node.addEventListener(Nq,j,!1),setTimeout(function(){for(var e,k,l,m,n,o=d.length,q=[];o--;)m=d[o],e=f+m,Oq&&!Yq[e]&&(a.node.style[Gq(m)]=b[m],Xq[e]||(k=a.getStyle(m),Xq[e]=a.getStyle(m)!=b[m],Yq[e]=!Xq[e],Yq[e]&&(a.node.style[Gq(m)]=k))),(!Oq||Yq[e])&&(void 0===k&&(k=a.getStyle(m)),l=d.indexOf(m),-1===l?p("Something very strange happened with transitions. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!",{node:a.node}):d.splice(l,1),n=/[^\d]*$/.exec(b[m])[0],q.push({name:Gq(m),interpolator:Kh(parseFloat(k),parseFloat(b[m])),suffix:n}));q.length?new Sq({root:a.root,duration:c.duration,easing:Dq(c.easing||""),step:function(b){var c,d;for(d=q.length;d--;)c=q[d],a.node.style[c.name]=c.interpolator(b)+c.suffix},complete:function(){g=!0,i()}}):g=!0,d.length||(a.node.removeEventListener(Nq,j,!1),h=!0,i())},0)},c.delay||0)}):Kq=null;var Zq,$q,_q,ar,br,cr=Kq;if("undefined"!=typeof document){if(Zq="hidden",br={},Zq in document)_q="";else for(ar=eh.length;ar--;)$q=eh[ar],Zq=$q+"Hidden",Zq in document&&(_q=$q);void 0!==_q?(document.addEventListener(_q+"visibilitychange",Oe),Oe()):("onfocusout"in document?(document.addEventListener("focusout",Pe),document.addEventListener("focusin",Qe)):(window.addEventListener("pagehide",Pe),window.addEventListener("blur",Pe),window.addEventListener("pageshow",Qe),window.addEventListener("focus",Qe)),br.hidden=!1)}var dr,er,fr,gr=br;$g?(er=window.getComputedStyle||wh.getComputedStyle,dr=function(a,b,c){var d,e=this;if(4===arguments.length)throw new Error("t.animateStyle() returns a promise - use .then() instead of passing a callback");if(gr.hidden)return this.setStyle(a,b),fr||(fr=fi.resolve());"string"==typeof a?(d={},d[a]=b):(d=a,c=b),c||(q('The "%s" transition does not supply an options object to `t.animateStyle()`. This will break in a future version of Ractive. For more info see https://github.com/RactiveJS/Ractive/issues/340',this.name),c=this);var f=new fi(function(a){var b,f,g,h,i,j,k;if(!c.duration)return e.setStyle(d),void a();for(b=Object.keys(d),f=[],g=er(e.node),i={},j=b.length;j--;)k=b[j],h=g[Gq(k)],"0px"===h&&(h=0),h!=d[k]&&(f.push(k),e.node.style[Gq(k)]=h);return f.length?void cr(e,d,c,f,a):void a()});return f}):dr=null;var hr=dr,ir=function(a,b){return"number"==typeof a?a={duration:a}:"string"==typeof a?a="slow"===a?{duration:600}:"fast"===a?{duration:200}:{duration:400}:a||(a={}),e({},a,b)},jr=Re,kr=function(a,b,c){this.init(a,b,c)};kr.prototype={init:Cq,start:jr,getStyle:Hq,setStyle:Iq,animateStyle:hr,processParams:ir};var lr,mr,nr=kr,or=Te;lr=function(){var a=this.node,b=this.fragment.toString(!1);if(window&&window.appearsToBeIELessEqual8&&(a.type="text/css"),a.styleSheet)a.styleSheet.cssText=b;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(document.createTextNode(b))}},mr=function(){this.node.type&&"text/javascript"!==this.node.type||p("Script tag was updated. This does not cause the code to be re-evaluated!",{ractive:this.root}),this.node.text=this.fragment.toString(!1)};var pr=function(){var a,b;return this.template.y?"<!DOCTYPE"+this.template.dd+">":(a="<"+this.template.e,a+=this.attributes.map(Ze).join("")+this.conditionalAttributes.map(Ze).join(""),"option"===this.name&&Xe(this)&&(a+=" selected"),"input"===this.name&&Ye(this)&&(a+=" checked"),a+=">","textarea"===this.name&&void 0!==this.getAttribute("value")?a+=Ab(this.getAttribute("value")):void 0!==this.getAttribute("contenteditable")&&(a+=this.getAttribute("value")||""),this.fragment&&(b="script"!==this.name&&"style"!==this.name,a+=this.fragment.toString(b)),sl.test(this.template.e)||(a+="</"+this.template.e+">"),a)},qr=$e,rr=_e,sr=function(a){this.init(a)};sr.prototype={bubble:To,detach:Uo,find:Vo,findAll:Wo,findAllComponents:Xo,findComponent:Yo,findNextNode:Zo,firstNode:$o,getAttribute:_o,init:Aq,rebind:Bq,render:or,toString:pr,unbind:qr,unrender:rr};var tr=sr,ur=/^\s*$/,vr=/^\s*/,wr=function(a){var b,c,d,e;return b=a.split("\n"),c=b[0],void 0!==c&&ur.test(c)&&b.shift(),d=J(b),void 0!==d&&ur.test(d)&&b.pop(),e=b.reduce(bf,null),e&&(a=b.map(function(a){return a.replace(e,"")}).join("\n")),a},xr=cf,yr=function(a,b){var c;return b?c=a.split("\n").map(function(a,c){return c?b+a:a}).join("\n"):a},zr='Could not find template for partial "%s"',Ar=function(a){var b,c;b=this.parentFragment=a.parentFragment,this.root=b.root,this.type=_j,this.index=a.index,this.name=a.template.r,this.rendered=!1,this.fragment=this.fragmentToRender=this.fragmentToUnrender=null,eo.init(this,a),this.keypath||((c=xr(this.root,this.name,b))?(In.call(this),this.isNamed=!0,this.setTemplate(c)):q(zr,this.name))};Ar.prototype={bubble:function(){this.parentFragment.bubble()},detach:function(){return this.fragment.detach()},find:function(a){return this.fragment.find(a)},findAll:function(a,b){return this.fragment.findAll(a,b)},findComponent:function(a){return this.fragment.findComponent(a)},findAllComponents:function(a,b){return this.fragment.findAllComponents(a,b)},firstNode:function(){return this.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},getPartialName:function(){return this.isNamed&&this.name?this.name:void 0===this.value?this.name:this.value},getValue:function(){return this.fragment.getValue()},rebind:function(a,b){this.isNamed||co.call(this,a,b),this.fragment&&this.fragment.rebind(a,b)},render:function(){return this.docFrag=document.createDocumentFragment(),this.update(),this.rendered=!0,this.docFrag},resolve:eo.resolve,setValue:function(a){var b;(void 0===a||a!==this.value)&&(void 0!==a&&(b=xr(this.root,""+a,this.parentFragment)),!b&&this.name&&(b=xr(this.root,this.name,this.parentFragment))&&(In.call(this),this.isNamed=!0),b||q(zr,this.name,{ractive:this.root}),this.value=a,this.setTemplate(b||[]),this.bubble(),this.rendered&&oi.addView(this))},setTemplate:function(a){this.fragment&&(this.fragment.unbind(),this.rendered&&(this.fragmentToUnrender=this.fragment)),this.fragment=new st({template:a,root:this.root,owner:this,pElement:this.parentFragment.pElement}),this.fragmentToRender=this.fragment},toString:function(a){var b,c,d,e;return b=this.fragment.toString(a),c=this.parentFragment.items[this.index-1],c&&c.type===Uj?(d=c.text.split("\n").pop(),(e=/^\s+$/.exec(d))?yr(b,e[0]):b):b},unbind:function(){this.isNamed||In.call(this),this.fragment&&this.fragment.unbind()},unrender:function(a){this.rendered&&(this.fragment&&this.fragment.unrender(a),this.rendered=!1)},update:function(){var a,b;this.fragmentToUnrender&&(this.fragmentToUnrender.unrender(!0),this.fragmentToUnrender=null),this.fragmentToRender&&(this.docFrag.appendChild(this.fragmentToRender.render()),this.fragmentToRender=null),this.rendered&&(a=this.parentFragment.getNode(),b=this.parentFragment.findNextNode(this),a.insertBefore(this.docFrag,b))}};var Br,Cr,Dr,Er=Ar,Fr=hf,Gr=jf,Hr=new bi("detach"),Ir=kf,Jr=lf,Kr=mf,Lr=nf,Mr=of,Nr=pf,Or=function(a,b,c,d){var e=a.root,f=a.keypath;d?e.viewmodel.smartUpdate(f,b,d):e.viewmodel.mark(f)},Pr=[],Qr=["pop","push","reverse","shift","sort","splice","unshift"];Qr.forEach(function(a){var b=function(){for(var b=arguments.length,c=Array(b),d=0;b>d;d++)c[d]=arguments[d];var e,f,g,h;for(e=oj(this,a,c),f=Array.prototype[a].apply(this,arguments),oi.start(),this._ractive.setting=!0,h=this._ractive.wrappers.length;h--;)g=this._ractive.wrappers[h],oi.addRactive(g.root),Or(g,this,a,e);return oi.end(),this._ractive.setting=!1,f};uh(Pr,a,{value:b})}),Br={},Br.__proto__?(Cr=function(a){a.__proto__=Pr},Dr=function(a){a.__proto__=Array.prototype}):(Cr=function(a){var b,c;for(b=Qr.length;b--;)c=Qr[b],uh(a,c,{value:Pr[c],configurable:!0})},Dr=function(a){var b;for(b=Qr.length;b--;)delete a[Qr[b]]}),Cr.unpatch=Dr;var Rr,Sr,Tr,Ur=Cr;Rr={filter:function(a){return f(a)&&(!a._ractive||!a._ractive.setting)},wrap:function(a,b,c){return new Sr(a,b,c)}},Sr=function(a,b,c){this.root=a,this.value=b,this.keypath=y(c),b._ractive||(uh(b,"_ractive",{value:{wrappers:[],instances:[],setting:!1},configurable:!0}),Ur(b)),b._ractive.instances[a._guid]||(b._ractive.instances[a._guid]=0,b._ractive.instances.push(a)),b._ractive.instances[a._guid]+=1,b._ractive.wrappers.push(this)},Sr.prototype={get:function(){return this.value},teardown:function(){var a,b,c,d,e;if(a=this.value,b=a._ractive,c=b.wrappers,d=b.instances,b.setting)return!1;if(e=c.indexOf(this),-1===e)throw new Error(Tr);if(c.splice(e,1),c.length){if(d[this.root._guid]-=1,!d[this.root._guid]){if(e=d.indexOf(this.root),-1===e)throw new Error(Tr);d.splice(e,1)}}else delete a._ractive,Ur.unpatch(this.value)}},Tr="Something went wrong in a rather interesting way";var Vr,Wr,Xr=Rr,Yr=/^\s*[0-9]+\s*$/,Zr=function(a){return Yr.test(a)?[]:{}};try{Object.defineProperty({},"test",{value:0}),Vr={filter:function(a,b,c){var d,e;return b?(b=y(b),(d=c.viewmodel.wrapped[b.parent.str])&&!d.magic?!1:(e=c.viewmodel.get(b.parent),f(e)&&/^[0-9]+$/.test(b.lastKey)?!1:e&&("object"==typeof e||"function"==typeof e))):!1},wrap:function(a,b,c){return new Wr(a,b,c)}},Wr=function(a,b,c){var d,e,f;return c=y(c),this.magic=!0,this.ractive=a,this.keypath=c,this.value=b,this.prop=c.lastKey,d=c.parent,this.obj=d.isRoot?a.viewmodel.data:a.viewmodel.get(d),e=this.originalDescriptor=Object.getOwnPropertyDescriptor(this.obj,this.prop),e&&e.set&&(f=e.set._ractiveWrappers)?void(-1===f.indexOf(this)&&f.push(this)):void qf(this,b,e)},Wr.prototype={get:function(){return this.value},reset:function(a){return this.updating?void 0:(this.updating=!0,this.obj[this.prop]=a,oi.addRactive(this.ractive),this.ractive.viewmodel.mark(this.keypath,{keepExistingWrapper:!0}),this.updating=!1,!0)},set:function(a,b){this.updating||(this.obj[this.prop]||(this.updating=!0,this.obj[this.prop]=Zr(a),this.updating=!1),this.obj[this.prop][a]=b)},teardown:function(){var a,b,c,d,e;return this.updating?!1:(a=Object.getOwnPropertyDescriptor(this.obj,this.prop),b=a&&a.set,void(b&&(d=b._ractiveWrappers,e=d.indexOf(this),-1!==e&&d.splice(e,1),d.length||(c=this.obj[this.prop],Object.defineProperty(this.obj,this.prop,this.originalDescriptor||{writable:!0,enumerable:!0,configurable:!0}),this.obj[this.prop]=c))))}}}catch(xh){Vr=!1}var $r,_r,as=Vr;as&&($r={filter:function(a,b,c){return as.filter(a,b,c)&&Xr.filter(a)},wrap:function(a,b,c){return new _r(a,b,c)}},_r=function(a,b,c){this.value=b,this.magic=!0,this.magicWrapper=as.wrap(a,b,c),this.arrayWrapper=Xr.wrap(a,b,c)},_r.prototype={get:function(){return this.value},teardown:function(){this.arrayWrapper.teardown(),this.magicWrapper.teardown()},reset:function(a){return this.magicWrapper.reset(a)}});var bs=$r,cs=rf,ds={},es=uf,fs=vf,gs=yf,hs=Df,is=Ef,js=function(a,b){this.computation=a,this.viewmodel=a.viewmodel,this.ref=b,this.root=this.viewmodel.ractive,this.parentFragment=this.root.component&&this.root.component.parentFragment};js.prototype={resolve:function(a){this.computation.softDeps.push(a),this.computation.unresolvedDeps[a.str]=null,this.viewmodel.register(a,this.computation,"computed")}};var ks=js,ls=function(a,b){this.key=a,this.getter=b.getter,this.setter=b.setter,this.hardDeps=b.deps||[],this.softDeps=[],this.unresolvedDeps={},this.depValues={},this._dirty=this._firstRun=!0};ls.prototype={constructor:ls,init:function(a){var b,c=this;this.viewmodel=a,this.bypass=!0,b=a.get(this.key),a.clearCache(this.key.str),this.bypass=!1,this.setter&&void 0!==b&&this.set(b),this.hardDeps&&this.hardDeps.forEach(function(b){return a.register(b,c,"computed")})},invalidate:function(){this._dirty=!0},get:function(){var a,b,c=this,d=!1;if(this.getting){var e="The "+this.key.str+" computation indirectly called itself. This probably indicates a bug in the computation. It is commonly caused by `array.sort(...)` - if that's the case, clone the array first with `array.slice().sort(...)`";return o(e),this.value}if(this.getting=!0,this._dirty){if(this._firstRun||!this.hardDeps.length&&!this.softDeps.length?d=!0:[this.hardDeps,this.softDeps].forEach(function(a){var b,e,f;if(!d)for(f=a.length;f--;)if(b=a[f],e=c.viewmodel.get(b),!h(e,c.depValues[b.str]))return c.depValues[b.str]=e,void(d=!0)}),d){this.viewmodel.capture();try{this.value=this.getter()}catch(f){p('Failed to compute "%s"',this.key.str),m(f.stack||f),this.value=void 0}a=this.viewmodel.release(),b=this.updateDependencies(a),b&&[this.hardDeps,this.softDeps].forEach(function(a){a.forEach(function(a){c.depValues[a.str]=c.viewmodel.get(a)})})}this._dirty=!1}return this.getting=this._firstRun=!1,this.value},set:function(a){if(this.setting)return void(this.value=a);if(!this.setter)throw new Error("Computed properties without setters are read-only. (This may change in a future version of Ractive!)");this.setter(a)},updateDependencies:function(a){var b,c,d,e,f;for(c=this.softDeps,b=c.length;b--;)d=c[b],-1===a.indexOf(d)&&(e=!0,this.viewmodel.unregister(d,this,"computed"));for(b=a.length;b--;)d=a[b],-1!==c.indexOf(d)||this.hardDeps&&-1!==this.hardDeps.indexOf(d)||(e=!0,Ff(this.viewmodel,d)&&!this.unresolvedDeps[d.str]?(f=new ks(this,d.str),a.splice(b,1),this.unresolvedDeps[d.str]=f,oi.addUnresolved(f)):this.viewmodel.register(d,this,"computed"));return e&&(this.softDeps=a.slice()),e}};var ms=ls,ns=Gf,os={FAILED_LOOKUP:!0},ps=Hf,qs={},rs=Jf,ss=Kf,ts=function(a,b){this.localKey=a,this.keypath=b.keypath,this.origin=b.origin,this.deps=[],this.unresolved=[],this.resolved=!1};ts.prototype={forceResolution:function(){this.keypath=this.localKey,this.setup()},get:function(a,b){return this.resolved?this.origin.get(this.map(a),b):void 0},getValue:function(){return this.keypath?this.origin.get(this.keypath):void 0},initViewmodel:function(a){this.local=a,this.setup()},map:function(a){return void 0===typeof this.keypath?this.localKey:a.replace(this.localKey,this.keypath)},register:function(a,b,c){this.deps.push({keypath:a,dep:b,group:c}),this.resolved&&this.origin.register(this.map(a),b,c)},resolve:function(a){void 0!==this.keypath&&this.unbind(!0),this.keypath=a,this.setup()},set:function(a,b){this.resolved||this.forceResolution(),this.origin.set(this.map(a),b)},setup:function(){var a=this;void 0!==this.keypath&&(this.resolved=!0,this.deps.length&&(this.deps.forEach(function(b){var c=a.map(b.keypath);if(a.origin.register(c,b.dep,b.group),b.dep.setValue)b.dep.setValue(a.origin.get(c));else{if(!b.dep.invalidate)throw new Error("An unexpected error occurred. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!");b.dep.invalidate()}}),this.origin.mark(this.keypath)))},setValue:function(a){if(!this.keypath)throw new Error("Mapping does not have keypath, cannot set value. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!");this.origin.set(this.keypath,a)},unbind:function(a){var b=this;a||delete this.local.mappings[this.localKey],this.resolved&&(this.deps.forEach(function(a){b.origin.unregister(b.map(a.keypath),a.dep,a.group)}),this.tracker&&this.origin.unregister(this.keypath,this.tracker))},unregister:function(a,b,c){var d,e;if(this.resolved){for(d=this.deps,e=d.length;e--;)if(d[e].dep===b){d.splice(e,1);break}this.origin.unregister(this.map(a),b,c)}}};var us=Lf,vs=function(a,b){var c,d,e,f;return c={},d=0,e=a.map(function(a,e){var g,h,i;h=d,i=b.length;do{if(g=b.indexOf(a,h),-1===g)return f=!0,-1;h=g+1}while(c[g]&&i>h);return g===d&&(d+=1),g!==e&&(f=!0),
c[g]=!0,g})},ws=Mf,xs={},ys=Pf,zs=Rf,As=Sf,Bs=Tf,Cs=Vf,Ds={implicit:!0},Es={noCascade:!0},Fs=Xf,Gs=Yf,Hs=function(a){var b,c,d=a.adapt,e=a.data,f=a.ractive,g=a.computed,h=a.mappings;this.ractive=f,this.adaptors=d,this.onchange=a.onchange,this.cache={},this.cacheMap=th(null),this.deps={computed:th(null),"default":th(null)},this.depsMap={computed:th(null),"default":th(null)},this.patternObservers=[],this.specials=th(null),this.wrapped=th(null),this.computations=th(null),this.captureGroups=[],this.unresolvedImplicitDependencies=[],this.changes=[],this.implicitChanges={},this.noCascade={},this.data=e,this.mappings=th(null);for(b in h)this.map(y(b),h[b]);if(e)for(b in e)(c=this.mappings[b])&&void 0===c.getValue()&&c.setValue(e[b]);for(b in g)h&&b in h&&l("Cannot map to a computed property ('%s')",b),this.compute(y(b),g[b]);this.ready=!0};Hs.prototype={adapt:cs,applyChanges:gs,capture:hs,clearCache:is,compute:ns,get:ps,init:rs,map:ss,mark:us,merge:ws,register:ys,release:zs,reset:As,set:Bs,smartUpdate:Cs,teardown:Fs,unregister:Gs};var Is=Hs;$f.prototype={constructor:$f,begin:function(a){this.inProcess[a._guid]=!0},end:function(a){var b=a.parent;b&&this.inProcess[b._guid]?_f(this.queue,b).push(a):ag(this,a),delete this.inProcess[a._guid]}};var Js=$f,Ks=bg,Ls=/\$\{([^\}]+)\}/g,Ms=new bi("construct"),Ns=new bi("config"),Os=new Js("init"),Ps=0,Qs=["adaptors","components","decorators","easing","events","interpolators","partials","transitions"],Rs=fg,Ss=kg;kg.prototype={bubble:function(){this.dirty||(this.dirty=!0,oi.addView(this))},update:function(){this.callback(this.fragment.getValue()),this.dirty=!1},rebind:function(a,b){this.fragment.rebind(a,b)},unbind:function(){this.fragment.unbind()}};var Ts=function(a,b,c,e,g){var h,i,j,k,l,m,n={},o={},q={},r=[];for(i=a.parentFragment,j=a.root,g=g||{},d(n,g),g.content=e||[],n[""]=g.content,b.defaults.el&&p("The <%s/> component has a default `el` property; it has been disregarded",a.name),k=i;k;){if(k.owner.type===fk){l=k.owner.container;break}k=k.parent}return c&&Object.keys(c).forEach(function(b){var d,e,g=c[b];if("string"==typeof g)d=xm(g),o[b]=d?d.value:g;else if(0===g)o[b]=!0;else{if(!f(g))throw new Error("erm wut");mg(g)?(q[b]={origin:a.root.viewmodel,keypath:void 0},e=lg(a,g[0],function(a){a.isSpecial?m?h.set(b,a.value):(o[b]=a.value,delete q[b]):m?h.viewmodel.mappings[b].resolve(a):q[b].keypath=a})):e=new Ss(a,g,function(a){m?h.set(b,a):o[b]=a}),r.push(e)}}),h=th(b.prototype),Rs(h,{el:null,append:!0,data:o,partials:g,magic:j.magic||b.defaults.magic,modifyArrays:j.modifyArrays,adapt:j.adapt},{parent:j,component:a,container:l,mappings:q,inlinePartials:n,cssIds:i.cssIds}),m=!0,a.resolvers=r,h},Us=ng,Vs=function(a){var b,c;for(b=a.root;b;)(c=b._liveComponentQueries["_"+a.name])&&c.push(a.instance),b=b.parent},Ws=pg,Xs=qg,Ys=rg,Zs=sg,$s=tg,_s=new bi("teardown"),at=vg,bt=function(a,b){this.init(a,b)};bt.prototype={detach:Gr,find:Ir,findAll:Jr,findAllComponents:Kr,findComponent:Lr,findNextNode:Mr,firstNode:Nr,init:Ws,rebind:Xs,render:Ys,toString:Zs,unbind:$s,unrender:at};var ct=bt,dt=function(a){this.type=ak,this.value=a.template.c};dt.prototype={detach:Fn,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createComment(this.value)),this.node},toString:function(){return"<!--"+this.value+"-->"},unrender:function(a){a&&this.node.parentNode.removeChild(this.node)}};var et=dt,ft=function(a){var b,c;this.type=fk,this.container=b=a.parentFragment.root,this.component=c=b.component,this.container=b,this.containerFragment=a.parentFragment,this.parentFragment=c.parentFragment;var d=this.name=a.template.n||"",e=b._inlinePartials[d];e||(p('Could not find template for partial "'+d+'"',{ractive:a.root}),e=[]),this.fragment=new st({owner:this,root:b.parent,template:e,pElement:this.containerFragment.pElement}),f(c.yielders[d])?c.yielders[d].push(this):c.yielders[d]=[this],oi.scheduleTask(function(){if(c.yielders[d].length>1)throw new Error("A component template can only have one {{yield"+(d?" "+d:"")+"}} declaration at a time")})};ft.prototype={detach:function(){return this.fragment.detach()},find:function(a){return this.fragment.find(a)},findAll:function(a,b){return this.fragment.findAll(a,b)},findComponent:function(a){return this.fragment.findComponent(a)},findAllComponents:function(a,b){return this.fragment.findAllComponents(a,b)},findNextNode:function(){return this.containerFragment.findNextNode(this)},firstNode:function(){return this.fragment.firstNode()},getValue:function(a){return this.fragment.getValue(a)},render:function(){return this.fragment.render()},unbind:function(){this.fragment.unbind()},unrender:function(a){this.fragment.unrender(a),K(this.component.yielders[this.name],this)},rebind:function(a,b){this.fragment.rebind(a,b)},toString:function(){return this.fragment.toString()}};var gt=ft,ht=function(a){this.declaration=a.template.a};ht.prototype={init:Eh,render:Eh,unrender:Eh,teardown:Eh,toString:function(){return"<!DOCTYPE"+this.declaration+">"}};var it=ht,jt=wg,kt=yg,lt=zg,mt=Ag,nt=Dg,ot=Fg,pt=function(a){this.init(a)};pt.prototype={bubble:tn,detach:un,find:vn,findAll:wn,findAllComponents:xn,findComponent:yn,findNextNode:zn,firstNode:An,getArgsList:Cn,getNode:Dn,getValue:En,init:jt,rebind:kt,registerIndexRef:function(a){var b=this.registeredIndexRefs;-1===b.indexOf(a)&&b.push(a)},render:lt,toString:mt,unbind:nt,unregisterIndexRef:function(a){var b=this.registeredIndexRefs;b.splice(b.indexOf(a),1)},unrender:ot};var qt,rt,st=pt,tt=Gg,ut=["template","partials","components","decorators","events"],vt=new bi("reset"),wt=function(a,b){function c(b,d,e){e&&e.partials[a]||b.forEach(function(b){b.type===_j&&b.getPartialName()===a&&d.push(b),b.fragment&&c(b.fragment.items,d,e),f(b.fragments)?c(b.fragments,d,e):f(b.items)?c(b.items,d,e):b.type===ek&&b.instance&&c(b.instance.fragment.items,d,b.instance),b.type===$j&&(f(b.attributes)&&c(b.attributes,d,e),f(b.conditionalAttributes)&&c(b.conditionalAttributes,d,e))})}var d,e=[];return c(this.fragment.items,e),this.partials[a]=b,d=oi.start(this,!0),e.forEach(function(b){b.value=void 0,b.setValue(a)}),oi.end(),d},xt=Hg,yt=qj("reverse"),zt=Ig,At=qj("shift"),Bt=qj("sort"),Ct=qj("splice"),Dt=Kg,Et=Lg,Ft=new bi("teardown"),Gt=Ng,Ht=Og,It=Pg,Jt=new bi("unrender"),Kt=qj("unshift"),Lt=Qg,Mt=new bi("update"),Nt=Rg,Ot={add:Xh,animate:ui,detach:wi,find:yi,findAll:Hi,findAllComponents:Ii,findComponent:Ji,findContainer:Ki,findParent:Li,fire:Pi,get:Qi,insert:Si,merge:Ui,observe:hj,observeOnce:ij,off:lj,on:mj,once:nj,pop:rj,push:sj,render:zj,reset:tt,resetPartial:wt,resetTemplate:xt,reverse:yt,set:zt,shift:At,sort:Bt,splice:Ct,subtract:Dt,teardown:Et,toggle:Gt,toHTML:Ht,toHtml:Ht,unrender:It,unshift:Kt,update:Lt,updateModel:Nt},Pt=function(a,b,c){return c||Tg(a,b)?function(){var c,d="_super"in this,e=this._super;return this._super=b,c=a.apply(this,arguments),d&&(this._super=e),c}:a},Qt=Ug,Rt=Yg,St=function(a){var b,c,d={};return a&&(b=a._ractive)?(d.ractive=b.root,d.keypath=b.keypath.str,d.index={},(c=Rn(b.proxy.parentFragment))&&(d.index=Rn.resolve(c)),d):d};qt=function(a){return this instanceof qt?void Rs(this,a):new qt(a)},rt={DEBUG:{writable:!0,value:!0},DEBUG_PROMISES:{writable:!0,value:!0},extend:{value:Rt},getNodeInfo:{value:St},parse:{value:Vm},Promise:{value:fi},svg:{value:dh},magic:{value:bh},VERSION:{value:"0.7.3"},adaptors:{writable:!0,value:{}},components:{writable:!0,value:{}},decorators:{writable:!0,value:{}},easing:{writable:!0,value:ih},events:{writable:!0,value:{}},interpolators:{writable:!0,value:Mh},partials:{writable:!0,value:{}},transitions:{writable:!0,value:{}}},vh(qt,rt),qt.prototype=d(Ot,hh),qt.prototype.constructor=qt,qt.defaults=qt.prototype;var Tt="function";if(typeof Date.now!==Tt||typeof String.prototype.trim!==Tt||typeof Object.keys!==Tt||typeof Array.prototype.indexOf!==Tt||typeof Array.prototype.forEach!==Tt||typeof Array.prototype.map!==Tt||typeof Array.prototype.filter!==Tt||"undefined"!=typeof window&&typeof window.addEventListener!==Tt)throw new Error("It looks like you're attempting to use Ractive.js in an older browser. You'll need to use one of the 'legacy builds' in order to continue - see http://docs.ractivejs.org/latest/legacy-builds for more information.");var Ut=qt;return Ut}),function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b(require("ractive")):"function"==typeof define&&define.amd?define(["ractive"],b):a.Ractive.load=b(a.Ractive)}(this,function(a){"use strict";function b(a){var b,c,d;return b=a.split("/"),c=b.pop(),d=c.lastIndexOf("."),-1!==d&&(c=c.substr(0,d)),c}function c(a,b){var c,d,e=0,f=0;for(c=a.map(function(a){var b=f+a.length+1;return f=b,b});b>=c[e];)f=c[e],e+=1;return d=b-f,{line:e,column:d,"char":b}}function d(a){var b,c,d,f,g,h,i,j,k,l,m;if(!T.Ractive)throw new Error("rcu has not been initialised! You must call rcu.init(Ractive) before rcu.parse()");if(b=T.Ractive.parse(a,{noStringify:!0,interpolate:{script:!1,style:!1},includeLinePositions:!0}),b.v!==G)throw new Error("Mismatched template version (expected "+G+", got "+b.v+")! Please ensure you are using the latest version of Ractive.js in your build process as well as in your app");for(d=[],h=[],j=[],c=b.t,k=c.length;k--;)if(l=c[k],l&&7===l.t){if("link"===l.e&&l.a&&"ractive"===l.a.rel&&d.push(c.splice(k,1)[0]),!("script"!==l.e||l.a&&l.a.type&&"text/javascript"!==l.a.type)){if(g)throw new Error("You can only have one <script> tag per component file");g=c.splice(k,1)[0]}"style"!==l.e||l.a&&l.a.type&&"text/css"!==l.a.type||h.push(c.splice(k,1)[0])}for(;/^\s*$/.test(c[0]);)c.shift();for(;/^\s*$/.test(c[c.length-1]);)c.pop();if(f=d.map(function(a){var b,c;if(b=a.a.href,c=a.a.name||C(b),"string"!=typeof c)throw new Error("Error parsing link tag");return{name:c,href:b}}),m={source:a,template:b,imports:f,css:h.map(e).join(" "),script:"",modules:j},g)for(function(){var b,c,d;b=a.indexOf(">",g.p[2])+1,c=b+g.f[0].length,d=a.split("\n"),m.scriptStart=D(d,b),m.scriptEnd=D(d,c)}(),m.script=g.f[0];i=F.exec(m.script);)j.push(i[1]||i[2]);return m}function e(a){return a.f}function f(a,b){b=b||{},b.sourceMap?a+="\n//# "+I+"=data:application/json;charset=utf-8;base64,"+B(JSON.stringify(b.sourceMap)):b.sourceURL&&(a+="\n//# sourceURL="+b.sourceURL);try{return w(a)}catch(c){if(y)return void h(a,b.sourceURL||"");throw x&&"SyntaxError"===c.name&&g(a),c}}function g(a){var b,c;b=J+":text/javascript;charset=utf-8,"+encodeURIComponent(a),c=document.createElement("script"),c.src=b,c.onload=function(){z.removeChild(c)},z.appendChild(c)}function h(a,b){var c=new A;try{c._compile("module.exports = function () {\n"+a+"\n};",b)}catch(d){return void console.error(d)}c.exports()}function i(a){var b,c={};for(b in a)a.hasOwnProperty(b)&&(c[b]=a[b]);return c}function j(a){var b,c;if("number"==typeof a)b=k(a);else for(b="",c=0;c<a.length;c+=1)b+=k(a[c]);return b}function k(a){var b,c="";0>a?a=-a<<1|1:a<<=1;do b=31&a,a>>=5,a>0&&(b|=32),c+=L[b];while(a>0);return c}function l(a){return new Buffer(a).toString("base64")}function m(a,b){var c,d,e;if(!b||!b.source)throw new Error("You must supply an options object with a `source` property to rcu.generateSourceMap()");return e=new Array((b.offset||0)+1).join(";"),c=a.script.split("\n"),d=e+c.map(function(b,c){return 0===c?j([0,0,a.scriptStart.line,a.scriptStart.column]):1===c?j([0,0,1,-a.scriptStart.column]):"AACA"}).join(";"),new P({file:b.file,sources:[b.source],sourcesContent:[a.source],names:[],mappings:d})}function n(a,b,c,d){var e,f,g,h,i,j,k,l,m,n;if(b=b||{},f=b.url||"",h=b.loadImport,j=b.loadModule,e=E(a),g=function(){var g,h,j,k,l,m;if(g={template:e.template,partials:e.partials,css:e.css,components:i},e.script){var n=Q(e,{source:f,content:a});try{if(j=new H.Function("component","require","Ractive",e.script,{sourceMap:n}),k={},j(k,b.require,T.Ractive),l=k.exports,"object"==typeof l)for(m in l)l.hasOwnProperty(m)&&(g[m]=l[m]);h=T.Ractive.extend(g)}catch(o){return void d(o)}c(h)}else h=T.Ractive.extend(g),c(h)},l=e.imports.length+(j?e.modules.length:0)){if(m=function(){--l||(n?g():setTimeout(g,0))},e.imports.length){if(!h)throw new Error('Component definition includes imports (e.g. `<link rel="ractive" href="'+e.imports[0].href+'">`) but no loadImport method was passed to rcu.make()');i={},e.imports.forEach(function(a){h(a.name,a.href,f,function(b){i[a.name]=b,m()})})}j&&e.modules.length&&(k={},e.modules.forEach(function(a){j(a,a,f,function(b){k[a]=b,m()})}))}else setTimeout(g,0);n=!0}function o(a,b){var c,d,e;if(!b||"/"===a.charAt(0))return a;for(c=(b||"").split("/"),d=a.split("/"),c.pop();e=d.shift();)".."===e?c.pop():"."!==e&&c.push(e);return c.join("/")}function p(b,c,d,e){var f,g;return g=U.resolve(b,"."===b[0]?c:d),e&&W[g]||(f=V(g).then(function(b){return new a.Promise(function(a,c){U.make(b,{url:g,loadImport:function(a,b,f,g){p(b,f,d,e).then(g,c)},require:q},a,c)})}),W[g]=f),W[g]}function q(a){var b,c;if(b=_.modules.hasOwnProperty(a)?_.modules[a]:X.hasOwnProperty(a)?X[a]:null,!b&&"function"==typeof require)try{b=require(a)}catch(d){if("undefined"==typeof process)throw d;b=require(process.cwd()+"/"+a)}if(!b)throw c=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(a)?"."+a:'["'+a+'"]',new Error('Ractive.load() error: Could not find dependency "'+a+'". It should be exposed as Ractive.load.modules'+c+" or window"+c);return b}function r(b,c){var d=new a.Promise(function(d,e){var f,g;f=t(document.querySelectorAll('link[rel="ractive"]')),g=f.length,f.forEach(function(f){var h=s(f);Y(f.getAttribute("href"),"",b,c).then(function(b){a.components[h]=b,--g||d()},e)})});return d}function s(a){return a.getAttribute("name")||U.getName(a.getAttribute("href"))}function t(a){for(var b=[],c=a.length;c--;)b[c]=a[c];return b}function u(b,c,d){var e=new a.Promise(function(a,e){var f,g,h=0,i={};g=function(f){var g=b[f];Y(g,c,c,d).then(function(b){i[f]=b,--h||a(i)},e)};for(f in b)b.hasOwnProperty(f)&&(h+=1,g(f))});return e}function v(a){var b=v.baseUrl,c=v.cache!==!1;return a?"object"==typeof a?$(a,b,c):Y(a,b,b,c):Z(b,c)}var w,x,y,z,A,B,C=b,D=c,E=d,F=/require\s*\(\s*(?:"([^"]+)"|'([^']+)')\s*\)/g,G=3,H=f,I="sourceMappingUrl",J="data";w=eval,"undefined"!=typeof document?(x=!0,z=document.getElementsByTagName("head")[0]):"undefined"!=typeof process&&(y=!0,A=(require.nodeRequire||require)("module")),B="function"==typeof btoa?function(a){return a=a.replace(/[^\x00-\x7F]/g,function(a){for(var b=a.charCodeAt(0).toString(16);b.length<4;)b="0"+b;return"\\u"+b}),btoa(a)}:"function"==typeof Buffer?function(a){return new Buffer(a,"utf-8").toString("base64")}:function(){},f.Function=function(){var a,b,c,d,e=[];for(a=arguments.length;a--;)e[a]=arguments[a];return d="object"==typeof e[e.length-1]?e.pop():{},1===e.length&&"[object Array]"===Object.prototype.toString.call(e)&&(e=e[0]),d.sourceMap&&(d.sourceMap=i(d.sourceMap),d.sourceMap.mappings=";"+d.sourceMap.mappings),b=e.pop(),c="(function ("+e.join(", ")+") {\n"+b+"\n})",f(c,d)};var K={},L={};"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split("").forEach(function(a,b){K[a]=b,L[b]=a});var M=l,N=function(a){this.version=3,this.file=a.file,this.sources=a.sources,this.sourcesContent=a.sourcesContent,this.names=a.names,this.mappings=a.mappings};N.prototype={toString:function(){return JSON.stringify(this)},toUrl:function(){return"data:application/json;charset=utf-8;base64,"+M(this.toString())}};var O,P=N,Q=m,R=n,S=o,T={init:function(a){T.Ractive=a},parse:E,make:R,generateSourceMap:Q,resolve:S,getName:C},U=T;O="undefined"!=typeof XMLHttpRequest?function(b){return new a.Promise(function(a,c){var d,e,f;d=new XMLHttpRequest,d.open("GET",b),e=function(){4!==d.readyState||f||(a(d.responseText),f=!0)},d.onload=d.onreadystatechange=e,d.onerror=c,d.send(),4===d.readyState&&e()})}:function(b){return new a.Promise(function(a,c){require("fs").readFile(b,function(b,d){return b?c(b):void a(d.toString())})})};var V=O,W={},X="undefined"!=typeof window?window:{},Y=p,Z=r,$=u;U.init(a),v.baseUrl="",v.modules={};var _=v;return _}),function(a,b){var c=a.define;c&&c.amd?c([],b):"undefined"!=typeof module&&module.exports?module.exports=b():a.Rlite=b()}(this,function(){return function(){function a(a){return a}function b(a){return~a.indexOf("/?")&&(a=a.replace("/?","?")),"/"==a[0]&&(a=a.slice(1)),"/"==a[a.length-1]&&(a=a.slice(0,-1)),a}function c(a,b){for(var c=a.split("/"),d=f,e={},g=0;g<c.length&&d;++g){var h=b(c[g]);d=d[h.toLowerCase()]||d[":"],d&&d["~"]&&(e[d["~"]]=h)}return d&&{cb:d["@"],params:e}}function d(a,b,c){if(a&&b.cb)for(var d=a.indexOf("#"),e=(0>d?a:a.slice(0,d)).split("&"),f=0;f<e.length;++f){var g=e[f].split("=");b.params[g[0]]=c(g[1])}return b}function e(e){var f=b(e).split("?"),h=~e.indexOf("%")?g:a;return d(f[1],c(f[0],h)||{},h)}var f={},g=decodeURIComponent;return{add:function(a,b){for(var c=a.toLowerCase().split("/"),d=f,e=0;e<c.length;++e){var g=c[e],h=":"==g[0]?":":g;d=d[h]||(d[h]={}),":"==h&&(d["~"]=g.slice(1))}d["@"]=b},exists:function(a){return!!e(a).cb},lookup:e,run:function(a){var b=e(a);return b.cb&&b.cb({url:a,params:b.params}),!!b.cb}}}}),function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.moment=b()}(this,function(){"use strict";function a(){return Hc.apply(null,arguments)}function b(a){Hc=a}function c(a){return"[object Array]"===Object.prototype.toString.call(a)}function d(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function e(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function f(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function g(a,b){for(var c in b)f(b,c)&&(a[c]=b[c]);return f(b,"toString")&&(a.toString=b.toString),f(b,"valueOf")&&(a.valueOf=b.valueOf),a}function h(a,b,c,d){return Ca(a,b,c,d,!0).utc()}function i(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function j(a){return null==a._pf&&(a._pf=i()),a._pf}function k(a){if(null==a._isValid){var b=j(a);a._isValid=!(isNaN(a._d.getTime())||!(b.overflow<0)||b.empty||b.invalidMonth||b.invalidWeekday||b.nullInput||b.invalidFormat||b.userInvalidated),a._strict&&(a._isValid=a._isValid&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour)}return a._isValid}function l(a){var b=h(NaN);return null!=a?g(j(b),a):j(b).userInvalidated=!0,b}function m(a,b){var c,d,e;if("undefined"!=typeof b._isAMomentObject&&(a._isAMomentObject=b._isAMomentObject),"undefined"!=typeof b._i&&(a._i=b._i),"undefined"!=typeof b._f&&(a._f=b._f),"undefined"!=typeof b._l&&(a._l=b._l),"undefined"!=typeof b._strict&&(a._strict=b._strict),"undefined"!=typeof b._tzm&&(a._tzm=b._tzm),"undefined"!=typeof b._isUTC&&(a._isUTC=b._isUTC),"undefined"!=typeof b._offset&&(a._offset=b._offset),"undefined"!=typeof b._pf&&(a._pf=j(b)),"undefined"!=typeof b._locale&&(a._locale=b._locale),Jc.length>0)for(c in Jc)d=Jc[c],e=b[d],"undefined"!=typeof e&&(a[d]=e);return a}function n(b){m(this,b),this._d=new Date(null!=b._d?b._d.getTime():NaN),Kc===!1&&(Kc=!0,a.updateOffset(this),Kc=!1)}function o(a){return a instanceof n||null!=a&&null!=a._isAMomentObject}function p(a){return 0>a?Math.ceil(a):Math.floor(a)}function q(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=p(b)),c}function r(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&q(a[d])!==q(b[d]))&&g++;return g+f}function s(){}function t(a){return a?a.toLowerCase().replace("_","-"):a}function u(a){for(var b,c,d,e,f=0;f<a.length;){for(e=t(a[f]).split("-"),b=e.length,c=t(a[f+1]),c=c?c.split("-"):null;b>0;){if(d=v(e.slice(0,b).join("-")))return d;if(c&&c.length>=b&&r(e,c,!0)>=b-1)break;b--}f++}return null}function v(a){var b=null;if(!Lc[a]&&"undefined"!=typeof module&&module&&module.exports)try{b=Ic._abbr,require("./locale/"+a),w(b)}catch(c){}return Lc[a]}function w(a,b){var c;return a&&(c="undefined"==typeof b?y(a):x(a,b),c&&(Ic=c)),Ic._abbr}function x(a,b){return null!==b?(b.abbr=a,Lc[a]=Lc[a]||new s,Lc[a].set(b),w(a),Lc[a]):(delete Lc[a],null)}function y(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return Ic;if(!c(a)){if(b=v(a))return b;a=[a]}return u(a)}function z(a,b){var c=a.toLowerCase();Mc[c]=Mc[c+"s"]=Mc[b]=a}function A(a){return"string"==typeof a?Mc[a]||Mc[a.toLowerCase()]:void 0}function B(a){var b,c,d={};for(c in a)f(a,c)&&(b=A(c),b&&(d[b]=a[c]));return d}function C(b,c){return function(d){return null!=d?(E(this,b,d),a.updateOffset(this,c),this):D(this,b)}}function D(a,b){return a._d["get"+(a._isUTC?"UTC":"")+b]()}function E(a,b,c){return a._d["set"+(a._isUTC?"UTC":"")+b](c)}function F(a,b){var c;if("object"==typeof a)for(c in a)this.set(c,a[c]);else if(a=A(a),"function"==typeof this[a])return this[a](b);return this}function G(a,b,c){var d=""+Math.abs(a),e=b-d.length,f=a>=0;return(f?c?"+":"":"-")+Math.pow(10,Math.max(0,e)).toString().substr(1)+d}function H(a,b,c,d){var e=d;"string"==typeof d&&(e=function(){return this[d]()}),a&&(Qc[a]=e),b&&(Qc[b[0]]=function(){return G(e.apply(this,arguments),b[1],b[2])}),c&&(Qc[c]=function(){return this.localeData().ordinal(e.apply(this,arguments),a)})}function I(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function J(a){var b,c,d=a.match(Nc);for(b=0,c=d.length;c>b;b++)Qc[d[b]]?d[b]=Qc[d[b]]:d[b]=I(d[b]);return function(e){var f="";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function K(a,b){return a.isValid()?(b=L(b,a.localeData()),Pc[b]=Pc[b]||J(b),Pc[b](a)):a.localeData().invalidDate()}function L(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Oc.lastIndex=0;d>=0&&Oc.test(a);)a=a.replace(Oc,c),Oc.lastIndex=0,d-=1;return a}function M(a){return"function"==typeof a&&"[object Function]"===Object.prototype.toString.call(a)}function N(a,b,c){dd[a]=M(b)?b:function(a){return a&&c?c:b}}function O(a,b){return f(dd,a)?dd[a](b._strict,b._locale):new RegExp(P(a))}function P(a){return a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Q(a,b){var c,d=b;for("string"==typeof a&&(a=[a]),"number"==typeof b&&(d=function(a,c){c[b]=q(a)}),c=0;c<a.length;c++)ed[a[c]]=d}function R(a,b){Q(a,function(a,c,d,e){d._w=d._w||{},b(a,d._w,d,e)})}function S(a,b,c){null!=b&&f(ed,a)&&ed[a](b,c._a,c,a)}function T(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function U(a){return this._months[a.month()]}function V(a){return this._monthsShort[a.month()]}function W(a,b,c){var d,e,f;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;12>d;d++){if(e=h([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))return d;if(c&&"MMM"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}}function X(a,b){var c;return"string"==typeof b&&(b=a.localeData().monthsParse(b),"number"!=typeof b)?a:(c=Math.min(a.date(),T(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a)}function Y(b){return null!=b?(X(this,b),a.updateOffset(this,!0),this):D(this,"Month")}function Z(){return T(this.year(),this.month())}function $(a){var b,c=a._a;return c&&-2===j(a).overflow&&(b=c[gd]<0||c[gd]>11?gd:c[hd]<1||c[hd]>T(c[fd],c[gd])?hd:c[id]<0||c[id]>24||24===c[id]&&(0!==c[jd]||0!==c[kd]||0!==c[ld])?id:c[jd]<0||c[jd]>59?jd:c[kd]<0||c[kd]>59?kd:c[ld]<0||c[ld]>999?ld:-1,j(a)._overflowDayOfYear&&(fd>b||b>hd)&&(b=hd),j(a).overflow=b),a}function _(b){a.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+b)}function aa(a,b){var c=!0;return g(function(){return c&&(_(a+"\n"+(new Error).stack),c=!1),b.apply(this,arguments)},b)}function ba(a,b){od[a]||(_(b),od[a]=!0)}function ca(a){var b,c,d=a._i,e=pd.exec(d);if(e){for(j(a).iso=!0,b=0,c=qd.length;c>b;b++)if(qd[b][1].exec(d)){a._f=qd[b][0];break}for(b=0,c=rd.length;c>b;b++)if(rd[b][1].exec(d)){a._f+=(e[6]||" ")+rd[b][0];break}d.match(ad)&&(a._f+="Z"),va(a)}else a._isValid=!1}function da(b){var c=sd.exec(b._i);return null!==c?void(b._d=new Date(+c[1])):(ca(b),void(b._isValid===!1&&(delete b._isValid,a.createFromInputFallback(b))))}function ea(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return 1970>a&&h.setFullYear(a),h}function fa(a){var b=new Date(Date.UTC.apply(null,arguments));return 1970>a&&b.setUTCFullYear(a),b}function ga(a){return ha(a)?366:365}function ha(a){return a%4===0&&a%100!==0||a%400===0}function ia(){return ha(this.year())}function ja(a,b,c){var d,e=c-b,f=c-a.day();return f>e&&(f-=7),e-7>f&&(f+=7),d=Da(a).add(f,"d"),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function ka(a){return ja(a,this._week.dow,this._week.doy).week}function la(){return this._week.dow}function ma(){return this._week.doy}function na(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")}function oa(a){var b=ja(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")}function pa(a,b,c,d,e){var f,g=6+e-d,h=fa(a,0,1+g),i=h.getUTCDay();return e>i&&(i+=7),c=null!=c?1*c:e,f=1+g+7*(b-1)-i+c,{year:f>0?a:a-1,dayOfYear:f>0?f:ga(a-1)+f}}function qa(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==a?b:this.add(a-b,"d")}function ra(a,b,c){return null!=a?a:null!=b?b:c}function sa(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function ta(a){var b,c,d,e,f=[];if(!a._d){for(d=sa(a),a._w&&null==a._a[hd]&&null==a._a[gd]&&ua(a),a._dayOfYear&&(e=ra(a._a[fd],d[fd]),a._dayOfYear>ga(e)&&(j(a)._overflowDayOfYear=!0),c=fa(e,0,a._dayOfYear),a._a[gd]=c.getUTCMonth(),a._a[hd]=c.getUTCDate()),b=0;3>b&&null==a._a[b];++b)a._a[b]=f[b]=d[b];for(;7>b;b++)a._a[b]=f[b]=null==a._a[b]?2===b?1:0:a._a[b];24===a._a[id]&&0===a._a[jd]&&0===a._a[kd]&&0===a._a[ld]&&(a._nextDay=!0,a._a[id]=0),a._d=(a._useUTC?fa:ea).apply(null,f),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[id]=24)}}function ua(a){var b,c,d,e,f,g,h;b=a._w,null!=b.GG||null!=b.W||null!=b.E?(f=1,g=4,c=ra(b.GG,a._a[fd],ja(Da(),1,4).year),d=ra(b.W,1),e=ra(b.E,1)):(f=a._locale._week.dow,g=a._locale._week.doy,c=ra(b.gg,a._a[fd],ja(Da(),f,g).year),d=ra(b.w,1),null!=b.d?(e=b.d,f>e&&++d):e=null!=b.e?b.e+f:f),h=pa(c,d,e,g,f),a._a[fd]=h.year,a._dayOfYear=h.dayOfYear}function va(b){if(b._f===a.ISO_8601)return void ca(b);b._a=[],j(b).empty=!0;var c,d,e,f,g,h=""+b._i,i=h.length,k=0;for(e=L(b._f,b._locale).match(Nc)||[],c=0;c<e.length;c++)f=e[c],d=(h.match(O(f,b))||[])[0],d&&(g=h.substr(0,h.indexOf(d)),g.length>0&&j(b).unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),k+=d.length),Qc[f]?(d?j(b).empty=!1:j(b).unusedTokens.push(f),S(f,d,b)):b._strict&&!d&&j(b).unusedTokens.push(f);j(b).charsLeftOver=i-k,h.length>0&&j(b).unusedInput.push(h),j(b).bigHour===!0&&b._a[id]<=12&&b._a[id]>0&&(j(b).bigHour=void 0),b._a[id]=wa(b._locale,b._a[id],b._meridiem),ta(b),$(b)}function wa(a,b,c){var d;return null==c?b:null!=a.meridiemHour?a.meridiemHour(b,c):null!=a.isPM?(d=a.isPM(c),d&&12>b&&(b+=12),d||12!==b||(b=0),b):b}function xa(a){var b,c,d,e,f;if(0===a._f.length)return j(a).invalidFormat=!0,void(a._d=new Date(NaN));for(e=0;e<a._f.length;e++)f=0,b=m({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._f=a._f[e],va(b),k(b)&&(f+=j(b).charsLeftOver,f+=10*j(b).unusedTokens.length,j(b).score=f,(null==d||d>f)&&(d=f,c=b));g(a,c||b)}function ya(a){if(!a._d){var b=B(a._i);a._a=[b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],ta(a)}}function za(a){var b=new n($(Aa(a)));return b._nextDay&&(b.add(1,"d"),b._nextDay=void 0),b}function Aa(a){var b=a._i,e=a._f;return a._locale=a._locale||y(a._l),null===b||void 0===e&&""===b?l({nullInput:!0}):("string"==typeof b&&(a._i=b=a._locale.preparse(b)),o(b)?new n($(b)):(c(e)?xa(a):e?va(a):d(b)?a._d=b:Ba(a),a))}function Ba(b){var f=b._i;void 0===f?b._d=new Date:d(f)?b._d=new Date(+f):"string"==typeof f?da(b):c(f)?(b._a=e(f.slice(0),function(a){return parseInt(a,10)}),ta(b)):"object"==typeof f?ya(b):"number"==typeof f?b._d=new Date(f):a.createFromInputFallback(b)}function Ca(a,b,c,d,e){var f={};return"boolean"==typeof c&&(d=c,c=void 0),f._isAMomentObject=!0,f._useUTC=f._isUTC=e,f._l=c,f._i=a,f._f=b,f._strict=d,za(f)}function Da(a,b,c,d){return Ca(a,b,c,d,!1)}function Ea(a,b){var d,e;if(1===b.length&&c(b[0])&&(b=b[0]),!b.length)return Da();for(d=b[0],e=1;e<b.length;++e)(!b[e].isValid()||b[e][a](d))&&(d=b[e]);return d}function Fa(){var a=[].slice.call(arguments,0);return Ea("isBefore",a)}function Ga(){var a=[].slice.call(arguments,0);return Ea("isAfter",a)}function Ha(a){var b=B(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1e3*j+6e4*i+36e5*h,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=y(),this._bubble()}function Ia(a){return a instanceof Ha}function Ja(a,b){H(a,0,0,function(){var a=this.utcOffset(),c="+";return 0>a&&(a=-a,c="-"),c+G(~~(a/60),2)+b+G(~~a%60,2)})}function Ka(a){var b=(a||"").match(ad)||[],c=b[b.length-1]||[],d=(c+"").match(xd)||["-",0,0],e=+(60*d[1])+q(d[2]);return"+"===d[0]?e:-e}function La(b,c){var e,f;return c._isUTC?(e=c.clone(),f=(o(b)||d(b)?+b:+Da(b))-+e,e._d.setTime(+e._d+f),a.updateOffset(e,!1),e):Da(b).local()}function Ma(a){return 15*-Math.round(a._d.getTimezoneOffset()/15)}function Na(b,c){var d,e=this._offset||0;return null!=b?("string"==typeof b&&(b=Ka(b)),Math.abs(b)<16&&(b=60*b),!this._isUTC&&c&&(d=Ma(this)),this._offset=b,this._isUTC=!0,null!=d&&this.add(d,"m"),e!==b&&(!c||this._changeInProgress?bb(this,Ya(b-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?e:Ma(this)}function Oa(a,b){return null!=a?("string"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()}function Pa(a){return this.utcOffset(0,a)}function Qa(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(Ma(this),"m")),this}function Ra(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Ka(this._i)),this}function Sa(a){return a=a?Da(a).utcOffset():0,(this.utcOffset()-a)%60===0}function Ta(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ua(){if("undefined"!=typeof this._isDSTShifted)return this._isDSTShifted;var a={};if(m(a,this),a=Aa(a),a._a){var b=a._isUTC?h(a._a):Da(a._a);this._isDSTShifted=this.isValid()&&r(a._a,b.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Va(){return!this._isUTC}function Wa(){return this._isUTC}function Xa(){return this._isUTC&&0===this._offset}function Ya(a,b){var c,d,e,g=a,h=null;return Ia(a)?g={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(g={},b?g[b]=a:g.milliseconds=a):(h=yd.exec(a))?(c="-"===h[1]?-1:1,g={y:0,d:q(h[hd])*c,h:q(h[id])*c,m:q(h[jd])*c,s:q(h[kd])*c,ms:q(h[ld])*c}):(h=zd.exec(a))?(c="-"===h[1]?-1:1,g={y:Za(h[2],c),M:Za(h[3],c),d:Za(h[4],c),h:Za(h[5],c),m:Za(h[6],c),s:Za(h[7],c),w:Za(h[8],c)}):null==g?g={}:"object"==typeof g&&("from"in g||"to"in g)&&(e=_a(Da(g.from),Da(g.to)),g={},g.ms=e.milliseconds,g.M=e.months),d=new Ha(g),Ia(a)&&f(a,"_locale")&&(d._locale=a._locale),d}function Za(a,b){var c=a&&parseFloat(a.replace(",","."));return(isNaN(c)?0:c)*b}function $a(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function _a(a,b){var c;return b=La(b,a),a.isBefore(b)?c=$a(a,b):(c=$a(b,a),
c.milliseconds=-c.milliseconds,c.months=-c.months),c}function ab(a,b){return function(c,d){var e,f;return null===d||isNaN(+d)||(ba(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period)."),f=c,c=d,d=f),c="string"==typeof c?+c:c,e=Ya(c,d),bb(this,e,a),this}}function bb(b,c,d,e){var f=c._milliseconds,g=c._days,h=c._months;e=null==e?!0:e,f&&b._d.setTime(+b._d+f*d),g&&E(b,"Date",D(b,"Date")+g*d),h&&X(b,D(b,"Month")+h*d),e&&a.updateOffset(b,g||h)}function cb(a,b){var c=a||Da(),d=La(c,this).startOf("day"),e=this.diff(d,"days",!0),f=-6>e?"sameElse":-1>e?"lastWeek":0>e?"lastDay":1>e?"sameDay":2>e?"nextDay":7>e?"nextWeek":"sameElse";return this.format(b&&b[f]||this.localeData().calendar(f,this,Da(c)))}function db(){return new n(this)}function eb(a,b){var c;return b=A("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=o(a)?a:Da(a),+this>+a):(c=o(a)?+a:+Da(a),c<+this.clone().startOf(b))}function fb(a,b){var c;return b=A("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=o(a)?a:Da(a),+a>+this):(c=o(a)?+a:+Da(a),+this.clone().endOf(b)<c)}function gb(a,b,c){return this.isAfter(a,c)&&this.isBefore(b,c)}function hb(a,b){var c;return b=A(b||"millisecond"),"millisecond"===b?(a=o(a)?a:Da(a),+this===+a):(c=+Da(a),+this.clone().startOf(b)<=c&&c<=+this.clone().endOf(b))}function ib(a,b,c){var d,e,f=La(a,this),g=6e4*(f.utcOffset()-this.utcOffset());return b=A(b),"year"===b||"month"===b||"quarter"===b?(e=jb(this,f),"quarter"===b?e/=3:"year"===b&&(e/=12)):(d=this-f,e="second"===b?d/1e3:"minute"===b?d/6e4:"hour"===b?d/36e5:"day"===b?(d-g)/864e5:"week"===b?(d-g)/6048e5:d),c?e:p(e)}function jb(a,b){var c,d,e=12*(b.year()-a.year())+(b.month()-a.month()),f=a.clone().add(e,"months");return 0>b-f?(c=a.clone().add(e-1,"months"),d=(b-f)/(f-c)):(c=a.clone().add(e+1,"months"),d=(b-f)/(c-f)),-(e+d)}function kb(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function lb(){var a=this.clone().utc();return 0<a.year()&&a.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():K(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):K(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function mb(b){var c=K(this,b||a.defaultFormat);return this.localeData().postformat(c)}function nb(a,b){return this.isValid()?Ya({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function ob(a){return this.from(Da(),a)}function pb(a,b){return this.isValid()?Ya({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function qb(a){return this.to(Da(),a)}function rb(a){var b;return void 0===a?this._locale._abbr:(b=y(a),null!=b&&(this._locale=b),this)}function sb(){return this._locale}function tb(a){switch(a=A(a)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a&&this.weekday(0),"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this}function ub(a){return a=A(a),void 0===a||"millisecond"===a?this:this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms")}function vb(){return+this._d-6e4*(this._offset||0)}function wb(){return Math.floor(+this/1e3)}function xb(){return this._offset?new Date(+this):this._d}function yb(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}function zb(){var a=this;return{years:a.year(),months:a.month(),date:a.date(),hours:a.hours(),minutes:a.minutes(),seconds:a.seconds(),milliseconds:a.milliseconds()}}function Ab(){return k(this)}function Bb(){return g({},j(this))}function Cb(){return j(this).overflow}function Db(a,b){H(0,[a,a.length],0,b)}function Eb(a,b,c){return ja(Da([a,11,31+b-c]),b,c).week}function Fb(a){var b=ja(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==a?b:this.add(a-b,"y")}function Gb(a){var b=ja(this,1,4).year;return null==a?b:this.add(a-b,"y")}function Hb(){return Eb(this.year(),1,4)}function Ib(){var a=this.localeData()._week;return Eb(this.year(),a.dow,a.doy)}function Jb(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)}function Kb(a,b){return"string"!=typeof a?a:isNaN(a)?(a=b.weekdaysParse(a),"number"==typeof a?a:null):parseInt(a,10)}function Lb(a){return this._weekdays[a.day()]}function Mb(a){return this._weekdaysShort[a.day()]}function Nb(a){return this._weekdaysMin[a.day()]}function Ob(a){var b,c,d;for(this._weekdaysParse=this._weekdaysParse||[],b=0;7>b;b++)if(this._weekdaysParse[b]||(c=Da([2e3,1]).day(b),d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=new RegExp(d.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b}function Pb(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=Kb(a,this.localeData()),this.add(a-b,"d")):b}function Qb(a){var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")}function Rb(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)}function Sb(a,b){H(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function Tb(a,b){return b._meridiemParse}function Ub(a){return"p"===(a+"").toLowerCase().charAt(0)}function Vb(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"}function Wb(a,b){b[ld]=q(1e3*("0."+a))}function Xb(){return this._isUTC?"UTC":""}function Yb(){return this._isUTC?"Coordinated Universal Time":""}function Zb(a){return Da(1e3*a)}function $b(){return Da.apply(null,arguments).parseZone()}function _b(a,b,c){var d=this._calendar[a];return"function"==typeof d?d.call(b,c):d}function ac(a){var b=this._longDateFormat[a],c=this._longDateFormat[a.toUpperCase()];return b||!c?b:(this._longDateFormat[a]=c.replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a])}function bc(){return this._invalidDate}function cc(a){return this._ordinal.replace("%d",a)}function dc(a){return a}function ec(a,b,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)}function fc(a,b){var c=this._relativeTime[a>0?"future":"past"];return"function"==typeof c?c(b):c.replace(/%s/i,b)}function gc(a){var b,c;for(c in a)b=a[c],"function"==typeof b?this[c]=b:this["_"+c]=b;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function hc(a,b,c,d){var e=y(),f=h().set(d,b);return e[c](f,a)}function ic(a,b,c,d,e){if("number"==typeof a&&(b=a,a=void 0),a=a||"",null!=b)return hc(a,b,c,e);var f,g=[];for(f=0;d>f;f++)g[f]=hc(a,f,c,e);return g}function jc(a,b){return ic(a,b,"months",12,"month")}function kc(a,b){return ic(a,b,"monthsShort",12,"month")}function lc(a,b){return ic(a,b,"weekdays",7,"day")}function mc(a,b){return ic(a,b,"weekdaysShort",7,"day")}function nc(a,b){return ic(a,b,"weekdaysMin",7,"day")}function oc(){var a=this._data;return this._milliseconds=Wd(this._milliseconds),this._days=Wd(this._days),this._months=Wd(this._months),a.milliseconds=Wd(a.milliseconds),a.seconds=Wd(a.seconds),a.minutes=Wd(a.minutes),a.hours=Wd(a.hours),a.months=Wd(a.months),a.years=Wd(a.years),this}function pc(a,b,c,d){var e=Ya(b,c);return a._milliseconds+=d*e._milliseconds,a._days+=d*e._days,a._months+=d*e._months,a._bubble()}function qc(a,b){return pc(this,a,b,1)}function rc(a,b){return pc(this,a,b,-1)}function sc(a){return 0>a?Math.floor(a):Math.ceil(a)}function tc(){var a,b,c,d,e,f=this._milliseconds,g=this._days,h=this._months,i=this._data;return f>=0&&g>=0&&h>=0||0>=f&&0>=g&&0>=h||(f+=864e5*sc(vc(h)+g),g=0,h=0),i.milliseconds=f%1e3,a=p(f/1e3),i.seconds=a%60,b=p(a/60),i.minutes=b%60,c=p(b/60),i.hours=c%24,g+=p(c/24),e=p(uc(g)),h+=e,g-=sc(vc(e)),d=p(h/12),h%=12,i.days=g,i.months=h,i.years=d,this}function uc(a){return 4800*a/146097}function vc(a){return 146097*a/4800}function wc(a){var b,c,d=this._milliseconds;if(a=A(a),"month"===a||"year"===a)return b=this._days+d/864e5,c=this._months+uc(b),"month"===a?c:c/12;switch(b=this._days+Math.round(vc(this._months)),a){case"week":return b/7+d/6048e5;case"day":return b+d/864e5;case"hour":return 24*b+d/36e5;case"minute":return 1440*b+d/6e4;case"second":return 86400*b+d/1e3;case"millisecond":return Math.floor(864e5*b)+d;default:throw new Error("Unknown unit "+a)}}function xc(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*q(this._months/12)}function yc(a){return function(){return this.as(a)}}function zc(a){return a=A(a),this[a+"s"]()}function Ac(a){return function(){return this._data[a]}}function Bc(){return p(this.days()/7)}function Cc(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function Dc(a,b,c){var d=Ya(a).abs(),e=ke(d.as("s")),f=ke(d.as("m")),g=ke(d.as("h")),h=ke(d.as("d")),i=ke(d.as("M")),j=ke(d.as("y")),k=e<le.s&&["s",e]||1===f&&["m"]||f<le.m&&["mm",f]||1===g&&["h"]||g<le.h&&["hh",g]||1===h&&["d"]||h<le.d&&["dd",h]||1===i&&["M"]||i<le.M&&["MM",i]||1===j&&["y"]||["yy",j];return k[2]=b,k[3]=+a>0,k[4]=c,Cc.apply(null,k)}function Ec(a,b){return void 0===le[a]?!1:void 0===b?le[a]:(le[a]=b,!0)}function Fc(a){var b=this.localeData(),c=Dc(this,!a,b);return a&&(c=b.pastFuture(+this,c)),b.postformat(c)}function Gc(){var a,b,c,d=me(this._milliseconds)/1e3,e=me(this._days),f=me(this._months);a=p(d/60),b=p(a/60),d%=60,a%=60,c=p(f/12),f%=12;var g=c,h=f,i=e,j=b,k=a,l=d,m=this.asSeconds();return m?(0>m?"-":"")+"P"+(g?g+"Y":"")+(h?h+"M":"")+(i?i+"D":"")+(j||k||l?"T":"")+(j?j+"H":"")+(k?k+"M":"")+(l?l+"S":""):"P0D"}var Hc,Ic,Jc=a.momentProperties=[],Kc=!1,Lc={},Mc={},Nc=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Oc=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Pc={},Qc={},Rc=/\d/,Sc=/\d\d/,Tc=/\d{3}/,Uc=/\d{4}/,Vc=/[+-]?\d{6}/,Wc=/\d\d?/,Xc=/\d{1,3}/,Yc=/\d{1,4}/,Zc=/[+-]?\d{1,6}/,$c=/\d+/,_c=/[+-]?\d+/,ad=/Z|[+-]\d\d:?\d\d/gi,bd=/[+-]?\d+(\.\d{1,3})?/,cd=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,dd={},ed={},fd=0,gd=1,hd=2,id=3,jd=4,kd=5,ld=6;H("M",["MM",2],"Mo",function(){return this.month()+1}),H("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)}),H("MMMM",0,0,function(a){return this.localeData().months(this,a)}),z("month","M"),N("M",Wc),N("MM",Wc,Sc),N("MMM",cd),N("MMMM",cd),Q(["M","MM"],function(a,b){b[gd]=q(a)-1}),Q(["MMM","MMMM"],function(a,b,c,d){var e=c._locale.monthsParse(a,d,c._strict);null!=e?b[gd]=e:j(c).invalidMonth=a});var md="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),nd="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),od={};a.suppressDeprecationWarnings=!1;var pd=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,qd=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],rd=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],sd=/^\/?Date\((\-?\d+)/i;a.createFromInputFallback=aa("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),H(0,["YY",2],0,function(){return this.year()%100}),H(0,["YYYY",4],0,"year"),H(0,["YYYYY",5],0,"year"),H(0,["YYYYYY",6,!0],0,"year"),z("year","y"),N("Y",_c),N("YY",Wc,Sc),N("YYYY",Yc,Uc),N("YYYYY",Zc,Vc),N("YYYYYY",Zc,Vc),Q(["YYYYY","YYYYYY"],fd),Q("YYYY",function(b,c){c[fd]=2===b.length?a.parseTwoDigitYear(b):q(b)}),Q("YY",function(b,c){c[fd]=a.parseTwoDigitYear(b)}),a.parseTwoDigitYear=function(a){return q(a)+(q(a)>68?1900:2e3)};var td=C("FullYear",!1);H("w",["ww",2],"wo","week"),H("W",["WW",2],"Wo","isoWeek"),z("week","w"),z("isoWeek","W"),N("w",Wc),N("ww",Wc,Sc),N("W",Wc),N("WW",Wc,Sc),R(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,1)]=q(a)});var ud={dow:0,doy:6};H("DDD",["DDDD",3],"DDDo","dayOfYear"),z("dayOfYear","DDD"),N("DDD",Xc),N("DDDD",Tc),Q(["DDD","DDDD"],function(a,b,c){c._dayOfYear=q(a)}),a.ISO_8601=function(){};var vd=aa("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var a=Da.apply(null,arguments);return this>a?this:a}),wd=aa("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var a=Da.apply(null,arguments);return a>this?this:a});Ja("Z",":"),Ja("ZZ",""),N("Z",ad),N("ZZ",ad),Q(["Z","ZZ"],function(a,b,c){c._useUTC=!0,c._tzm=Ka(a)});var xd=/([\+\-]|\d\d)/gi;a.updateOffset=function(){};var yd=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,zd=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Ya.fn=Ha.prototype;var Ad=ab(1,"add"),Bd=ab(-1,"subtract");a.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Cd=aa("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return void 0===a?this.localeData():this.locale(a)});H(0,["gg",2],0,function(){return this.weekYear()%100}),H(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Db("gggg","weekYear"),Db("ggggg","weekYear"),Db("GGGG","isoWeekYear"),Db("GGGGG","isoWeekYear"),z("weekYear","gg"),z("isoWeekYear","GG"),N("G",_c),N("g",_c),N("GG",Wc,Sc),N("gg",Wc,Sc),N("GGGG",Yc,Uc),N("gggg",Yc,Uc),N("GGGGG",Zc,Vc),N("ggggg",Zc,Vc),R(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=q(a)}),R(["gg","GG"],function(b,c,d,e){c[e]=a.parseTwoDigitYear(b)}),H("Q",0,0,"quarter"),z("quarter","Q"),N("Q",Rc),Q("Q",function(a,b){b[gd]=3*(q(a)-1)}),H("D",["DD",2],"Do","date"),z("date","D"),N("D",Wc),N("DD",Wc,Sc),N("Do",function(a,b){return a?b._ordinalParse:b._ordinalParseLenient}),Q(["D","DD"],hd),Q("Do",function(a,b){b[hd]=q(a.match(Wc)[0],10)});var Dd=C("Date",!0);H("d",0,"do","day"),H("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),H("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)}),H("dddd",0,0,function(a){return this.localeData().weekdays(this,a)}),H("e",0,0,"weekday"),H("E",0,0,"isoWeekday"),z("day","d"),z("weekday","e"),z("isoWeekday","E"),N("d",Wc),N("e",Wc),N("E",Wc),N("dd",cd),N("ddd",cd),N("dddd",cd),R(["dd","ddd","dddd"],function(a,b,c){var d=c._locale.weekdaysParse(a);null!=d?b.d=d:j(c).invalidWeekday=a}),R(["d","e","E"],function(a,b,c,d){b[d]=q(a)});var Ed="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Fd="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Gd="Su_Mo_Tu_We_Th_Fr_Sa".split("_");H("H",["HH",2],0,"hour"),H("h",["hh",2],0,function(){return this.hours()%12||12}),Sb("a",!0),Sb("A",!1),z("hour","h"),N("a",Tb),N("A",Tb),N("H",Wc),N("h",Wc),N("HH",Wc,Sc),N("hh",Wc,Sc),Q(["H","HH"],id),Q(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a),c._meridiem=a}),Q(["h","hh"],function(a,b,c){b[id]=q(a),j(c).bigHour=!0});var Hd=/[ap]\.?m?\.?/i,Id=C("Hours",!0);H("m",["mm",2],0,"minute"),z("minute","m"),N("m",Wc),N("mm",Wc,Sc),Q(["m","mm"],jd);var Jd=C("Minutes",!1);H("s",["ss",2],0,"second"),z("second","s"),N("s",Wc),N("ss",Wc,Sc),Q(["s","ss"],kd);var Kd=C("Seconds",!1);H("S",0,0,function(){return~~(this.millisecond()/100)}),H(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),H(0,["SSS",3],0,"millisecond"),H(0,["SSSS",4],0,function(){return 10*this.millisecond()}),H(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),H(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),H(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),H(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),H(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),z("millisecond","ms"),N("S",Xc,Rc),N("SS",Xc,Sc),N("SSS",Xc,Tc);var Ld;for(Ld="SSSS";Ld.length<=9;Ld+="S")N(Ld,$c);for(Ld="S";Ld.length<=9;Ld+="S")Q(Ld,Wb);var Md=C("Milliseconds",!1);H("z",0,0,"zoneAbbr"),H("zz",0,0,"zoneName");var Nd=n.prototype;Nd.add=Ad,Nd.calendar=cb,Nd.clone=db,Nd.diff=ib,Nd.endOf=ub,Nd.format=mb,Nd.from=nb,Nd.fromNow=ob,Nd.to=pb,Nd.toNow=qb,Nd.get=F,Nd.invalidAt=Cb,Nd.isAfter=eb,Nd.isBefore=fb,Nd.isBetween=gb,Nd.isSame=hb,Nd.isValid=Ab,Nd.lang=Cd,Nd.locale=rb,Nd.localeData=sb,Nd.max=wd,Nd.min=vd,Nd.parsingFlags=Bb,Nd.set=F,Nd.startOf=tb,Nd.subtract=Bd,Nd.toArray=yb,Nd.toObject=zb,Nd.toDate=xb,Nd.toISOString=lb,Nd.toJSON=lb,Nd.toString=kb,Nd.unix=wb,Nd.valueOf=vb,Nd.year=td,Nd.isLeapYear=ia,Nd.weekYear=Fb,Nd.isoWeekYear=Gb,Nd.quarter=Nd.quarters=Jb,Nd.month=Y,Nd.daysInMonth=Z,Nd.week=Nd.weeks=na,Nd.isoWeek=Nd.isoWeeks=oa,Nd.weeksInYear=Ib,Nd.isoWeeksInYear=Hb,Nd.date=Dd,Nd.day=Nd.days=Pb,Nd.weekday=Qb,Nd.isoWeekday=Rb,Nd.dayOfYear=qa,Nd.hour=Nd.hours=Id,Nd.minute=Nd.minutes=Jd,Nd.second=Nd.seconds=Kd,Nd.millisecond=Nd.milliseconds=Md,Nd.utcOffset=Na,Nd.utc=Pa,Nd.local=Qa,Nd.parseZone=Ra,Nd.hasAlignedHourOffset=Sa,Nd.isDST=Ta,Nd.isDSTShifted=Ua,Nd.isLocal=Va,Nd.isUtcOffset=Wa,Nd.isUtc=Xa,Nd.isUTC=Xa,Nd.zoneAbbr=Xb,Nd.zoneName=Yb,Nd.dates=aa("dates accessor is deprecated. Use date instead.",Dd),Nd.months=aa("months accessor is deprecated. Use month instead",Y),Nd.years=aa("years accessor is deprecated. Use year instead",td),Nd.zone=aa("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Oa);var Od=Nd,Pd={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Qd={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Rd="Invalid date",Sd="%d",Td=/\d{1,2}/,Ud={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Vd=s.prototype;Vd._calendar=Pd,Vd.calendar=_b,Vd._longDateFormat=Qd,Vd.longDateFormat=ac,Vd._invalidDate=Rd,Vd.invalidDate=bc,Vd._ordinal=Sd,Vd.ordinal=cc,Vd._ordinalParse=Td,Vd.preparse=dc,Vd.postformat=dc,Vd._relativeTime=Ud,Vd.relativeTime=ec,Vd.pastFuture=fc,Vd.set=gc,Vd.months=U,Vd._months=md,Vd.monthsShort=V,Vd._monthsShort=nd,Vd.monthsParse=W,Vd.week=ka,Vd._week=ud,Vd.firstDayOfYear=ma,Vd.firstDayOfWeek=la,Vd.weekdays=Lb,Vd._weekdays=Ed,Vd.weekdaysMin=Nb,Vd._weekdaysMin=Gd,Vd.weekdaysShort=Mb,Vd._weekdaysShort=Fd,Vd.weekdaysParse=Ob,Vd.isPM=Ub,Vd._meridiemParse=Hd,Vd.meridiem=Vb,w("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,c=1===q(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),a.lang=aa("moment.lang is deprecated. Use moment.locale instead.",w),a.langData=aa("moment.langData is deprecated. Use moment.localeData instead.",y);var Wd=Math.abs,Xd=yc("ms"),Yd=yc("s"),Zd=yc("m"),$d=yc("h"),_d=yc("d"),ae=yc("w"),be=yc("M"),ce=yc("y"),de=Ac("milliseconds"),ee=Ac("seconds"),fe=Ac("minutes"),ge=Ac("hours"),he=Ac("days"),ie=Ac("months"),je=Ac("years"),ke=Math.round,le={s:45,m:45,h:22,d:26,M:11},me=Math.abs,ne=Ha.prototype;ne.abs=oc,ne.add=qc,ne.subtract=rc,ne.as=wc,ne.asMilliseconds=Xd,ne.asSeconds=Yd,ne.asMinutes=Zd,ne.asHours=$d,ne.asDays=_d,ne.asWeeks=ae,ne.asMonths=be,ne.asYears=ce,ne.valueOf=xc,ne._bubble=tc,ne.get=zc,ne.milliseconds=de,ne.seconds=ee,ne.minutes=fe,ne.hours=ge,ne.days=he,ne.weeks=Bc,ne.months=ie,ne.years=je,ne.humanize=Fc,ne.toISOString=Gc,ne.toString=Gc,ne.toJSON=Gc,ne.locale=rb,ne.localeData=sb,ne.toIsoString=aa("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Gc),ne.lang=Cd,H("X",0,0,"unix"),H("x",0,0,"valueOf"),N("x",_c),N("X",bd),Q("X",function(a,b,c){c._d=new Date(1e3*parseFloat(a,10))}),Q("x",function(a,b,c){c._d=new Date(q(a))}),a.version="2.10.6",b(Da),a.fn=Od,a.min=Fa,a.max=Ga,a.utc=h,a.unix=Zb,a.months=jc,a.isDate=d,a.locale=w,a.invalid=l,a.duration=Ya,a.isMoment=o,a.weekdays=lc,a.parseZone=$b,a.localeData=y,a.isDuration=Ia,a.monthsShort=kc,a.weekdaysMin=nc,a.defineLocale=x,a.weekdaysShort=mc,a.normalizeUnits=A,a.relativeTimeThreshold=Ec;var oe=a;return oe}),function(){var a=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1},b=[].slice;!function(a,b){return"function"==typeof define&&define.amd?define("waypoints",["jquery"],function(c){return b(c,a)}):b(a.jQuery,a)}(window,function(c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;return e=c(d),l=a.call(d,"ontouchstart")>=0,h={horizontal:{},vertical:{}},i=1,k={},j="waypoints-context-id",o="resize.waypoints",p="scroll.waypoints",q=1,r="waypoints-waypoint-ids",s="waypoint",t="waypoints",f=function(){function a(a){var b=this;this.$element=a,this.element=a[0],this.didResize=!1,this.didScroll=!1,this.id="context"+i++,this.oldScroll={x:a.scrollLeft(),y:a.scrollTop()},this.waypoints={horizontal:{},vertical:{}},this.element[j]=this.id,k[this.id]=this,a.bind(p,function(){var a;return b.didScroll||l?void 0:(b.didScroll=!0,a=function(){return b.doScroll(),b.didScroll=!1},d.setTimeout(a,c[t].settings.scrollThrottle))}),a.bind(o,function(){var a;return b.didResize?void 0:(b.didResize=!0,a=function(){return c[t]("refresh"),b.didResize=!1},d.setTimeout(a,c[t].settings.resizeThrottle))})}return a.prototype.doScroll=function(){var a,b=this;return a={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}},!l||a.vertical.oldScroll&&a.vertical.newScroll||c[t]("refresh"),c.each(a,function(a,d){var e,f,g;return g=[],f=d.newScroll>d.oldScroll,e=f?d.forward:d.backward,c.each(b.waypoints[a],function(a,b){var c,e;return d.oldScroll<(c=b.offset)&&c<=d.newScroll?g.push(b):d.newScroll<(e=b.offset)&&e<=d.oldScroll?g.push(b):void 0}),g.sort(function(a,b){return a.offset-b.offset}),f||g.reverse(),c.each(g,function(a,b){return b.options.continuous||a===g.length-1?b.trigger([e]):void 0})}),this.oldScroll={x:a.horizontal.newScroll,y:a.vertical.newScroll}},a.prototype.refresh=function(){var a,b,d,e=this;return d=c.isWindow(this.element),b=this.$element.offset(),this.doScroll(),a={horizontal:{contextOffset:d?0:b.left,contextScroll:d?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:d?0:b.top,contextScroll:d?0:this.oldScroll.y,contextDimension:d?c[t]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}},c.each(a,function(a,b){return c.each(e.waypoints[a],function(a,d){var e,f,g,h,i;return e=d.options.offset,g=d.offset,f=c.isWindow(d.element)?0:d.$element.offset()[b.offsetProp],c.isFunction(e)?e=e.apply(d.element):"string"==typeof e&&(e=parseFloat(e),d.options.offset.indexOf("%")>-1&&(e=Math.ceil(b.contextDimension*e/100))),d.offset=f-b.contextOffset+b.contextScroll-e,d.options.onlyOnScroll&&null!=g||!d.enabled?void 0:null!==g&&g<(h=b.oldScroll)&&h<=d.offset?d.trigger([b.backward]):null!==g&&g>(i=b.oldScroll)&&i>=d.offset?d.trigger([b.forward]):null===g&&b.oldScroll>=d.offset?d.trigger([b.forward]):void 0})})},a.prototype.checkEmpty=function(){return c.isEmptyObject(this.waypoints.horizontal)&&c.isEmptyObject(this.waypoints.vertical)?(this.$element.unbind([o,p].join(" ")),delete k[this.id]):void 0},a}(),g=function(){function a(a,b,d){var e,f;"bottom-in-view"===d.offset&&(d.offset=function(){var a;return a=c[t]("viewportHeight"),c.isWindow(b.element)||(a=b.$element.height()),a-c(this).outerHeight()}),this.$element=a,this.element=a[0],this.axis=d.horizontal?"horizontal":"vertical",this.callback=d.handler,this.context=b,this.enabled=d.enabled,this.id="waypoints"+q++,this.offset=null,this.options=d,b.waypoints[this.axis][this.id]=this,h[this.axis][this.id]=this,e=null!=(f=this.element[r])?f:[],e.push(this.id),this.element[r]=e}return a.prototype.trigger=function(a){return this.enabled?(null!=this.callback&&this.callback.apply(this.element,a),this.options.triggerOnce?this.destroy():void 0):void 0},a.prototype.disable=function(){return this.enabled=!1},a.prototype.enable=function(){return this.context.refresh(),this.enabled=!0},a.prototype.destroy=function(){return delete h[this.axis][this.id],delete this.context.waypoints[this.axis][this.id],this.context.checkEmpty()},a.getWaypointsByElement=function(a){var b,d;return(d=a[r])?(b=c.extend({},h.horizontal,h.vertical),c.map(d,function(a){return b[a]})):[]},a}(),n={init:function(a,b){var d;return b=c.extend({},c.fn[s].defaults,b),null==(d=b.handler)&&(b.handler=a),this.each(function(){var a,d,e,h;return a=c(this),e=null!=(h=b.context)?h:c.fn[s].defaults.context,c.isWindow(e)||(e=a.closest(e)),e=c(e),d=k[e[0][j]],d||(d=new f(e)),new g(a,d,b)}),c[t]("refresh"),this},disable:function(){return n._invoke.call(this,"disable")},enable:function(){return n._invoke.call(this,"enable")},destroy:function(){return n._invoke.call(this,"destroy")},prev:function(a,b){return n._traverse.call(this,a,b,function(a,b,c){return b>0?a.push(c[b-1]):void 0})},next:function(a,b){return n._traverse.call(this,a,b,function(a,b,c){return b<c.length-1?a.push(c[b+1]):void 0})},_traverse:function(a,b,e){var f,g;return null==a&&(a="vertical"),null==b&&(b=d),g=m.aggregate(b),f=[],this.each(function(){var b;return b=c.inArray(this,g[a]),e(f,b,g[a])}),this.pushStack(f)},_invoke:function(a){return this.each(function(){var b;return b=g.getWaypointsByElement(this),c.each(b,function(b,c){return c[a](),!0})}),this}},c.fn[s]=function(){var a,d;return d=arguments[0],a=2<=arguments.length?b.call(arguments,1):[],n[d]?n[d].apply(this,a):c.isFunction(d)?n.init.apply(this,arguments):c.isPlainObject(d)?n.init.apply(this,[null,d]):d?c.error("The "+d+" method does not exist in jQuery Waypoints."):c.error("jQuery Waypoints needs a callback function or handler option.")},c.fn[s].defaults={context:d,continuous:!0,enabled:!0,horizontal:!1,offset:0,triggerOnce:!1},m={refresh:function(){return c.each(k,function(a,b){return b.refresh()})},viewportHeight:function(){var a;return null!=(a=d.innerHeight)?a:e.height()},aggregate:function(a){var b,d,e;return b=h,a&&(b=null!=(e=k[c(a)[0][j]])?e.waypoints:void 0),b?(d={horizontal:[],vertical:[]},c.each(d,function(a,e){return c.each(b[a],function(a,b){return e.push(b)}),e.sort(function(a,b){return a.offset-b.offset}),d[a]=c.map(e,function(a){return a.element}),d[a]=c.unique(d[a])}),d):[]},above:function(a){return null==a&&(a=d),m._filter(a,"vertical",function(a,b){return b.offset<=a.oldScroll.y})},below:function(a){return null==a&&(a=d),m._filter(a,"vertical",function(a,b){return b.offset>a.oldScroll.y})},left:function(a){return null==a&&(a=d),m._filter(a,"horizontal",function(a,b){return b.offset<=a.oldScroll.x})},right:function(a){return null==a&&(a=d),m._filter(a,"horizontal",function(a,b){return b.offset>a.oldScroll.x})},enable:function(){return m._invoke("enable")},disable:function(){return m._invoke("disable")},destroy:function(){return m._invoke("destroy")},extendFn:function(a,b){return n[a]=b},_invoke:function(a){var b;return b=c.extend({},h.vertical,h.horizontal),c.each(b,function(b,c){return c[a](),!0})},_filter:function(a,b,d){var e,f;return(e=k[c(a)[0][j]])?(f=[],c.each(e.waypoints[b],function(a,b){return d(e,b)?f.push(b):void 0}),f.sort(function(a,b){return a.offset-b.offset}),c.map(f,function(a){return a.element})):[]}},c[t]=function(){var a,c;return c=arguments[0],a=2<=arguments.length?b.call(arguments,1):[],m[c]?m[c].apply(null,a):m.aggregate.call(null,c)},c[t].settings={resizeThrottle:100,scrollThrottle:30},e.on("load.waypoints",function(){return c[t]("refresh")})})}.call(this);var gimme={apiKey:null,accessToken:null,get:function(a,b){this.apiKey||console.log("Need to set your API key. See docs: https://github.com/meetup/gimme");var c="https://api.meetup.com/",d=a.length,e=0,f={},b=b||!1,g=this;return new Promise(function(h,i){var j=function(a,b){for(var c=[],d=0;d<b.length;d++){for(var e=b[d],f=e.match,g=0;g<f.length;g++){var h,i;Array.isArray(f[g])?(h=f[g][0],i=f[g][1]):(h=f[g],i=f[g]),e.data||(e.data={}),e.data[i]=getDescendantProp(a,h)}c.push(e)}return c},k=function(a,b){f[b.key]=a,e++,e>=d&&h(f)},l=function(a,c){if(a.code&&console.log(a.code+": "+a.details),a.errors)for(var d=0;d<errors.length;d++){errors[d];console.log(code+": "+message)}var a=c.parse(a,c);if(c.children){var e=Array.isArray(a)?a.length:1,f=0,h=function(d){var h=j(d,c.children);g.get(h,b).then(function(b){for(var g in b)d[g]=b[g];f++,f>=e&&k(a,c)})};if(Array.isArray(a))for(var i=0;i<a.length;i++)h(a[i]);else h(a)}else k(a,c)};if(a.length>0)for(var m=0;m<a.length;m++){var n=merge(inventory[a[m].gimme](a[m].data),a[m]);n.key||(n.key=n.gimme);var o,p=c+n.method;o=g.accessToken?merge(n.data,{access_token:g.accessToken}):merge(n.data,{key:g.apiKey}),b?!function(a){JSONP(p,o,function(b){l(b,a)})}(n):!function(a){fetch(p+"?"+objectToQuerystring(o)).then(function(a){return a.text()}).then(function(a){return JSON.parse(a)}).then(function(b){return l(b,a)})["catch"](function(a){console.warn(a)})}(n)}else h({})},g)}},defaults={page:20,event_id:223601492,group_id:1227102,urlkey:"shutterbugexcursions",board_id:854675,member_id:95860782,event_status:"upcoming",event_desc:!1,zip:15205},inventory={event:function(a){var b=a.event_id||defaults.event_id;return delete a.event_id,{method:"2/event/"+b,parse:function(a){return a},data:{fields:"comment_count"}}},open_events:function(a){return{method:"2/open_events/",parse:function(a){return a.results},data:{zip:defaults.zip,page:defaults.page}}},dates_with_open_events:function(a){return{method:"2/open_events/",parse:function(a){var b=a.results,c=[],d=0;if(b&&b.length>0)for(var e=0;e<b.length;e++){var f=b[e];if(!moment(f.time).isSame(d,"day")){var g=moment(f.time).startOf("day");c.push({date:g,events:[]}),d=g}c[c.length-1].events.push(f)}return c},data:{zip:defaults.zip,page:2*defaults.page,order:"time",status:"upcoming"}}},events:function(a){return{method:"2/events/",parse:function(a){var b=a.results.map(function(a,b){return"undefined"!=typeof a.group.photos&&a.group.photos.length>0?(a.group.photo=a.group.photos[0].photo_link,a.group.photo_large=a.group.photos[0].highres_link):"undefined"!=typeof a.group.group_photo&&(a.group.photo=a.group.group_photo.photo_link,a.group.photo_large=a.group.group_photo.highres_link),a});return b},data:{group_id:defaults.group_id,page:defaults.page,status:defaults.event_status,limited_events:!0,text_format:"plain",fields:"venue_visibility,comment_count,photo_count,rsvp_rules,group_photo",desc:defaults.event_desc}}},events_meta:function(a){return{method:"2/events/",parse:function(a){return a.meta},data:{group_id:defaults.group_id,page:defaults.page,status:defaults.event_status,limited_events:!0,text_format:"plain",fields:"comment_count,photo_count,rsvp_rules",desc:defaults.event_desc}}},events_for_member:function(a){return{method:"2/events/",parse:function(a){return a.results},data:{member_id:defaults.member_id,page:defaults.page,limited_events:!0,text_format:"plain",fields:"venue"}}},event_comments:function(a){return{method:"2/event_comments/",parse:function(a){var b=a.results,c=[];return b&&b.length>0,c=b},data:{order:"thread",fields:"like_count,member_photo",page:defaults.page,event_id:defaults.event_id}}},rsvps:function(a){return{method:"2/rsvps",parse:function(a){var b=a.results.map(function(a,b){var c={id:a.member.member_id,name:a.member.name,match:a.member.name.toUpperCase()};return a.guests>0&&(c.guests=a.guests),0==b?c.host=!0:b>0&&2>=b?c.friend=!0:b>2&&4>=b&&(c.fof=!0),"undefined"!=typeof a.member&&"undefined"!=typeof a.member_photo&&(c.photo=a.member_photo.photo_link),c.index=b,c.response=a.response,c});return b},data:{event_id:defaults.event_id}}},recommended_groups:function(a){
return{method:"recommended/groups",parse:function(a){var b=a.map(function(a,b){return"undefined"!=typeof a.photos&&a.photos.length>0?(a.photo=a.photos[0].photo_link,a.photo_large=a.photos[0].highres_link):"undefined"!=typeof a.group_photo&&(a.photo=a.group_photo.photo_link,a.photo_large=a.group_photo.highres_link),a.description=a.description?a.description.replace(/<p>(&nbsp;)*<\/p>/g,""):"",a.events=[],a.relationship=null,a.index=b,a});return b},data:{zip:defaults.zip,fields:"photos,next_event,join_info"}}},find_groups:function(a){return{method:"find/groups",parse:function(a){var b=a.map(function(a,b){return"undefined"!=typeof a.photos&&a.photos.length>0?(a.photo=a.photos[0].photo_link,a.photo_large=a.photos[0].highres_link):"undefined"!=typeof a.group_photo&&(a.photo=a.group_photo.photo_link,a.photo_large=a.group_photo.highres_link),a.description=a.description?a.description.replace(/<p>(&nbsp;)*<\/p>/g,""):"",a.events=[],a.relationship=null,a.index=b,a});return b},data:{zip:defaults.zip,fields:"photos,next_event,join_info",order:"members"}}},groups:function(a){return{method:"2/groups",parse:function(a){var b=a.results.map(function(a,b){return"undefined"!=typeof a.photos&&a.photos.length>0?(a.photo=a.photos[0].photo_link,a.photo_large=a.photos[0].highres_link):"undefined"!=typeof a.group_photo&&(a.photo=a.group_photo.photo_link,a.photo_large=a.group_photo.highres_link),a.description=a.description?a.description.replace(/<p>(&nbsp;)*<\/p>/g,""):"",a.events=[],a.relationship=null,a.index=b,a});return b},data:{zip:defaults.zip,fields:"photos,next_event,join_info",order:"members"}}},group:function(a){return{method:"2/groups",parse:function(a){var b=a.results[0];return"undefined"!=typeof b.group_photo&&(b.logo=b.group_photo.photo_link),"undefined"!=typeof b.photos&&b.photos.length>0?b.photo=b.photos[0].photo_link:"undefined"!=typeof b.group_photo&&(b.photo=b.group_photo.photo_link),b},data:{page:1,fields:"photos,sponsors,topics,join_info,similar_groups,simple_html_description",group_id:defaults.group_id}}},photo_albums:function(a){return{method:"2/photo_albums",parse:function(a){return a.results},data:{group_id:defaults.group_id}}},photos:function(a){return{method:"2/photos",parse:function(a){return a.results},data:{group_id:defaults.group_id,fields:"member_photo"}}},members:function(a){return{method:"2/members",parse:function(a){var b=a.results;return b.sort(function(a,b){var c=a.bio?a.bio.length:0,d=b.bio?b.bio.length:0;return c>d?-1:d>c?1:0}),b=b.map(function(a,b){return a.match=a.name.toUpperCase(),"undefined"!=typeof a.photo&&"undefined"!=typeof a.photo.photo_link&&(a.photo=a.photo.photo_link),a.index=b,a})},data:{group_id:defaults.group_id,page:defaults.page,order:"visited",desc:!0}}},profile:function(a){var b=a.group_id||defaults.group_id,c=a.member_id||defaults.member_id;return{method:"2/profile/"+b+"/"+c,parse:function(a){return"undefined"!=typeof a.photo&&"undefined"!=typeof a.photo.photo_link&&(a.photo=a.photo.photo_link),a},data:{}}},member:function(a){var b=a.member_id||defaults.member_id;return{method:"2/member/"+b,parse:function(a){return"undefined"!=typeof a.photo&&"undefined"!=typeof a.photo.photo_link&&(a.photo=a.photo.photo_link),a},data:{fields:"membership_count"}}},topic_categories:function(a){return{method:"2/topic_categories/",parse:function(a){return a.results},data:{fields:"best_topics"}}},recommended_topics:function(a){return{method:"recommended/group_topics",parse:function(a){return a},data:{}}},categories:function(a){return{method:"2/categories/",parse:function(a){return a.results},data:{}}},dashboard:function(a){return{method:"dashboard",parse:function(a){return a},data:{}}},boards:function(a){var b=a.urlkey||defaults.urlkey;return{method:b+"/boards",parse:function(a,b){var c=a.data;return c=c.map(function(a,c){return a.urlkey=b.data.urlkey,a})},data:{}}},discussions:function(a){var b=a.urlkey||defaults.urlkey,c=a.board_id||defaults.board_id;return{method:b+"/boards/"+c+"/discussions",parse:function(a,b){var c=a.data;return c=c.map(function(a,c){a.urlkey=b.data.urlkey,a.body=a.body.replace(/\[(\w+)[^\]]*](.*?)\[\/\1]/g,"");return a})},data:{}}},posts:function(a){var b=a.urlkey||defaults.urlkey,c=a.board_id||defaults.board_id,d=a.discussion_id||0;return{method:b+"/boards/"+c+"/discussions/"+d,parse:function(a,b){var c=a.data;return c=c.map(function(a,c){if(a.urlkey=b.data.urlkey,a.body){a.body=a.body.replace(/\[(\w+)[^\]]*](.*?)\[\/\1]/g,"")}return a.likes=0,has_likes=Math.floor(2*Math.random()),1==has_likes&&(a.likes=Math.floor(9*Math.random())),a})},data:{}}},notifications:function(a){return{method:"notifications",parse:function(a){return a},data:{page:defaults.page}}},conversations:function(a){return{parse:function(){var a=[{name:"Bob Smeetup",photo:"http://api.randomuser.me/0.3/portraits/men/1.jpg",chattiness:3},{name:"Sally Smeetup",photo:"http://api.randomuser.me/0.3/portraits/women/1.jpg",chattiness:4},{name:"Mike",photo:"http://api.randomuser.me/0.3/portraits/men/2.jpg",chattiness:7},{name:"Jolene",photo:"http://api.randomuser.me/0.3/portraits/women/2.jpg",chattiness:5},{name:"Awesomedude3000",photo:"http://api.randomuser.me/0.3/portraits/men/3.jpg",chattiness:4},{name:"Pug Mama",photo:"http://api.randomuser.me/0.3/portraits/women/3.jpg",chattiness:6}],b=["Hey, it was great seeing you at the Meetup yesterday.","What's new? I just saw the movie you told me about","You weren't at the Meetup yesterday! I was looking all over for you.","Your dog is the cutest. Watch out or else I'll steal him LOL.","Good times, good times.","Today has been the longest day ever.","That book was really upsetting! I can't believe any of that real."],c=["Oh yeah?","That's really interesting. I was thinking the same thing, but I wasn't sure.","Wow, well that's something to think about for sure. Glad you mentioned it","I'm not entirely sure I agree, but it's possible.","Hahaha. Yeah, I guess that's true. What can you do, really?","I can't argue with that. ","Absolutely! I'm glad we agree","You know, this reminds me of the time that I hitchiked across Texas and I got stranded on the side of the road with nothing but two dollars and and a bag of doritos. Some days are just like that.","I'm glad we met."],d=["Oh wait, actually I'm not sure now.","LOL",":) Yep."],e=a.map(function(a,e){for(var f={messages:[],recipient:a},g=0;g<a.chattiness;g++){var h=g%2==0?a:!1,i=0==g?b:c,j=i[Math.floor(Math.random()*i.length)],k={author:h,content:[j]};if(5==g){var j=d[Math.floor(Math.random()*d.length)];k.content.push(j)}f.messages.push(k)}return f});return e},data:{}}}};"undefined"!=typeof module&&module.exports&&(module.exports=gimme),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):jQuery)}(function(a){function b(a){return h.raw?a:encodeURIComponent(a)}function c(a){return h.raw?a:decodeURIComponent(a)}function d(a){return b(h.json?JSON.stringify(a):String(a))}function e(a){0===a.indexOf('"')&&(a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return a=decodeURIComponent(a.replace(g," ")),h.json?JSON.parse(a):a}catch(b){}}function f(b,c){var d=h.raw?b:e(b);return a.isFunction(c)?c(d):d}var g=/\+/g,h=a.cookie=function(e,g,i){if(void 0!==g&&!a.isFunction(g)){if(i=a.extend({},h.defaults,i),"number"==typeof i.expires){var j=i.expires,k=i.expires=new Date;k.setTime(+k+864e5*j)}return document.cookie=[b(e),"=",d(g),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}for(var l=e?void 0:{},m=document.cookie?document.cookie.split("; "):[],n=0,o=m.length;o>n;n++){var p=m[n].split("="),q=c(p.shift()),r=p.join("=");if(e&&e===q){l=f(r,g);break}e||void 0===(r=f(r))||(l[q]=r)}return l};h.defaults={},a.removeCookie=function(b,c){return void 0===a.cookie(b)?!1:(a.cookie(b,"",a.extend({},c,{expires:-1})),!a.cookie(b))}}),function(a,b){if("function"==typeof define&&define.amd)define(["exports","module"],b);else if("undefined"!=typeof exports&&"undefined"!=typeof module)b(exports,module);else{var c={exports:{}};b(c.exports,c),a.autosize=c.exports}}(this,function(a,b){"use strict";function c(a){function b(){var b=window.getComputedStyle(a,null);m=b.overflowY,"vertical"===b.resize?a.style.resize="none":"both"===b.resize&&(a.style.resize="horizontal"),l="content-box"===b.boxSizing?-(parseFloat(b.paddingTop)+parseFloat(b.paddingBottom)):parseFloat(b.borderTopWidth)+parseFloat(b.borderBottomWidth),isNaN(l)&&(l=0),e()}function c(b){var c=a.style.width;a.style.width="0px",a.offsetWidth,a.style.width=c,m=b,k&&(a.style.overflowY=b),d()}function d(){var b=window.pageYOffset,c=document.body.scrollTop,d=a.style.height;a.style.height="auto";var e=a.scrollHeight+l;return 0===a.scrollHeight?void(a.style.height=d):(a.style.height=e+"px",n=a.clientWidth,document.documentElement.scrollTop=b,void(document.body.scrollTop=c))}function e(){var b=a.style.height;d();var e=window.getComputedStyle(a,null);if(e.height!==a.style.height?"visible"!==m&&c("visible"):"hidden"!==m&&c("hidden"),b!==a.style.height){var f=document.createEvent("Event");f.initEvent("autosize:resized",!0,!1),a.dispatchEvent(f)}}var g=void 0===arguments[1]?{}:arguments[1],h=g.setOverflowX,i=void 0===h?!0:h,j=g.setOverflowY,k=void 0===j?!0:j;if(a&&a.nodeName&&"TEXTAREA"===a.nodeName&&!f.has(a)){var l=null,m=null,n=a.clientWidth,o=function(){a.clientWidth!==n&&e()},p=function(b){window.removeEventListener("resize",o,!1),a.removeEventListener("input",e,!1),a.removeEventListener("keyup",e,!1),a.removeEventListener("autosize:destroy",p,!1),a.removeEventListener("autosize:update",e,!1),f["delete"](a),Object.keys(b).forEach(function(c){a.style[c]=b[c]})}.bind(a,{height:a.style.height,resize:a.style.resize,overflowY:a.style.overflowY,overflowX:a.style.overflowX,wordWrap:a.style.wordWrap});a.addEventListener("autosize:destroy",p,!1),"onpropertychange"in a&&"oninput"in a&&a.addEventListener("keyup",e,!1),window.addEventListener("resize",o,!1),a.addEventListener("input",e,!1),a.addEventListener("autosize:update",e,!1),f.add(a),i&&(a.style.overflowX="hidden",a.style.wordWrap="break-word"),b()}}function d(a){if(a&&a.nodeName&&"TEXTAREA"===a.nodeName){var b=document.createEvent("Event");b.initEvent("autosize:destroy",!0,!1),a.dispatchEvent(b)}}function e(a){if(a&&a.nodeName&&"TEXTAREA"===a.nodeName){var b=document.createEvent("Event");b.initEvent("autosize:update",!0,!1),a.dispatchEvent(b)}}var f="function"==typeof Set?new Set:function(){var a=[];return{has:function(b){return Boolean(a.indexOf(b)>-1)},add:function(b){a.push(b)},"delete":function(b){a.splice(a.indexOf(b),1)}}}(),g=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?(g=function(a){return a},g.destroy=function(a){return a},g.update=function(a){return a}):(g=function(a,b){return a&&Array.prototype.forEach.call(a.length?a:[a],function(a){return c(a,b)}),a},g.destroy=function(a){return a&&Array.prototype.forEach.call(a.length?a:[a],d),a},g.update=function(a){return a&&Array.prototype.forEach.call(a.length?a:[a],e),a}),b.exports=g});var Dialog=function(a){this.$el=null,this.primaryAction=null,this.current_view=null,this.showing=!1,this.show(a)};Dialog.prototype={show:function(a){var b=this,c=function(){b.current_view=this,b.showing=!0,this.on({action:function(a){b.primaryAction.call(b,a)},hide_dialog:function(){b.hide()}}),b.last_scrollTop=$(window).scrollTop(),b.$el.show(),$(".shade").show(),b.$el.css({top:b.last_scrollTop}),setTimeout(function(){b.$el.removeClass("off"),$(".shade").removeClass("off")},1)},d=function(){b.current_view=null,b.showing=!1,b.$el.detach(),$(".shade").addClass("off"),$(".shade").one(transitionEnd,function(){$(this).hide()})};a.primaryAction&&(this.primaryAction=a.primaryAction.fn),this.$el=$('<div class="dialog view off"></div>'),$("body").append(this.$el),this.current_view=new Components.Dialog({el:this.$el,data:a,magic:!0,noIntro:!0,oncomplete:c,onteardown:d}),$(window).one("resize",function(){b.hide()})},hide:function(){var a=this;a.$el.addClass("off"),a.$el.one(transitionEnd,function(){a.current_view.teardown()})}};var Momentary=function(a){this.$el=null,this.actions=null,this.current_view=null,this.showing=!1,this.show(a)};Momentary.prototype={show:function(a){var b=this,c=function(){b.current_view=this,b.showing=!0,this.on({action:function(a){b.actions[a.node.dataset.action].call(b,a)},hide_momentary:function(){b.hide()}}),setTimeout(function(){b.$el.removeClass("off")},1)},d=function(){b.current_view=null,b.showing=!1,b.$el.detach(),$(".overlayScreen").detach()};if(this.actions={},a.buttons&&a.buttons.length>0)for(var e=0;e<a.buttons.length;e++)a.buttons[e].action="action"+e,this.actions[a.buttons[e].action]=a.buttons[e].fn;this.$el=$('<div class="momentary momentary-'+a.type+' off"></div>');var f=$('<div class="overlayScreen"></div>');if($("body").append(this.$el,f),f.on("click",function(){b.hide()}),this.current_view=new Components.Momentary({el:this.$el,data:a,magic:!0,noIntro:!0,oncomplete:c,onteardown:d}),a.$target&&"popover"===a.type){var g=this.$el.width(),h=a.$target.offset(),i=a.$target.outerWidth(),j=a.$target.outerHeight(),k=$(window).width();$("body").hasClass("android")?h.left<k/2?this.$el.css({left:h.left,top:h.top}).addClass("top-left"):this.$el.css({left:h.left-g+i,top:h.top}).addClass("top-right"):h.left<k/2?this.$el.css({left:h.left+i/2,top:h.top+j}).addClass("top-left"):this.$el.css({left:h.left+i/2-g,top:h.top+j}).addClass("top-right"),$(window).one("resize",function(){b.hide()})}},hide:function(){var a=this;a.$el.addClass("off"),a.$el.one(transitionEnd,function(){a.current_view.teardown()}),console.log("hide firing")}};var Nav=function(a){this.$el=null,this.current_view=null,this.show(a)};Nav.prototype={show:function(a){var b=this,c=function(){b.current_view=this,b.showing=!0,this.on({action:function(a){b.actions[a.node.dataset.action].call(b,a)},hide_nav:function(a){b.hide(a)}}),setTimeout(function(){$("#main").waypoint({handler:function(a){$(".view-head").toggleClass("view-head--sticky")}})},1)},d=function(){b.current_view=null,b.showing=!1,b.$el.detach()};this.$el=$('<nav class="mainNav row"></nav>'),$("body").addClass("hasNav").prepend(this.$el),this.current_view=new Components.Nav({el:this.$el,data:a,magic:!0,noIntro:!0,oncomplete:c,onteardown:d})},hide:function(){this.$el.hide(),$("body").removeClass("hasNav"),this.showing=!1}};var Sysmsg=function(a){this.$el=null,this.actions=null,this.current_view=null,this.showing=!1,this.show(a)};Sysmsg.prototype={show:function(a){var b=this,c=function(){b.current_view=this,b.showing=!0,this.on({action:function(a){b.actions[a.node.dataset.action].call(b,a)},hide_sysmsg:function(a){b.hide(a)}}),setTimeout(function(){$("#main").waypoint({handler:function(a){$(".view-head").toggleClass("view-head--sticky")}})},1)},d=function(){b.current_view=null,b.showing=!1,b.$el.detach()};if(this.actions={},a.buttons&&a.buttons.length>0)for(var e=0;e<a.buttons.length;e++)a.buttons[e].action="action"+e,this.actions[a.buttons[e].action]=a.buttons[e].fn;this.$el=$('<div class="sysmsg collapsable collapsable--grow"></div>'),$("body").addClass("hasSysMsg").prepend(this.$el),this.current_view=new Components.Sysmsg({el:this.$el,data:a,magic:!0,noIntro:!0,oncomplete:c,onteardown:d})},hide:function(a){var b=this;return b.$el.removeClass("collapsable--grow").addClass("collapsable--shrink"),b.$el.one(transitionEnd,function(){b.current_view.teardown(),$("body").removeClass("hasSysMsg")}),!1}};var Toast=function(a){this.$el=null,this.action=null,this.current_view=null,this.isHovered=!1,this.show(a)};Toast.prototype={show:function(a){var b=this,c=function(){b.current_view=this,this.on({action:function(a){b.action.call(b,a)}}),b.$el.on("mouseenter",".toast-content",function(){b.isHovered=!0}).on("mouseleave",".toast-content",function(){b.isHovered=!1,b.hide()}),setTimeout(function(){b.$el.removeClass("off")},1),setTimeout(function(){!b.isHovered&&a.button&&b.hide()},3e3)},d=function(){b.current_view=null,b.$el.detach()};a.button&&(this.action=a.button.fn),this.$el=$('<div class="toast off"></div>'),$("body").append(this.$el),this.current_view=new Components.Toast({el:this.$el,data:a,oncomplete:c,onteardown:d})},hide:function(){var a=this;a.$el.addClass("off"),a.$el.one(transitionEnd,function(){a.current_view.teardown()})}};var View=function(a,b,c){this.data=b,this.type=c||"default",this.id=a,this.$el=null,this.open=!1,this.body_id=a+"_body",this.$body=null,this.current_view=null,this.current_href=null,this.header_id=a+"_header",this.$header=null,this.header_view=null,this.header_actions=null,this.header_data={},this.search_onkeyup=function(){},this.search_onsubmit=function(){},this.cancel_action=function(){},this.init()};View.prototype={setup_dom:function(){this.$header=$('<header id="'+this.header_id+'" class="view-head row inverted"></header>'),this.$body=$('<div id="'+this.body_id+'" class="view-body"></div>'),this.$el=$('<div id="'+this.id+'" class="view"></div>').append(this.$header,this.$body),this.set_type(),$("body").append(this.$el)},set_type:function(){switch(this.type){case"split":this.$el.addClass("view--splitList");break;case"modal-full":this.$el.addClass("view--modal-full off").hide();break;case"media":this.$el.addClass("view--modal-full view--media off").hide();break;case"modal-snap":this.$el.addClass("view--modal-snap off").hide()}},show:function(a,b){function c(){if(e=f.$el.find(".stripe--hero, .stripe--photoHero").first(),e.length>0){var a=e.hasClass("stripe--photoHero")&&!e.hasClass("photoHero--noPhoto")?"view-head--transparent view-head--photoOverlay":"view-head--transparent";f.$header.addClass(a),e.waypoint({handler:function(b){"up"==b?f.$header.addClass(a):f.$header.removeClass(a)},offset:function(){return-1*$(this).height()}})}else f.$header.removeClass("view-head--transparent view-head--photoOverlay");defaultRenderCompleteActions(f.$el),b()}function d(){e.waypoint("destroy"),f.$header.removeClass("has-hero has-hero-photo")}var e,f=this,b=b||function(){};return this.current_href==location.href?(c(),console.log("same url"),!1):(this.current_href=location.href,this.teardown(),this.current_view=new Ractive({el:"#"+this.body_id,template:"#"+a,data:this.data,magic:!0,noIntro:!0,onrender:c,onteardown:d}),this.open=!0,!0)},teardown:function(){this.current_view&&this.current_view.teardown()},update_header:function(a){this.set_mode();var a=a||{};if(this.header_data.title=a.title||"",this.header_data.subtitle=a.subtitle||"",this.header_data.subtitleLink=a.subtitleLink||"",this.header_data.intro=a.intro||"",this.header_data.isRoot=a.isRoot||!1,this.header_data.platform=this.data.platform,a.search?(this.header_data.search=a.search,this.search_onkeyup=a.search.onkeyup||function(){console.log("keyup")},this.search_onsubmit=a.search.onsubmit||function(){console.log("submit")}):(this.header_data.search=!1,this.search_onkeyup=function(){console.log("keyup")},this.search_onsubmit=function(){console.log("submit")}),a.cancelMode?(this.header_data.cancelMode=a.cancelMode,this.cancel_action=a.cancelMode.fn||function(){console.log("no action for cancel defined")}):(this.header_data.cancelMode=!1,this.cancel_action=function(){console.log("no action for cancel defined")}),this.header_actions={},this.header_data.buttons=[],a.buttons&&a.buttons.length>0)for(var b=0;b<a.buttons.length;b++)a.buttons[b].action="action"+b,this.header_data.buttons.push(a.buttons[b]),this.header_actions[a.buttons[b].action]=a.buttons[b].fn},set_mode:function(a){switch(a){case"search":this.$el.addClass("view--searchMode");break;default:this.$el.removeClass("view--searchMode")}},init:function(){this.setup_dom(),this.header_data={title:"",subtitle:"",subtitleLink:"",isRoot:!1,platform:"",buttons:[],cancelMode:{},search:{}},this.header_view=new Components.Header({el:"#"+this.header_id,data:this.header_data,magic:!0,noIntro:!0});var a=this;this.header_view.on({action:function(b){a.header_actions[b.node.dataset.action].call(a,b)},openSearch:function(b){a.set_mode("search")},closeSearch:function(b){a.set_mode()},searchKeyUp:function(b){a.search_onkeyup(b.node.value)},searchSubmit:function(b){return a.search_onsubmit(a.header_view.find("input.search").value),!1},cancelAction:function(b){a.cancel_action()}})}};var Components={},ViewManager=function(a){this.oninit=a||function(){},this.data={},this._main=null,this._modal=null,this._media=null,this._split=null,this._momentary=null,this._toast=null,this._dialog=null,this._sysmsg=null,this._nav=null,this._$shade=null,this.last_scrollTop=0;var b=this;Ractive.load({Header:"/shared-templates/header.html",Nav:"/shared-templates/nav.html",Momentary:"/shared-templates/momentary.html",Toast:"/shared-templates/toast.html",Dialog:"/shared-templates/dialog.html",Sysmsg:"/shared-templates/sysmsg.html"}).then(function(a){Components=a,b.init()})};ViewManager.prototype={show:function(a){this.modal_hide(),this.split_hide(),this.media_hide(),this._main.show(a.template)&&(a.events&&this._main.current_view.on(a.events),a.observe&&this._main.current_view.observe(a.observe),a.header&&this._main.update_header(a.header),$(window).scrollTop(0))},split_show:function(a,b){this.modal_hide(),this.media_hide(),this._split.$el.removeClass("off"),this._split.show(a.template)&&(a.events&&this._split.current_view.on(a.events),a.observe&&this._split.current_view.observe(a.observe),a.header&&this._split.update_header(a.header)),this._main.$el.addClass("view--splitDetail focus"),this._main.show(b.template)&&(b.events&&this._main.current_view.on(b.events),b.observe&&this._main.current_view.observe(b.observe),b.header&&this._main.update_header(b.header))},split_hide:function(){this._main.$el.removeClass("view--splitDetail").removeClass("focus"),this._split.$el.addClass("off").removeClass("focus"),this._split.teardown(),this._split.current_href=null},focus:function(a){switch(a){case"split":this._main.$el.removeClass("focus"),this._split.$el.addClass("focus");break;default:this._main.$el.addClass("focus"),this._split.$el.removeClass("focus")}$(window).scrollTop(0)},modal_show:function(a){var b=this;this.momentary_hide();var c=function(){b.last_scrollTop=$(window).scrollTop(),b._modal.$el.show(),b._$shade.show(),b._modal.$el.css({top:b.last_scrollTop}),setTimeout(function(){if(b._modal.$el.removeClass("off"),b._$shade.removeClass("off"),a.modalType){var c="view--modal",d=b._modal.$el[0].className.split(" ").filter(function(a){return 0!==a.lastIndexOf(c,0)});b._modal.$el[0].className=$.trim(d.join(" "))+" view--modal-"+a.modalType}},100)};this._modal.show(a.template,c)&&(a.events&&this._modal.current_view.on(a.events),a.observe&&this._modal.current_view.observe(a.observe),a.header&&this._modal.update_header(a.header))},modal_hide:function(){var a=this;this._modal&&this._modal.open&&(this._modal.open=!1,$(window).scrollTop(a.last_scrollTop),this._modal.$el.addClass("off"),this._modal.$el.one(transitionEnd,function(){a._modal.$el.hide(),a._modal.current_view&&(a._modal.teardown(),a._modal.current_href=null)}),this.momentary_hide(),this._$shade.addClass("off"),this._$shade.one(transitionEnd,function(){$(this).hide()}))},media_show:function(a){var b=this;this.modal_hide(),this.momentary_hide();var c=function(){b.last_scrollTop=$(window).scrollTop(),b._media.$el.show(),b._media.$el.css({top:b.last_scrollTop}),setTimeout(function(){b._media.$el.removeClass("off")},100)};this._media.show(a.template,c)&&(a.events&&this._media.current_view.on(a.events),a.observe&&this._media.current_view.observe(a.observe),a.header&&this._media.update_header(a.header))},media_hide:function(){var a=this;this._media&&this._media.open&&(this._media.open=!1,$(window).scrollTop(a.last_scrollTop),this._media.$el.addClass("off"),this._media.$el.one(transitionEnd,function(){a._media.$el.hide(),a._media.current_view&&(a._media.teardown(),a._media.current_href=null)}),this.momentary_hide())},momentary_show:function(a){var a=a||{};this.momentary_hide(),this._momentary=new Momentary(a)},momentary_hide:function(){this._momentary&&(this._momentary.hide(),this._momentary=null)},dialog_show:function(a){var a=a||{};this.momentary_hide(),this.dialog_hide(),this._dialog=new Dialog(a)},dialog_hide:function(){this._dialog&&(this._dialog.hide(),this._dialog=null)},sysmsg_show:function(a){var a=a||{};this._sysmsg=new Sysmsg(a)},sysmsg_hide:function(){this._sysmsg&&(this._sysmsg.hide(),this._sysmsg=null)},handle_dialog_outclick:function(a){return this._dialog&&this._dialog.showing?void(this._dialog.$el.is(a.target)||0!==this._dialog.$el.has(a.target).length||this.dialog_hide()):!1},toast_show:function(a){var a=a||{};this._toast=new Toast(a)},nav_show:function(a){var a=a||{};this._nav=new Nav(a)},handle_modal_outclick:function(a){return this._modal.open?void(this._modal.$el.is(a.target)||0!==this._modal.$el.has(a.target).length||(this.modal_hide(),this._media.open?this.back():this.escape())):!1},handle_momentary_outclick:function(a){return this._momentary&&this._momentary.showing?void(this._momentary.$el.is(a.target)||0!==this._momentary.$el.has(a.target).length||this.momentary_hide()):!1},escape:function(){location.hash="#!/"},back:function(){window.history.back()},init:function(){this.data.platform=$.cookie("platform")||"web",$("body").addClass(this.data.platform),this._main=new View("main",this.data),this._media=new View("media",this.data,"media"),this._modal=new View("modal",this.data,"modal-snap"),this._split=new View("split",this.data,"split"),this._$shade=$('<div class="shade off"><div class="x">close</div></div>').appendTo("body").hide();var a=this;$.each([this._main,this._split,this._modal,this._media],function(b,c){c.header_view.on({back:function(b){return a.back(),!1},escape:function(b){return a.escape(),!1}})});var a=this;$(document).click(function(b){a.handle_modal_outclick(b),a.handle_momentary_outclick(b),a.handle_dialog_outclick(b)}),this.oninit()}},Ractive.defaults.data.helpers={};var helpers=Ractive.defaults.data.helpers;helpers.dateFormat=function(a,b){if(window.moment){var c=b||"MMM Do, YYYY";return moment(a).format(c)}return a},helpers.dateRelative=function(a){return window.moment?moment(a).fromNow():a},helpers.linkify=function(a){var b=/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi;return a.replace(b,"<a href='$1'>$1</a>")},helpers.random=function(a,b){return Math.floor(Math.random()*(b-a))+a},helpers.numberFormat=function(a){var b=a.toString().split(".");return b[0]=b[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),b.join(".")},helpers.truncate=function(a,b){if(a.length>b&&a.length>0){var c=a+" ";return c=a.substr(0,b),c=a.substr(0,c.lastIndexOf(" ")),c=c.length>0?c:a.substr(0,b),c+"..."}return a},helpers.truncateMean=function(a,b){if(a.length>b){for(var c=a.substr(0,b+1);c.length;){var d=c.substr(-1);if(c=c.substr(0,-1)," "==d)break}return""==c&&(c=a.substr(0,b)),c+"..."}return a},helpers.json=function(a){return JSON.stringify(a)},helpers.times=function(a){return array[a]},helpers.whoDid=function(a,b){var c=a[0].name;if(2==b)c+=" and "+a[1].name;else if(b>2){var d=b-1;c+=" and "+d+" others"}return console.log(c),c},helpers.svgIcon=function(a,b){"undefined"==typeof b&&(a=a,c=null);var c=b?b:"",d='<svg class="icon icon-'+a+" "+c+'"><use xlink:href="#icon-'+a+'"/></svg>';return d},$.fn.exactlist=function(){return this.each(function(){var a=$(this).find(" > li:first"),b=Math.ceil(a[0].getBoundingClientRect().height),c=$('<div class="exactlist-wrap" />');c.css({height:Math.ceil(b)}),$(this).wrap(c)})},$.fn.hscroll=function(){return this.each(function(){if(!$(this).data("init")){var a=$(this).find(" > li:first");$(this).find(" > li:visible").length,a.height(),a.outerWidth(!0),$(this).data("rows")||1;$(this).wrap('<div class="hscroll-wrap-wrap" />').wrap('<div class="hscroll-wrap" />'),$(this).data("init",!0)}$(this).parents(".hscroll-wrap").on("scroll",function(){$(this).scrollLeft()>0?$(this).siblings(".hscroll-prev").removeClass("none"):$(this).siblings(".hscroll-prev").addClass("none")})})},$.fn.tabs=function(){function a(a,b){$(a.data("tab-selectors")).hide(),$("#"+b.data("show")).show(),a.find("li").removeClass("selected"),b.addClass("selected")}return this.each(function(){function b(){var b=$(window).width();!e||"handheld"==e&&500>=b||"medium"==e&&900>=b?(c.show(),a(c,c.find("li.selected:first"))):($(c.data("tab-selectors")).show(),c.hide())}var c=$(this),d=[],e=c.data("activesize");c.find("li").each(function(){d.push("#"+$(this).data("show"))}),c.data("tab-selectors",d.join(",")),c.delegate("li","click",function(){a(c,$(this))}),b(),$(window).resize(b)})},Ractive.transitions.scale=function(a,b){var c={duration:160,easing:"ease-out",from:0,to:1};b=a.processParams(b,c),b.duration=160;var d="scale("+b.to+")",e="scale("+b.from+")",f={};a.isIntro&&a.setStyle("transform",e),setTimeout(function(){f.transform=a.isIntro?d:e,a.animateStyle(f,b).then(a.complete)},1)},Ractive.transitions.scaleFlash=function(a,b){var c={duration:160,easing:"ease-out",from:0,to:1};b=a.processParams(b,c),b.duration=160;var d="scale("+b.to+")",e="scale("+b.from+")",f={transform:d,background:"rgba(255,255,255,0)",boxShadow:"0 0 0 20px rgba(255,255,255,0)"};a.isIntro&&a.setStyle({transform:e,borderRadius:"999px",boxShadow:"0 0 0 0 rgba(255,255,255,.8)",background:"rgba(255,255,255,.8)",transitionDelay:"400ms"}),setTimeout(function(){a.animateStyle(f,b).then(a.complete)},1)},Ractive.transitions["float"]=function(a,b){var c={duration:160,easing:"ease-out",fade:!0,distance:48};if(b=a.processParams(b,c),b.duration=125,a.isIntro){a.setStyle({transform:"translateY("+b.distance+"px)",opacity:0});var d={transform:"translateY(0)",opacity:1}}else var d={height:0,transform:"translateY(-"+b.distance+"px)",opacity:0};setTimeout(function(){a.animateStyle(d,b).then(a.complete)},1)};var transitionEnd=whichTransitionEvent();$.ajaxPrefilter(function(a,b,c){function d(){var a="modernizr";try{return localStorage.setItem(a,a),localStorage.removeItem(a),!0}catch(b){return!1}}if(d()&&a.localCache){var e=a.cacheTTL||5,f=a.cacheKey||a.url.replace(/jQuery.*/,"")+a.type+(a.data||"");a.isCacheValid&&!a.isCacheValid()&&localStorage.removeItem(f);var g=localStorage.getItem(f+"cachettl");g&&g<+new Date&&(localStorage.removeItem(f),localStorage.removeItem(f+"cachettl"),g="expired");var h=localStorage.getItem(f);h?(0===a.dataType.indexOf("json")&&(h=JSON.parse(h)),a.success(h),c.abort()):(a.success&&(a.realsuccess=a.success),a.success=function(b){var c=b;0===this.dataType.indexOf("json")&&(c=JSON.stringify(b));try{localStorage.setItem(f,c)}catch(d){localStorage.removeItem(f),localStorage.removeItem(f+"cachettl"),a.cacheError&&a.cacheError(d,f,c)}a.realsuccess&&a.realsuccess(b)},g&&"expired"!==g||localStorage.setItem(f+"cachettl",+new Date+36e5*e))}});
//# sourceMappingURL=depends.min.js.map