function renderNavigation(){$(".mainNav").length<1&&views.nav_show({loggedIn:!0,isModern:!1})}function topicFuzzySearch(a){var b=document.getElementById("suggestedTopicArea"),c=document.getElementById("results");13===a.original.keyCode||a.node.value.length>=2?(b.classList?b.classList.add("display--none"):b.className+=" display--none",c.classList?c.classList.remove("display--none"):c.className=c.className.replace(new RegExp("(^|\\b)"+className.split(" ").join("|")+"(\\b|$)","gi")," ")):b.classList?b.classList.remove("display--none"):b.className=b.className.replace(new RegExp("(^|\\b)"+className.split(" ").join("|")+"(\\b|$)","gi")," ")}function cityFuzzySearch(a){for(var b=document.querySelectorAll(".js-locationList"),c=document.getElementById("cityResults"),d=0;d<b.length;d++)13===a.original.keyCode||a.node.value.length>=2?(b[d].classList?b[d].classList.add("display--none"):b[d].className+=" display--none",c.classList?c.classList.remove("display--none"):c.className=c.className.replace(new RegExp("(^|\\b)"+className.split(" ").join("|")+"(\\b|$)","gi")," ")):b[d].classList?(b[d].classList.remove("display--none"),c.className+=" display--none"):b[d].className=b[d].className.replace(new RegExp("(^|\\b)"+className.split(" ").join("|")+"(\\b|$)","gi")," ")}function moreLargest(a){a.original.preventDefault(),alert("show 10 more. coming soon to prototype")}function cityClick(a){var b=a.node.dataset.city;a.original.preventDefault(),alert("go to "+b+" Find page\nuntil we launch local topic pages")}function processHash(){var a=location.hash||"#!/";router.run(a.substr(2))}function getParameterByName(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b=new RegExp("[\\?&]"+a+"=([^&#]*)"),c=b.exec(location.search);return null==c?"":decodeURIComponent(c[1].replace(/\+/g," "))}var views=new ViewManager(function(){gimme.apiKey="7060231d422c3421e3c13406e606631";var a=(getParameterByName("mugID")||1579989,getParameterByName("mupID")||223601492,getParameterByName("topic")||"hiking"),b=638,c=getParameterByName("lat")||52.5167,d=getParameterByName("lon")||13.3833,e=[{gimme:"groups",key:"localGroups",data:{lat:c,lon:d,topic:a,page:4},children:[{gimme:"events",data:{page:1},match:[["id","group_id"]]}]},{gimme:"groups",key:"globalGroups",data:{topic:a,page:20,zip:""}},{gimme:"groups",key:"newestGroups",data:{topic:a,page:6,order:"id",desc:!0,zip:""}},{gimme:"topic_categories",key:"sugTopics",data:{lat:c,lon:d,radius:50}},{gimme:"recommended_topics",key:"relatedTopics",data:{other_topics:b,page:10}}];gimme.get(e,!0).then(function(a){$.extend(views.data,a),window.addEventListener("hashchange",processHash),processHash(),console.log(views.data)})}),router=new Rlite;router.add("",function(a){views.show({template:"main-template",events:{renderNavigation:renderNavigation(),moreLargest:moreLargest,cityClick:cityClick},observe:{},header:{title:"Hiking Meetups",subtitle:"Global > Germany > Berlin"}}),$(".js-fndTextTrunc").each(function(){var a=$(this);ellipsis(a,7,{wrapWith:"<p>",more:!0,title:!1})}),$(document.body).on("click","[data-ellipsis-applied] [data-toggle-ellipsis]",function(a){toggleEllipsis(a)})}),router.add("change-topic",function(a){views.modal_show({template:"changeTopic",events:{topicFuzzySearch:topicFuzzySearch},observe:{},header:{title:"Browse topics"}})}),router.add("change-location",function(a){views.modal_show({template:"changeLocation",events:{cityFuzzySearch:cityFuzzySearch},observe:{},header:{title:"Change location"}})});
//# sourceMappingURL=scripts.min.js.map